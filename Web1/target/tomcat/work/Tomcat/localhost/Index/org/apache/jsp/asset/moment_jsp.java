/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2020-06-14 12:27:32 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.asset;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class moment_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("//! moment.js\r\n");
      out.write("//! version : 2.26.0\r\n");
      out.write("//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\r\n");
      out.write("//! license : MIT\r\n");
      out.write("//! momentjs.com\r\n");
      out.write("\r\n");
      out.write(";(function (global, factory) {\r\n");
      out.write("typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\r\n");
      out.write("typeof define === 'function' && define.amd ? define(factory) :\r\n");
      out.write("global.moment = factory()\r\n");
      out.write("}(this, (function () { 'use strict';\r\n");
      out.write("\r\n");
      out.write("var hookCallback;\r\n");
      out.write("\r\n");
      out.write("function hooks() {\r\n");
      out.write("return hookCallback.apply(null, arguments);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// This is done to register the method called with moment()\r\n");
      out.write("// without creating circular dependencies.\r\n");
      out.write("function setHookCallback(callback) {\r\n");
      out.write("hookCallback = callback;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isArray(input) {\r\n");
      out.write("return (\r\n");
      out.write("input instanceof Array ||\r\n");
      out.write("Object.prototype.toString.call(input) === '[object Array]'\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isObject(input) {\r\n");
      out.write("// IE8 will treat undefined and null as object if it wasn't for\r\n");
      out.write("// input != null\r\n");
      out.write("return (\r\n");
      out.write("input != null &&\r\n");
      out.write("Object.prototype.toString.call(input) === '[object Object]'\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function hasOwnProp(a, b) {\r\n");
      out.write("return Object.prototype.hasOwnProperty.call(a, b);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isObjectEmpty(obj) {\r\n");
      out.write("if (Object.getOwnPropertyNames) {\r\n");
      out.write("return Object.getOwnPropertyNames(obj).length === 0;\r\n");
      out.write("} else {\r\n");
      out.write("var k;\r\n");
      out.write("for (k in obj) {\r\n");
      out.write("if (hasOwnProp(obj, k)) {\r\n");
      out.write("return false;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("return true;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isUndefined(input) {\r\n");
      out.write("return input === void 0;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isNumber(input) {\r\n");
      out.write("return (\r\n");
      out.write("typeof input === 'number' ||\r\n");
      out.write("Object.prototype.toString.call(input) === '[object Number]'\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isDate(input) {\r\n");
      out.write("return (\r\n");
      out.write("input instanceof Date ||\r\n");
      out.write("Object.prototype.toString.call(input) === '[object Date]'\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function map(arr, fn) {\r\n");
      out.write("var res = [],\r\n");
      out.write("i;\r\n");
      out.write("for (i = 0; i < arr.length; ++i) {\r\n");
      out.write("res.push(fn(arr[i], i));\r\n");
      out.write("}\r\n");
      out.write("return res;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function extend(a, b) {\r\n");
      out.write("for (var i in b) {\r\n");
      out.write("if (hasOwnProp(b, i)) {\r\n");
      out.write("a[i] = b[i];\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (hasOwnProp(b, 'toString')) {\r\n");
      out.write("a.toString = b.toString;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (hasOwnProp(b, 'valueOf')) {\r\n");
      out.write("a.valueOf = b.valueOf;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return a;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function createUTC(input, format, locale, strict) {\r\n");
      out.write("return createLocalOrUTC(input, format, locale, strict, true).utc();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function defaultParsingFlags() {\r\n");
      out.write("// We need to deep clone this object.\r\n");
      out.write("return {\r\n");
      out.write("empty: false,\r\n");
      out.write("unusedTokens: [],\r\n");
      out.write("unusedInput: [],\r\n");
      out.write("overflow: -2,\r\n");
      out.write("charsLeftOver: 0,\r\n");
      out.write("nullInput: false,\r\n");
      out.write("invalidEra: null,\r\n");
      out.write("invalidMonth: null,\r\n");
      out.write("invalidFormat: false,\r\n");
      out.write("userInvalidated: false,\r\n");
      out.write("iso: false,\r\n");
      out.write("parsedDateParts: [],\r\n");
      out.write("era: null,\r\n");
      out.write("meridiem: null,\r\n");
      out.write("rfc2822: false,\r\n");
      out.write("weekdayMismatch: false,\r\n");
      out.write("};\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getParsingFlags(m) {\r\n");
      out.write("if (m._pf == null) {\r\n");
      out.write("m._pf = defaultParsingFlags();\r\n");
      out.write("}\r\n");
      out.write("return m._pf;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var some;\r\n");
      out.write("if (Array.prototype.some) {\r\n");
      out.write("some = Array.prototype.some;\r\n");
      out.write("} else {\r\n");
      out.write("some = function (fun) {\r\n");
      out.write("var t = Object(this),\r\n");
      out.write("len = t.length >>> 0,\r\n");
      out.write("i;\r\n");
      out.write("\r\n");
      out.write("for (i = 0; i < len; i++) {\r\n");
      out.write("if (i in t && fun.call(this, t[i], i, t)) {\r\n");
      out.write("return true;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return false;\r\n");
      out.write("};\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isValid(m) {\r\n");
      out.write("if (m._isValid == null) {\r\n");
      out.write("var flags = getParsingFlags(m),\r\n");
      out.write("parsedParts = some.call(flags.parsedDateParts, function (i) {\r\n");
      out.write("return i != null;\r\n");
      out.write("}),\r\n");
      out.write("isNowValid =\r\n");
      out.write("!isNaN(m._d.getTime()) &&\r\n");
      out.write("flags.overflow < 0 &&\r\n");
      out.write("!flags.empty &&\r\n");
      out.write("!flags.invalidEra &&\r\n");
      out.write("!flags.invalidMonth &&\r\n");
      out.write("!flags.invalidWeekday &&\r\n");
      out.write("!flags.weekdayMismatch &&\r\n");
      out.write("!flags.nullInput &&\r\n");
      out.write("!flags.invalidFormat &&\r\n");
      out.write("!flags.userInvalidated &&\r\n");
      out.write("(!flags.meridiem || (flags.meridiem && parsedParts));\r\n");
      out.write("\r\n");
      out.write("if (m._strict) {\r\n");
      out.write("isNowValid =\r\n");
      out.write("isNowValid &&\r\n");
      out.write("flags.charsLeftOver === 0 &&\r\n");
      out.write("flags.unusedTokens.length === 0 &&\r\n");
      out.write("flags.bigHour === undefined;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (Object.isFrozen == null || !Object.isFrozen(m)) {\r\n");
      out.write("m._isValid = isNowValid;\r\n");
      out.write("} else {\r\n");
      out.write("return isNowValid;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("return m._isValid;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function createInvalid(flags) {\r\n");
      out.write("var m = createUTC(NaN);\r\n");
      out.write("if (flags != null) {\r\n");
      out.write("extend(getParsingFlags(m), flags);\r\n");
      out.write("} else {\r\n");
      out.write("getParsingFlags(m).userInvalidated = true;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return m;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// Plugins that add properties should also add the key here (null value),\r\n");
      out.write("// so we can properly clone ourselves.\r\n");
      out.write("var momentProperties = (hooks.momentProperties = []),\r\n");
      out.write("updateInProgress = false;\r\n");
      out.write("\r\n");
      out.write("function copyConfig(to, from) {\r\n");
      out.write("var i, prop, val;\r\n");
      out.write("\r\n");
      out.write("if (!isUndefined(from._isAMomentObject)) {\r\n");
      out.write("to._isAMomentObject = from._isAMomentObject;\r\n");
      out.write("}\r\n");
      out.write("if (!isUndefined(from._i)) {\r\n");
      out.write("to._i = from._i;\r\n");
      out.write("}\r\n");
      out.write("if (!isUndefined(from._f)) {\r\n");
      out.write("to._f = from._f;\r\n");
      out.write("}\r\n");
      out.write("if (!isUndefined(from._l)) {\r\n");
      out.write("to._l = from._l;\r\n");
      out.write("}\r\n");
      out.write("if (!isUndefined(from._strict)) {\r\n");
      out.write("to._strict = from._strict;\r\n");
      out.write("}\r\n");
      out.write("if (!isUndefined(from._tzm)) {\r\n");
      out.write("to._tzm = from._tzm;\r\n");
      out.write("}\r\n");
      out.write("if (!isUndefined(from._isUTC)) {\r\n");
      out.write("to._isUTC = from._isUTC;\r\n");
      out.write("}\r\n");
      out.write("if (!isUndefined(from._offset)) {\r\n");
      out.write("to._offset = from._offset;\r\n");
      out.write("}\r\n");
      out.write("if (!isUndefined(from._pf)) {\r\n");
      out.write("to._pf = getParsingFlags(from);\r\n");
      out.write("}\r\n");
      out.write("if (!isUndefined(from._locale)) {\r\n");
      out.write("to._locale = from._locale;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (momentProperties.length > 0) {\r\n");
      out.write("for (i = 0; i < momentProperties.length; i++) {\r\n");
      out.write("prop = momentProperties[i];\r\n");
      out.write("val = from[prop];\r\n");
      out.write("if (!isUndefined(val)) {\r\n");
      out.write("to[prop] = val;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return to;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// Moment prototype object\r\n");
      out.write("function Moment(config) {\r\n");
      out.write("copyConfig(this, config);\r\n");
      out.write("this._d = new Date(config._d != null ? config._d.getTime() : NaN);\r\n");
      out.write("if (!this.isValid()) {\r\n");
      out.write("this._d = new Date(NaN);\r\n");
      out.write("}\r\n");
      out.write("// Prevent infinite loop in case updateOffset creates new moment\r\n");
      out.write("// objects.\r\n");
      out.write("if (updateInProgress === false) {\r\n");
      out.write("updateInProgress = true;\r\n");
      out.write("hooks.updateOffset(this);\r\n");
      out.write("updateInProgress = false;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isMoment(obj) {\r\n");
      out.write("return (\r\n");
      out.write("obj instanceof Moment || (obj != null && obj._isAMomentObject != null)\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function warn(msg) {\r\n");
      out.write("if (\r\n");
      out.write("hooks.suppressDeprecationWarnings === false &&\r\n");
      out.write("typeof console !== 'undefined' &&\r\n");
      out.write("console.warn\r\n");
      out.write(") {\r\n");
      out.write("console.warn('Deprecation warning: ' + msg);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function deprecate(msg, fn) {\r\n");
      out.write("var firstTime = true;\r\n");
      out.write("\r\n");
      out.write("return extend(function () {\r\n");
      out.write("if (hooks.deprecationHandler != null) {\r\n");
      out.write("hooks.deprecationHandler(null, msg);\r\n");
      out.write("}\r\n");
      out.write("if (firstTime) {\r\n");
      out.write("var args = [],\r\n");
      out.write("arg,\r\n");
      out.write("i,\r\n");
      out.write("key;\r\n");
      out.write("for (i = 0; i < arguments.length; i++) {\r\n");
      out.write("arg = '';\r\n");
      out.write("if (typeof arguments[i] === 'object') {\r\n");
      out.write("arg += '\\n[' + i + '] ';\r\n");
      out.write("for (key in arguments[0]) {\r\n");
      out.write("if (hasOwnProp(arguments[0], key)) {\r\n");
      out.write("arg += key + ': ' + arguments[0][key] + ', ';\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("arg = arg.slice(0, -2); // Remove trailing comma and space\r\n");
      out.write("} else {\r\n");
      out.write("arg = arguments[i];\r\n");
      out.write("}\r\n");
      out.write("args.push(arg);\r\n");
      out.write("}\r\n");
      out.write("warn(\r\n");
      out.write("msg +\r\n");
      out.write("'\\nArguments: ' +\r\n");
      out.write("Array.prototype.slice.call(args).join('') +\r\n");
      out.write("'\\n' +\r\n");
      out.write("new Error().stack\r\n");
      out.write(");\r\n");
      out.write("firstTime = false;\r\n");
      out.write("}\r\n");
      out.write("return fn.apply(this, arguments);\r\n");
      out.write("}, fn);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var deprecations = {};\r\n");
      out.write("\r\n");
      out.write("function deprecateSimple(name, msg) {\r\n");
      out.write("if (hooks.deprecationHandler != null) {\r\n");
      out.write("hooks.deprecationHandler(name, msg);\r\n");
      out.write("}\r\n");
      out.write("if (!deprecations[name]) {\r\n");
      out.write("warn(msg);\r\n");
      out.write("deprecations[name] = true;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("hooks.suppressDeprecationWarnings = false;\r\n");
      out.write("hooks.deprecationHandler = null;\r\n");
      out.write("\r\n");
      out.write("function isFunction(input) {\r\n");
      out.write("return (\r\n");
      out.write("(typeof Function !== 'undefined' && input instanceof Function) ||\r\n");
      out.write("Object.prototype.toString.call(input) === '[object Function]'\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function set(config) {\r\n");
      out.write("var prop, i;\r\n");
      out.write("for (i in config) {\r\n");
      out.write("if (hasOwnProp(config, i)) {\r\n");
      out.write("prop = config[i];\r\n");
      out.write("if (isFunction(prop)) {\r\n");
      out.write("this[i] = prop;\r\n");
      out.write("} else {\r\n");
      out.write("this['_' + i] = prop;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("this._config = config;\r\n");
      out.write("// Lenient ordinal parsing accepts just a number in addition to\r\n");
      out.write("// number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\r\n");
      out.write("// TODO: Remove \"ordinalParse\" fallback in next major release.\r\n");
      out.write("this._dayOfMonthOrdinalParseLenient = new RegExp(\r\n");
      out.write("(this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\r\n");
      out.write("'|' +\r\n");
      out.write("/\\d{1,2}/.source\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function mergeConfigs(parentConfig, childConfig) {\r\n");
      out.write("var res = extend({}, parentConfig),\r\n");
      out.write("prop;\r\n");
      out.write("for (prop in childConfig) {\r\n");
      out.write("if (hasOwnProp(childConfig, prop)) {\r\n");
      out.write("if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\r\n");
      out.write("res[prop] = {};\r\n");
      out.write("extend(res[prop], parentConfig[prop]);\r\n");
      out.write("extend(res[prop], childConfig[prop]);\r\n");
      out.write("} else if (childConfig[prop] != null) {\r\n");
      out.write("res[prop] = childConfig[prop];\r\n");
      out.write("} else {\r\n");
      out.write("delete res[prop];\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("for (prop in parentConfig) {\r\n");
      out.write("if (\r\n");
      out.write("hasOwnProp(parentConfig, prop) &&\r\n");
      out.write("!hasOwnProp(childConfig, prop) &&\r\n");
      out.write("isObject(parentConfig[prop])\r\n");
      out.write(") {\r\n");
      out.write("// make sure changes to properties don't modify parent config\r\n");
      out.write("res[prop] = extend({}, res[prop]);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("return res;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function Locale(config) {\r\n");
      out.write("if (config != null) {\r\n");
      out.write("this.set(config);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var keys;\r\n");
      out.write("\r\n");
      out.write("if (Object.keys) {\r\n");
      out.write("keys = Object.keys;\r\n");
      out.write("} else {\r\n");
      out.write("keys = function (obj) {\r\n");
      out.write("var i,\r\n");
      out.write("res = [];\r\n");
      out.write("for (i in obj) {\r\n");
      out.write("if (hasOwnProp(obj, i)) {\r\n");
      out.write("res.push(i);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("return res;\r\n");
      out.write("};\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var defaultCalendar = {\r\n");
      out.write("sameDay: '[Today at] LT',\r\n");
      out.write("nextDay: '[Tomorrow at] LT',\r\n");
      out.write("nextWeek: 'dddd [at] LT',\r\n");
      out.write("lastDay: '[Yesterday at] LT',\r\n");
      out.write("lastWeek: '[Last] dddd [at] LT',\r\n");
      out.write("sameElse: 'L',\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("function calendar(key, mom, now) {\r\n");
      out.write("var output = this._calendar[key] || this._calendar['sameElse'];\r\n");
      out.write("return isFunction(output) ? output.call(mom, now) : output;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function zeroFill(number, targetLength, forceSign) {\r\n");
      out.write("var absNumber = '' + Math.abs(number),\r\n");
      out.write("zerosToFill = targetLength - absNumber.length,\r\n");
      out.write("sign = number >= 0;\r\n");
      out.write("return (\r\n");
      out.write("(sign ? (forceSign ? '+' : '') : '-') +\r\n");
      out.write("Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) +\r\n");
      out.write("absNumber\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,\r\n");
      out.write("localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,\r\n");
      out.write("formatFunctions = {},\r\n");
      out.write("formatTokenFunctions = {};\r\n");
      out.write("\r\n");
      out.write("// token:    'M'\r\n");
      out.write("// padded:   ['MM', 2]\r\n");
      out.write("// ordinal:  'Mo'\r\n");
      out.write("// callback: function () { this.month() + 1 }\r\n");
      out.write("function addFormatToken(token, padded, ordinal, callback) {\r\n");
      out.write("var func = callback;\r\n");
      out.write("if (typeof callback === 'string') {\r\n");
      out.write("func = function () {\r\n");
      out.write("return this[callback]();\r\n");
      out.write("};\r\n");
      out.write("}\r\n");
      out.write("if (token) {\r\n");
      out.write("formatTokenFunctions[token] = func;\r\n");
      out.write("}\r\n");
      out.write("if (padded) {\r\n");
      out.write("formatTokenFunctions[padded[0]] = function () {\r\n");
      out.write("return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\r\n");
      out.write("};\r\n");
      out.write("}\r\n");
      out.write("if (ordinal) {\r\n");
      out.write("formatTokenFunctions[ordinal] = function () {\r\n");
      out.write("return this.localeData().ordinal(\r\n");
      out.write("func.apply(this, arguments),\r\n");
      out.write("token\r\n");
      out.write(");\r\n");
      out.write("};\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function removeFormattingTokens(input) {\r\n");
      out.write("if (input.match(/\\[[\\s\\S]/)) {\r\n");
      out.write("return input.replace(/^\\[|\\]$/g, '');\r\n");
      out.write("}\r\n");
      out.write("return input.replace(/\\\\/g, '');\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function makeFormatFunction(format) {\r\n");
      out.write("var array = format.match(formattingTokens),\r\n");
      out.write("i,\r\n");
      out.write("length;\r\n");
      out.write("\r\n");
      out.write("for (i = 0, length = array.length; i < length; i++) {\r\n");
      out.write("if (formatTokenFunctions[array[i]]) {\r\n");
      out.write("array[i] = formatTokenFunctions[array[i]];\r\n");
      out.write("} else {\r\n");
      out.write("array[i] = removeFormattingTokens(array[i]);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return function (mom) {\r\n");
      out.write("var output = '',\r\n");
      out.write("i;\r\n");
      out.write("for (i = 0; i < length; i++) {\r\n");
      out.write("output += isFunction(array[i])\r\n");
      out.write("? array[i].call(mom, format)\r\n");
      out.write(": array[i];\r\n");
      out.write("}\r\n");
      out.write("return output;\r\n");
      out.write("};\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// format date using native date object\r\n");
      out.write("function formatMoment(m, format) {\r\n");
      out.write("if (!m.isValid()) {\r\n");
      out.write("return m.localeData().invalidDate();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("format = expandFormat(format, m.localeData());\r\n");
      out.write("formatFunctions[format] =\r\n");
      out.write("formatFunctions[format] || makeFormatFunction(format);\r\n");
      out.write("\r\n");
      out.write("return formatFunctions[format](m);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function expandFormat(format, locale) {\r\n");
      out.write("var i = 5;\r\n");
      out.write("\r\n");
      out.write("function replaceLongDateFormatTokens(input) {\r\n");
      out.write("return locale.longDateFormat(input) || input;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("localFormattingTokens.lastIndex = 0;\r\n");
      out.write("while (i >= 0 && localFormattingTokens.test(format)) {\r\n");
      out.write("format = format.replace(\r\n");
      out.write("localFormattingTokens,\r\n");
      out.write("replaceLongDateFormatTokens\r\n");
      out.write(");\r\n");
      out.write("localFormattingTokens.lastIndex = 0;\r\n");
      out.write("i -= 1;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return format;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var defaultLongDateFormat = {\r\n");
      out.write("LTS: 'h:mm:ss A',\r\n");
      out.write("LT: 'h:mm A',\r\n");
      out.write("L: 'MM/DD/YYYY',\r\n");
      out.write("LL: 'MMMM D, YYYY',\r\n");
      out.write("LLL: 'MMMM D, YYYY h:mm A',\r\n");
      out.write("LLLL: 'dddd, MMMM D, YYYY h:mm A',\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("function longDateFormat(key) {\r\n");
      out.write("var format = this._longDateFormat[key],\r\n");
      out.write("formatUpper = this._longDateFormat[key.toUpperCase()];\r\n");
      out.write("\r\n");
      out.write("if (format || !formatUpper) {\r\n");
      out.write("return format;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("this._longDateFormat[key] = formatUpper\r\n");
      out.write(".match(formattingTokens)\r\n");
      out.write(".map(function (tok) {\r\n");
      out.write("if (\r\n");
      out.write("tok === 'MMMM' ||\r\n");
      out.write("tok === 'MM' ||\r\n");
      out.write("tok === 'DD' ||\r\n");
      out.write("tok === 'dddd'\r\n");
      out.write(") {\r\n");
      out.write("return tok.slice(1);\r\n");
      out.write("}\r\n");
      out.write("return tok;\r\n");
      out.write("})\r\n");
      out.write(".join('');\r\n");
      out.write("\r\n");
      out.write("return this._longDateFormat[key];\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var defaultInvalidDate = 'Invalid date';\r\n");
      out.write("\r\n");
      out.write("function invalidDate() {\r\n");
      out.write("return this._invalidDate;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var defaultOrdinal = '%d',\r\n");
      out.write("defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\r\n");
      out.write("\r\n");
      out.write("function ordinal(number) {\r\n");
      out.write("return this._ordinal.replace('%d', number);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var defaultRelativeTime = {\r\n");
      out.write("future: 'in %s',\r\n");
      out.write("past: '%s ago',\r\n");
      out.write("s: 'a few seconds',\r\n");
      out.write("ss: '%d seconds',\r\n");
      out.write("m: 'a minute',\r\n");
      out.write("mm: '%d minutes',\r\n");
      out.write("h: 'an hour',\r\n");
      out.write("hh: '%d hours',\r\n");
      out.write("d: 'a day',\r\n");
      out.write("dd: '%d days',\r\n");
      out.write("w: 'a week',\r\n");
      out.write("ww: '%d weeks',\r\n");
      out.write("M: 'a month',\r\n");
      out.write("MM: '%d months',\r\n");
      out.write("y: 'a year',\r\n");
      out.write("yy: '%d years',\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("function relativeTime(number, withoutSuffix, string, isFuture) {\r\n");
      out.write("var output = this._relativeTime[string];\r\n");
      out.write("return isFunction(output)\r\n");
      out.write("? output(number, withoutSuffix, string, isFuture)\r\n");
      out.write(": output.replace(/%d/i, number);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function pastFuture(diff, output) {\r\n");
      out.write("var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\r\n");
      out.write("return isFunction(format) ? format(output) : format.replace(/%s/i, output);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var aliases = {};\r\n");
      out.write("\r\n");
      out.write("function addUnitAlias(unit, shorthand) {\r\n");
      out.write("var lowerCase = unit.toLowerCase();\r\n");
      out.write("aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function normalizeUnits(units) {\r\n");
      out.write("return typeof units === 'string'\r\n");
      out.write("? aliases[units] || aliases[units.toLowerCase()]\r\n");
      out.write(": undefined;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function normalizeObjectUnits(inputObject) {\r\n");
      out.write("var normalizedInput = {},\r\n");
      out.write("normalizedProp,\r\n");
      out.write("prop;\r\n");
      out.write("\r\n");
      out.write("for (prop in inputObject) {\r\n");
      out.write("if (hasOwnProp(inputObject, prop)) {\r\n");
      out.write("normalizedProp = normalizeUnits(prop);\r\n");
      out.write("if (normalizedProp) {\r\n");
      out.write("normalizedInput[normalizedProp] = inputObject[prop];\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return normalizedInput;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var priorities = {};\r\n");
      out.write("\r\n");
      out.write("function addUnitPriority(unit, priority) {\r\n");
      out.write("priorities[unit] = priority;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getPrioritizedUnits(unitsObj) {\r\n");
      out.write("var units = [],\r\n");
      out.write("u;\r\n");
      out.write("for (u in unitsObj) {\r\n");
      out.write("if (hasOwnProp(unitsObj, u)) {\r\n");
      out.write("units.push({ unit: u, priority: priorities[u] });\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("units.sort(function (a, b) {\r\n");
      out.write("return a.priority - b.priority;\r\n");
      out.write("});\r\n");
      out.write("return units;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isLeapYear(year) {\r\n");
      out.write("return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function absFloor(number) {\r\n");
      out.write("if (number < 0) {\r\n");
      out.write("// -0 -> 0\r\n");
      out.write("return Math.ceil(number) || 0;\r\n");
      out.write("} else {\r\n");
      out.write("return Math.floor(number);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function toInt(argumentForCoercion) {\r\n");
      out.write("var coercedNumber = +argumentForCoercion,\r\n");
      out.write("value = 0;\r\n");
      out.write("\r\n");
      out.write("if (coercedNumber !== 0 && isFinite(coercedNumber)) {\r\n");
      out.write("value = absFloor(coercedNumber);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return value;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function makeGetSet(unit, keepTime) {\r\n");
      out.write("return function (value) {\r\n");
      out.write("if (value != null) {\r\n");
      out.write("set$1(this, unit, value);\r\n");
      out.write("hooks.updateOffset(this, keepTime);\r\n");
      out.write("return this;\r\n");
      out.write("} else {\r\n");
      out.write("return get(this, unit);\r\n");
      out.write("}\r\n");
      out.write("};\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function get(mom, unit) {\r\n");
      out.write("return mom.isValid()\r\n");
      out.write("? mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]()\r\n");
      out.write(": NaN;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function set$1(mom, unit, value) {\r\n");
      out.write("if (mom.isValid() && !isNaN(value)) {\r\n");
      out.write("if (\r\n");
      out.write("unit === 'FullYear' &&\r\n");
      out.write("isLeapYear(mom.year()) &&\r\n");
      out.write("mom.month() === 1 &&\r\n");
      out.write("mom.date() === 29\r\n");
      out.write(") {\r\n");
      out.write("value = toInt(value);\r\n");
      out.write("mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](\r\n");
      out.write("value,\r\n");
      out.write("mom.month(),\r\n");
      out.write("daysInMonth(value, mom.month())\r\n");
      out.write(");\r\n");
      out.write("} else {\r\n");
      out.write("mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// MOMENTS\r\n");
      out.write("\r\n");
      out.write("function stringGet(units) {\r\n");
      out.write("units = normalizeUnits(units);\r\n");
      out.write("if (isFunction(this[units])) {\r\n");
      out.write("return this[units]();\r\n");
      out.write("}\r\n");
      out.write("return this;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function stringSet(units, value) {\r\n");
      out.write("if (typeof units === 'object') {\r\n");
      out.write("units = normalizeObjectUnits(units);\r\n");
      out.write("var prioritized = getPrioritizedUnits(units),\r\n");
      out.write("i;\r\n");
      out.write("for (i = 0; i < prioritized.length; i++) {\r\n");
      out.write("this[prioritized[i].unit](units[prioritized[i].unit]);\r\n");
      out.write("}\r\n");
      out.write("} else {\r\n");
      out.write("units = normalizeUnits(units);\r\n");
      out.write("if (isFunction(this[units])) {\r\n");
      out.write("return this[units](value);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("return this;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var match1 = /\\d/, //       0 - 9\r\n");
      out.write("match2 = /\\d\\d/, //      00 - 99\r\n");
      out.write("match3 = /\\d{3}/, //     000 - 999\r\n");
      out.write("match4 = /\\d{4}/, //    0000 - 9999\r\n");
      out.write("match6 = /[+-]?\\d{6}/, // -999999 - 999999\r\n");
      out.write("match1to2 = /\\d\\d?/, //       0 - 99\r\n");
      out.write("match3to4 = /\\d\\d\\d\\d?/, //     999 - 9999\r\n");
      out.write("match5to6 = /\\d\\d\\d\\d\\d\\d?/, //   99999 - 999999\r\n");
      out.write("match1to3 = /\\d{1,3}/, //       0 - 999\r\n");
      out.write("match1to4 = /\\d{1,4}/, //       0 - 9999\r\n");
      out.write("match1to6 = /[+-]?\\d{1,6}/, // -999999 - 999999\r\n");
      out.write("matchUnsigned = /\\d+/, //       0 - inf\r\n");
      out.write("matchSigned = /[+-]?\\d+/, //    -inf - inf\r\n");
      out.write("matchOffset = /Z|[+-]\\d\\d:?\\d\\d/gi, // +00:00 -00:00 +0000 -0000 or Z\r\n");
      out.write("matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi, // +00 -00 +00:00 -00:00 +0000 -0000 or Z\r\n");
      out.write("matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/, // 123456789 123456789.123\r\n");
      out.write("// any word (or two) characters or numbers including two/three word month in arabic.\r\n");
      out.write("// includes scottish gaelic two word and hyphenated months\r\n");
      out.write("matchWord = /[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i,\r\n");
      out.write("regexes;\r\n");
      out.write("\r\n");
      out.write("regexes = {};\r\n");
      out.write("\r\n");
      out.write("function addRegexToken(token, regex, strictRegex) {\r\n");
      out.write("regexes[token] = isFunction(regex)\r\n");
      out.write("? regex\r\n");
      out.write(": function (isStrict, localeData) {\r\n");
      out.write("return isStrict && strictRegex ? strictRegex : regex;\r\n");
      out.write("};\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getParseRegexForToken(token, config) {\r\n");
      out.write("if (!hasOwnProp(regexes, token)) {\r\n");
      out.write("return new RegExp(unescapeFormat(token));\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return regexes[token](config._strict, config._locale);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\r\n");
      out.write("function unescapeFormat(s) {\r\n");
      out.write("return regexEscape(\r\n");
      out.write("s\r\n");
      out.write(".replace('\\\\', '')\r\n");
      out.write(".replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (\r\n");
      out.write("matched,\r\n");
      out.write("p1,\r\n");
      out.write("p2,\r\n");
      out.write("p3,\r\n");
      out.write("p4\r\n");
      out.write(") {\r\n");
      out.write("return p1 || p2 || p3 || p4;\r\n");
      out.write("})\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function regexEscape(s) {\r\n");
      out.write("return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\$&');\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var tokens = {};\r\n");
      out.write("\r\n");
      out.write("function addParseToken(token, callback) {\r\n");
      out.write("var i,\r\n");
      out.write("func = callback;\r\n");
      out.write("if (typeof token === 'string') {\r\n");
      out.write("token = [token];\r\n");
      out.write("}\r\n");
      out.write("if (isNumber(callback)) {\r\n");
      out.write("func = function (input, array) {\r\n");
      out.write("array[callback] = toInt(input);\r\n");
      out.write("};\r\n");
      out.write("}\r\n");
      out.write("for (i = 0; i < token.length; i++) {\r\n");
      out.write("tokens[token[i]] = func;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function addWeekParseToken(token, callback) {\r\n");
      out.write("addParseToken(token, function (input, array, config, token) {\r\n");
      out.write("config._w = config._w || {};\r\n");
      out.write("callback(input, config._w, config, token);\r\n");
      out.write("});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function addTimeToArrayFromToken(token, input, config) {\r\n");
      out.write("if (input != null && hasOwnProp(tokens, token)) {\r\n");
      out.write("tokens[token](input, config._a, config, token);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var YEAR = 0,\r\n");
      out.write("MONTH = 1,\r\n");
      out.write("DATE = 2,\r\n");
      out.write("HOUR = 3,\r\n");
      out.write("MINUTE = 4,\r\n");
      out.write("SECOND = 5,\r\n");
      out.write("MILLISECOND = 6,\r\n");
      out.write("WEEK = 7,\r\n");
      out.write("WEEKDAY = 8;\r\n");
      out.write("\r\n");
      out.write("function mod(n, x) {\r\n");
      out.write("return ((n % x) + x) % x;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var indexOf;\r\n");
      out.write("\r\n");
      out.write("if (Array.prototype.indexOf) {\r\n");
      out.write("indexOf = Array.prototype.indexOf;\r\n");
      out.write("} else {\r\n");
      out.write("indexOf = function (o) {\r\n");
      out.write("// I know\r\n");
      out.write("var i;\r\n");
      out.write("for (i = 0; i < this.length; ++i) {\r\n");
      out.write("if (this[i] === o) {\r\n");
      out.write("return i;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("return -1;\r\n");
      out.write("};\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function daysInMonth(year, month) {\r\n");
      out.write("if (isNaN(year) || isNaN(month)) {\r\n");
      out.write("return NaN;\r\n");
      out.write("}\r\n");
      out.write("var modMonth = mod(month, 12);\r\n");
      out.write("year += (month - modMonth) / 12;\r\n");
      out.write("return modMonth === 1\r\n");
      out.write("? isLeapYear(year)\r\n");
      out.write("? 29\r\n");
      out.write(": 28\r\n");
      out.write(": 31 - ((modMonth % 7) % 2);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// FORMATTING\r\n");
      out.write("\r\n");
      out.write("addFormatToken('M', ['MM', 2], 'Mo', function () {\r\n");
      out.write("return this.month() + 1;\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("addFormatToken('MMM', 0, 0, function (format) {\r\n");
      out.write("return this.localeData().monthsShort(this, format);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("addFormatToken('MMMM', 0, 0, function (format) {\r\n");
      out.write("return this.localeData().months(this, format);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("// ALIASES\r\n");
      out.write("\r\n");
      out.write("addUnitAlias('month', 'M');\r\n");
      out.write("\r\n");
      out.write("// PRIORITY\r\n");
      out.write("\r\n");
      out.write("addUnitPriority('month', 8);\r\n");
      out.write("\r\n");
      out.write("// PARSING\r\n");
      out.write("\r\n");
      out.write("addRegexToken('M', match1to2);\r\n");
      out.write("addRegexToken('MM', match1to2, match2);\r\n");
      out.write("addRegexToken('MMM', function (isStrict, locale) {\r\n");
      out.write("return locale.monthsShortRegex(isStrict);\r\n");
      out.write("});\r\n");
      out.write("addRegexToken('MMMM', function (isStrict, locale) {\r\n");
      out.write("return locale.monthsRegex(isStrict);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("addParseToken(['M', 'MM'], function (input, array) {\r\n");
      out.write("array[MONTH] = toInt(input) - 1;\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\r\n");
      out.write("var month = config._locale.monthsParse(input, token, config._strict);\r\n");
      out.write("// if we didn't find a month name, mark the date as invalid.\r\n");
      out.write("if (month != null) {\r\n");
      out.write("array[MONTH] = month;\r\n");
      out.write("} else {\r\n");
      out.write("getParsingFlags(config).invalidMonth = input;\r\n");
      out.write("}\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("// LOCALES\r\n");
      out.write("\r\n");
      out.write("var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split(\r\n");
      out.write("'_'\r\n");
      out.write("),\r\n");
      out.write("defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split(\r\n");
      out.write("'_'\r\n");
      out.write("),\r\n");
      out.write("MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/,\r\n");
      out.write("defaultMonthsShortRegex = matchWord,\r\n");
      out.write("defaultMonthsRegex = matchWord;\r\n");
      out.write("\r\n");
      out.write("function localeMonths(m, format) {\r\n");
      out.write("if (!m) {\r\n");
      out.write("return isArray(this._months)\r\n");
      out.write("? this._months\r\n");
      out.write(": this._months['standalone'];\r\n");
      out.write("}\r\n");
      out.write("return isArray(this._months)\r\n");
      out.write("? this._months[m.month()]\r\n");
      out.write(": this._months[\r\n");
      out.write("(this._months.isFormat || MONTHS_IN_FORMAT).test(format)\r\n");
      out.write("? 'format'\r\n");
      out.write(": 'standalone'\r\n");
      out.write("][m.month()];\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function localeMonthsShort(m, format) {\r\n");
      out.write("if (!m) {\r\n");
      out.write("return isArray(this._monthsShort)\r\n");
      out.write("? this._monthsShort\r\n");
      out.write(": this._monthsShort['standalone'];\r\n");
      out.write("}\r\n");
      out.write("return isArray(this._monthsShort)\r\n");
      out.write("? this._monthsShort[m.month()]\r\n");
      out.write(": this._monthsShort[\r\n");
      out.write("MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'\r\n");
      out.write("][m.month()];\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function handleStrictParse(monthName, format, strict) {\r\n");
      out.write("var i,\r\n");
      out.write("ii,\r\n");
      out.write("mom,\r\n");
      out.write("llc = monthName.toLocaleLowerCase();\r\n");
      out.write("if (!this._monthsParse) {\r\n");
      out.write("// this is not used\r\n");
      out.write("this._monthsParse = [];\r\n");
      out.write("this._longMonthsParse = [];\r\n");
      out.write("this._shortMonthsParse = [];\r\n");
      out.write("for (i = 0; i < 12; ++i) {\r\n");
      out.write("mom = createUTC([2000, i]);\r\n");
      out.write("this._shortMonthsParse[i] = this.monthsShort(\r\n");
      out.write("mom,\r\n");
      out.write("''\r\n");
      out.write(").toLocaleLowerCase();\r\n");
      out.write("this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (strict) {\r\n");
      out.write("if (format === 'MMM') {\r\n");
      out.write("ii = indexOf.call(this._shortMonthsParse, llc);\r\n");
      out.write("return ii !== -1 ? ii : null;\r\n");
      out.write("} else {\r\n");
      out.write("ii = indexOf.call(this._longMonthsParse, llc);\r\n");
      out.write("return ii !== -1 ? ii : null;\r\n");
      out.write("}\r\n");
      out.write("} else {\r\n");
      out.write("if (format === 'MMM') {\r\n");
      out.write("ii = indexOf.call(this._shortMonthsParse, llc);\r\n");
      out.write("if (ii !== -1) {\r\n");
      out.write("return ii;\r\n");
      out.write("}\r\n");
      out.write("ii = indexOf.call(this._longMonthsParse, llc);\r\n");
      out.write("return ii !== -1 ? ii : null;\r\n");
      out.write("} else {\r\n");
      out.write("ii = indexOf.call(this._longMonthsParse, llc);\r\n");
      out.write("if (ii !== -1) {\r\n");
      out.write("return ii;\r\n");
      out.write("}\r\n");
      out.write("ii = indexOf.call(this._shortMonthsParse, llc);\r\n");
      out.write("return ii !== -1 ? ii : null;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function localeMonthsParse(monthName, format, strict) {\r\n");
      out.write("var i, mom, regex;\r\n");
      out.write("\r\n");
      out.write("if (this._monthsParseExact) {\r\n");
      out.write("return handleStrictParse.call(this, monthName, format, strict);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (!this._monthsParse) {\r\n");
      out.write("this._monthsParse = [];\r\n");
      out.write("this._longMonthsParse = [];\r\n");
      out.write("this._shortMonthsParse = [];\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// TODO: add sorting\r\n");
      out.write("// Sorting makes sure if one month (or abbr) is a prefix of another\r\n");
      out.write("// see sorting in computeMonthsParse\r\n");
      out.write("for (i = 0; i < 12; i++) {\r\n");
      out.write("// make the regex if we don't have it already\r\n");
      out.write("mom = createUTC([2000, i]);\r\n");
      out.write("if (strict && !this._longMonthsParse[i]) {\r\n");
      out.write("this._longMonthsParse[i] = new RegExp(\r\n");
      out.write("'^' + this.months(mom, '').replace('.', '') + '$',\r\n");
      out.write("'i'\r\n");
      out.write(");\r\n");
      out.write("this._shortMonthsParse[i] = new RegExp(\r\n");
      out.write("'^' + this.monthsShort(mom, '').replace('.', '') + '$',\r\n");
      out.write("'i'\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("if (!strict && !this._monthsParse[i]) {\r\n");
      out.write("regex =\r\n");
      out.write("'^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\r\n");
      out.write("this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\r\n");
      out.write("}\r\n");
      out.write("// test the regex\r\n");
      out.write("if (\r\n");
      out.write("strict &&\r\n");
      out.write("format === 'MMMM' &&\r\n");
      out.write("this._longMonthsParse[i].test(monthName)\r\n");
      out.write(") {\r\n");
      out.write("return i;\r\n");
      out.write("} else if (\r\n");
      out.write("strict &&\r\n");
      out.write("format === 'MMM' &&\r\n");
      out.write("this._shortMonthsParse[i].test(monthName)\r\n");
      out.write(") {\r\n");
      out.write("return i;\r\n");
      out.write("} else if (!strict && this._monthsParse[i].test(monthName)) {\r\n");
      out.write("return i;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// MOMENTS\r\n");
      out.write("\r\n");
      out.write("function setMonth(mom, value) {\r\n");
      out.write("var dayOfMonth;\r\n");
      out.write("\r\n");
      out.write("if (!mom.isValid()) {\r\n");
      out.write("// No op\r\n");
      out.write("return mom;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (typeof value === 'string') {\r\n");
      out.write("if (/^\\d+$/.test(value)) {\r\n");
      out.write("value = toInt(value);\r\n");
      out.write("} else {\r\n");
      out.write("value = mom.localeData().monthsParse(value);\r\n");
      out.write("// TODO: Another silent failure?\r\n");
      out.write("if (!isNumber(value)) {\r\n");
      out.write("return mom;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\r\n");
      out.write("mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\r\n");
      out.write("return mom;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getSetMonth(value) {\r\n");
      out.write("if (value != null) {\r\n");
      out.write("setMonth(this, value);\r\n");
      out.write("hooks.updateOffset(this, true);\r\n");
      out.write("return this;\r\n");
      out.write("} else {\r\n");
      out.write("return get(this, 'Month');\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getDaysInMonth() {\r\n");
      out.write("return daysInMonth(this.year(), this.month());\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function monthsShortRegex(isStrict) {\r\n");
      out.write("if (this._monthsParseExact) {\r\n");
      out.write("if (!hasOwnProp(this, '_monthsRegex')) {\r\n");
      out.write("computeMonthsParse.call(this);\r\n");
      out.write("}\r\n");
      out.write("if (isStrict) {\r\n");
      out.write("return this._monthsShortStrictRegex;\r\n");
      out.write("} else {\r\n");
      out.write("return this._monthsShortRegex;\r\n");
      out.write("}\r\n");
      out.write("} else {\r\n");
      out.write("if (!hasOwnProp(this, '_monthsShortRegex')) {\r\n");
      out.write("this._monthsShortRegex = defaultMonthsShortRegex;\r\n");
      out.write("}\r\n");
      out.write("return this._monthsShortStrictRegex && isStrict\r\n");
      out.write("? this._monthsShortStrictRegex\r\n");
      out.write(": this._monthsShortRegex;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function monthsRegex(isStrict) {\r\n");
      out.write("if (this._monthsParseExact) {\r\n");
      out.write("if (!hasOwnProp(this, '_monthsRegex')) {\r\n");
      out.write("computeMonthsParse.call(this);\r\n");
      out.write("}\r\n");
      out.write("if (isStrict) {\r\n");
      out.write("return this._monthsStrictRegex;\r\n");
      out.write("} else {\r\n");
      out.write("return this._monthsRegex;\r\n");
      out.write("}\r\n");
      out.write("} else {\r\n");
      out.write("if (!hasOwnProp(this, '_monthsRegex')) {\r\n");
      out.write("this._monthsRegex = defaultMonthsRegex;\r\n");
      out.write("}\r\n");
      out.write("return this._monthsStrictRegex && isStrict\r\n");
      out.write("? this._monthsStrictRegex\r\n");
      out.write(": this._monthsRegex;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function computeMonthsParse() {\r\n");
      out.write("function cmpLenRev(a, b) {\r\n");
      out.write("return b.length - a.length;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var shortPieces = [],\r\n");
      out.write("longPieces = [],\r\n");
      out.write("mixedPieces = [],\r\n");
      out.write("i,\r\n");
      out.write("mom;\r\n");
      out.write("for (i = 0; i < 12; i++) {\r\n");
      out.write("// make the regex if we don't have it already\r\n");
      out.write("mom = createUTC([2000, i]);\r\n");
      out.write("shortPieces.push(this.monthsShort(mom, ''));\r\n");
      out.write("longPieces.push(this.months(mom, ''));\r\n");
      out.write("mixedPieces.push(this.months(mom, ''));\r\n");
      out.write("mixedPieces.push(this.monthsShort(mom, ''));\r\n");
      out.write("}\r\n");
      out.write("// Sorting makes sure if one month (or abbr) is a prefix of another it\r\n");
      out.write("// will match the longer piece.\r\n");
      out.write("shortPieces.sort(cmpLenRev);\r\n");
      out.write("longPieces.sort(cmpLenRev);\r\n");
      out.write("mixedPieces.sort(cmpLenRev);\r\n");
      out.write("for (i = 0; i < 12; i++) {\r\n");
      out.write("shortPieces[i] = regexEscape(shortPieces[i]);\r\n");
      out.write("longPieces[i] = regexEscape(longPieces[i]);\r\n");
      out.write("}\r\n");
      out.write("for (i = 0; i < 24; i++) {\r\n");
      out.write("mixedPieces[i] = regexEscape(mixedPieces[i]);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\r\n");
      out.write("this._monthsShortRegex = this._monthsRegex;\r\n");
      out.write("this._monthsStrictRegex = new RegExp(\r\n");
      out.write("'^(' + longPieces.join('|') + ')',\r\n");
      out.write("'i'\r\n");
      out.write(");\r\n");
      out.write("this._monthsShortStrictRegex = new RegExp(\r\n");
      out.write("'^(' + shortPieces.join('|') + ')',\r\n");
      out.write("'i'\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// FORMATTING\r\n");
      out.write("\r\n");
      out.write("addFormatToken('Y', 0, 0, function () {\r\n");
      out.write("var y = this.year();\r\n");
      out.write("return y <= 9999 ? zeroFill(y, 4) : '+' + y;\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("addFormatToken(0, ['YY', 2], 0, function () {\r\n");
      out.write("return this.year() % 100;\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("addFormatToken(0, ['YYYY', 4], 0, 'year');\r\n");
      out.write("addFormatToken(0, ['YYYYY', 5], 0, 'year');\r\n");
      out.write("addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\r\n");
      out.write("\r\n");
      out.write("// ALIASES\r\n");
      out.write("\r\n");
      out.write("addUnitAlias('year', 'y');\r\n");
      out.write("\r\n");
      out.write("// PRIORITIES\r\n");
      out.write("\r\n");
      out.write("addUnitPriority('year', 1);\r\n");
      out.write("\r\n");
      out.write("// PARSING\r\n");
      out.write("\r\n");
      out.write("addRegexToken('Y', matchSigned);\r\n");
      out.write("addRegexToken('YY', match1to2, match2);\r\n");
      out.write("addRegexToken('YYYY', match1to4, match4);\r\n");
      out.write("addRegexToken('YYYYY', match1to6, match6);\r\n");
      out.write("addRegexToken('YYYYYY', match1to6, match6);\r\n");
      out.write("\r\n");
      out.write("addParseToken(['YYYYY', 'YYYYYY'], YEAR);\r\n");
      out.write("addParseToken('YYYY', function (input, array) {\r\n");
      out.write("array[YEAR] =\r\n");
      out.write("input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\r\n");
      out.write("});\r\n");
      out.write("addParseToken('YY', function (input, array) {\r\n");
      out.write("array[YEAR] = hooks.parseTwoDigitYear(input);\r\n");
      out.write("});\r\n");
      out.write("addParseToken('Y', function (input, array) {\r\n");
      out.write("array[YEAR] = parseInt(input, 10);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("// HELPERS\r\n");
      out.write("\r\n");
      out.write("function daysInYear(year) {\r\n");
      out.write("return isLeapYear(year) ? 366 : 365;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// HOOKS\r\n");
      out.write("\r\n");
      out.write("hooks.parseTwoDigitYear = function (input) {\r\n");
      out.write("return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("// MOMENTS\r\n");
      out.write("\r\n");
      out.write("var getSetYear = makeGetSet('FullYear', true);\r\n");
      out.write("\r\n");
      out.write("function getIsLeapYear() {\r\n");
      out.write("return isLeapYear(this.year());\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function createDate(y, m, d, h, M, s, ms) {\r\n");
      out.write("// can't just apply() to create a date:\r\n");
      out.write("// https://stackoverflow.com/q/181348\r\n");
      out.write("var date;\r\n");
      out.write("// the date constructor remaps years 0-99 to 1900-1999\r\n");
      out.write("if (y < 100 && y >= 0) {\r\n");
      out.write("// preserve leap years using a full 400 year cycle, then reset\r\n");
      out.write("date = new Date(y + 400, m, d, h, M, s, ms);\r\n");
      out.write("if (isFinite(date.getFullYear())) {\r\n");
      out.write("date.setFullYear(y);\r\n");
      out.write("}\r\n");
      out.write("} else {\r\n");
      out.write("date = new Date(y, m, d, h, M, s, ms);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return date;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function createUTCDate(y) {\r\n");
      out.write("var date, args;\r\n");
      out.write("// the Date.UTC function remaps years 0-99 to 1900-1999\r\n");
      out.write("if (y < 100 && y >= 0) {\r\n");
      out.write("args = Array.prototype.slice.call(arguments);\r\n");
      out.write("// preserve leap years using a full 400 year cycle, then reset\r\n");
      out.write("args[0] = y + 400;\r\n");
      out.write("date = new Date(Date.UTC.apply(null, args));\r\n");
      out.write("if (isFinite(date.getUTCFullYear())) {\r\n");
      out.write("date.setUTCFullYear(y);\r\n");
      out.write("}\r\n");
      out.write("} else {\r\n");
      out.write("date = new Date(Date.UTC.apply(null, arguments));\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return date;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// start-of-first-week - start-of-year\r\n");
      out.write("function firstWeekOffset(year, dow, doy) {\r\n");
      out.write("var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\r\n");
      out.write("fwd = 7 + dow - doy,\r\n");
      out.write("// first-week day local weekday -- which local weekday is fwd\r\n");
      out.write("fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\r\n");
      out.write("\r\n");
      out.write("return -fwdlw + fwd - 1;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\r\n");
      out.write("function dayOfYearFromWeeks(year, week, weekday, dow, doy) {\r\n");
      out.write("var localWeekday = (7 + weekday - dow) % 7,\r\n");
      out.write("weekOffset = firstWeekOffset(year, dow, doy),\r\n");
      out.write("dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\r\n");
      out.write("resYear,\r\n");
      out.write("resDayOfYear;\r\n");
      out.write("\r\n");
      out.write("if (dayOfYear <= 0) {\r\n");
      out.write("resYear = year - 1;\r\n");
      out.write("resDayOfYear = daysInYear(resYear) + dayOfYear;\r\n");
      out.write("} else if (dayOfYear > daysInYear(year)) {\r\n");
      out.write("resYear = year + 1;\r\n");
      out.write("resDayOfYear = dayOfYear - daysInYear(year);\r\n");
      out.write("} else {\r\n");
      out.write("resYear = year;\r\n");
      out.write("resDayOfYear = dayOfYear;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return {\r\n");
      out.write("year: resYear,\r\n");
      out.write("dayOfYear: resDayOfYear,\r\n");
      out.write("};\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function weekOfYear(mom, dow, doy) {\r\n");
      out.write("var weekOffset = firstWeekOffset(mom.year(), dow, doy),\r\n");
      out.write("week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\r\n");
      out.write("resWeek,\r\n");
      out.write("resYear;\r\n");
      out.write("\r\n");
      out.write("if (week < 1) {\r\n");
      out.write("resYear = mom.year() - 1;\r\n");
      out.write("resWeek = week + weeksInYear(resYear, dow, doy);\r\n");
      out.write("} else if (week > weeksInYear(mom.year(), dow, doy)) {\r\n");
      out.write("resWeek = week - weeksInYear(mom.year(), dow, doy);\r\n");
      out.write("resYear = mom.year() + 1;\r\n");
      out.write("} else {\r\n");
      out.write("resYear = mom.year();\r\n");
      out.write("resWeek = week;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return {\r\n");
      out.write("week: resWeek,\r\n");
      out.write("year: resYear,\r\n");
      out.write("};\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function weeksInYear(year, dow, doy) {\r\n");
      out.write("var weekOffset = firstWeekOffset(year, dow, doy),\r\n");
      out.write("weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\r\n");
      out.write("return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// FORMATTING\r\n");
      out.write("\r\n");
      out.write("addFormatToken('w', ['ww', 2], 'wo', 'week');\r\n");
      out.write("addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\r\n");
      out.write("\r\n");
      out.write("// ALIASES\r\n");
      out.write("\r\n");
      out.write("addUnitAlias('week', 'w');\r\n");
      out.write("addUnitAlias('isoWeek', 'W');\r\n");
      out.write("\r\n");
      out.write("// PRIORITIES\r\n");
      out.write("\r\n");
      out.write("addUnitPriority('week', 5);\r\n");
      out.write("addUnitPriority('isoWeek', 5);\r\n");
      out.write("\r\n");
      out.write("// PARSING\r\n");
      out.write("\r\n");
      out.write("addRegexToken('w', match1to2);\r\n");
      out.write("addRegexToken('ww', match1to2, match2);\r\n");
      out.write("addRegexToken('W', match1to2);\r\n");
      out.write("addRegexToken('WW', match1to2, match2);\r\n");
      out.write("\r\n");
      out.write("addWeekParseToken(['w', 'ww', 'W', 'WW'], function (\r\n");
      out.write("input,\r\n");
      out.write("week,\r\n");
      out.write("config,\r\n");
      out.write("token\r\n");
      out.write(") {\r\n");
      out.write("week[token.substr(0, 1)] = toInt(input);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("// HELPERS\r\n");
      out.write("\r\n");
      out.write("// LOCALES\r\n");
      out.write("\r\n");
      out.write("function localeWeek(mom) {\r\n");
      out.write("return weekOfYear(mom, this._week.dow, this._week.doy).week;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var defaultLocaleWeek = {\r\n");
      out.write("dow: 0, // Sunday is the first day of the week.\r\n");
      out.write("doy: 6, // The week that contains Jan 6th is the first week of the year.\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("function localeFirstDayOfWeek() {\r\n");
      out.write("return this._week.dow;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function localeFirstDayOfYear() {\r\n");
      out.write("return this._week.doy;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// MOMENTS\r\n");
      out.write("\r\n");
      out.write("function getSetWeek(input) {\r\n");
      out.write("var week = this.localeData().week(this);\r\n");
      out.write("return input == null ? week : this.add((input - week) * 7, 'd');\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getSetISOWeek(input) {\r\n");
      out.write("var week = weekOfYear(this, 1, 4).week;\r\n");
      out.write("return input == null ? week : this.add((input - week) * 7, 'd');\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// FORMATTING\r\n");
      out.write("\r\n");
      out.write("addFormatToken('d', 0, 'do', 'day');\r\n");
      out.write("\r\n");
      out.write("addFormatToken('dd', 0, 0, function (format) {\r\n");
      out.write("return this.localeData().weekdaysMin(this, format);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("addFormatToken('ddd', 0, 0, function (format) {\r\n");
      out.write("return this.localeData().weekdaysShort(this, format);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("addFormatToken('dddd', 0, 0, function (format) {\r\n");
      out.write("return this.localeData().weekdays(this, format);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("addFormatToken('e', 0, 0, 'weekday');\r\n");
      out.write("addFormatToken('E', 0, 0, 'isoWeekday');\r\n");
      out.write("\r\n");
      out.write("// ALIASES\r\n");
      out.write("\r\n");
      out.write("addUnitAlias('day', 'd');\r\n");
      out.write("addUnitAlias('weekday', 'e');\r\n");
      out.write("addUnitAlias('isoWeekday', 'E');\r\n");
      out.write("\r\n");
      out.write("// PRIORITY\r\n");
      out.write("addUnitPriority('day', 11);\r\n");
      out.write("addUnitPriority('weekday', 11);\r\n");
      out.write("addUnitPriority('isoWeekday', 11);\r\n");
      out.write("\r\n");
      out.write("// PARSING\r\n");
      out.write("\r\n");
      out.write("addRegexToken('d', match1to2);\r\n");
      out.write("addRegexToken('e', match1to2);\r\n");
      out.write("addRegexToken('E', match1to2);\r\n");
      out.write("addRegexToken('dd', function (isStrict, locale) {\r\n");
      out.write("return locale.weekdaysMinRegex(isStrict);\r\n");
      out.write("});\r\n");
      out.write("addRegexToken('ddd', function (isStrict, locale) {\r\n");
      out.write("return locale.weekdaysShortRegex(isStrict);\r\n");
      out.write("});\r\n");
      out.write("addRegexToken('dddd', function (isStrict, locale) {\r\n");
      out.write("return locale.weekdaysRegex(isStrict);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\r\n");
      out.write("var weekday = config._locale.weekdaysParse(input, token, config._strict);\r\n");
      out.write("// if we didn't get a weekday name, mark the date as invalid\r\n");
      out.write("if (weekday != null) {\r\n");
      out.write("week.d = weekday;\r\n");
      out.write("} else {\r\n");
      out.write("getParsingFlags(config).invalidWeekday = input;\r\n");
      out.write("}\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\r\n");
      out.write("week[token] = toInt(input);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("// HELPERS\r\n");
      out.write("\r\n");
      out.write("function parseWeekday(input, locale) {\r\n");
      out.write("if (typeof input !== 'string') {\r\n");
      out.write("return input;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (!isNaN(input)) {\r\n");
      out.write("return parseInt(input, 10);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("input = locale.weekdaysParse(input);\r\n");
      out.write("if (typeof input === 'number') {\r\n");
      out.write("return input;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return null;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function parseIsoWeekday(input, locale) {\r\n");
      out.write("if (typeof input === 'string') {\r\n");
      out.write("return locale.weekdaysParse(input) % 7 || 7;\r\n");
      out.write("}\r\n");
      out.write("return isNaN(input) ? null : input;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// LOCALES\r\n");
      out.write("function shiftWeekdays(ws, n) {\r\n");
      out.write("return ws.slice(n, 7).concat(ws.slice(0, n));\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split(\r\n");
      out.write("'_'\r\n");
      out.write("),\r\n");
      out.write("defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\r\n");
      out.write("defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\r\n");
      out.write("defaultWeekdaysRegex = matchWord,\r\n");
      out.write("defaultWeekdaysShortRegex = matchWord,\r\n");
      out.write("defaultWeekdaysMinRegex = matchWord;\r\n");
      out.write("\r\n");
      out.write("function localeWeekdays(m, format) {\r\n");
      out.write("var weekdays = isArray(this._weekdays)\r\n");
      out.write("? this._weekdays\r\n");
      out.write(": this._weekdays[\r\n");
      out.write("m && m !== true && this._weekdays.isFormat.test(format)\r\n");
      out.write("? 'format'\r\n");
      out.write(": 'standalone'\r\n");
      out.write("];\r\n");
      out.write("return m === true\r\n");
      out.write("? shiftWeekdays(weekdays, this._week.dow)\r\n");
      out.write(": m\r\n");
      out.write("? weekdays[m.day()]\r\n");
      out.write(": weekdays;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function localeWeekdaysShort(m) {\r\n");
      out.write("return m === true\r\n");
      out.write("? shiftWeekdays(this._weekdaysShort, this._week.dow)\r\n");
      out.write(": m\r\n");
      out.write("? this._weekdaysShort[m.day()]\r\n");
      out.write(": this._weekdaysShort;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function localeWeekdaysMin(m) {\r\n");
      out.write("return m === true\r\n");
      out.write("? shiftWeekdays(this._weekdaysMin, this._week.dow)\r\n");
      out.write(": m\r\n");
      out.write("? this._weekdaysMin[m.day()]\r\n");
      out.write(": this._weekdaysMin;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function handleStrictParse$1(weekdayName, format, strict) {\r\n");
      out.write("var i,\r\n");
      out.write("ii,\r\n");
      out.write("mom,\r\n");
      out.write("llc = weekdayName.toLocaleLowerCase();\r\n");
      out.write("if (!this._weekdaysParse) {\r\n");
      out.write("this._weekdaysParse = [];\r\n");
      out.write("this._shortWeekdaysParse = [];\r\n");
      out.write("this._minWeekdaysParse = [];\r\n");
      out.write("\r\n");
      out.write("for (i = 0; i < 7; ++i) {\r\n");
      out.write("mom = createUTC([2000, 1]).day(i);\r\n");
      out.write("this._minWeekdaysParse[i] = this.weekdaysMin(\r\n");
      out.write("mom,\r\n");
      out.write("''\r\n");
      out.write(").toLocaleLowerCase();\r\n");
      out.write("this._shortWeekdaysParse[i] = this.weekdaysShort(\r\n");
      out.write("mom,\r\n");
      out.write("''\r\n");
      out.write(").toLocaleLowerCase();\r\n");
      out.write("this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (strict) {\r\n");
      out.write("if (format === 'dddd') {\r\n");
      out.write("ii = indexOf.call(this._weekdaysParse, llc);\r\n");
      out.write("return ii !== -1 ? ii : null;\r\n");
      out.write("} else if (format === 'ddd') {\r\n");
      out.write("ii = indexOf.call(this._shortWeekdaysParse, llc);\r\n");
      out.write("return ii !== -1 ? ii : null;\r\n");
      out.write("} else {\r\n");
      out.write("ii = indexOf.call(this._minWeekdaysParse, llc);\r\n");
      out.write("return ii !== -1 ? ii : null;\r\n");
      out.write("}\r\n");
      out.write("} else {\r\n");
      out.write("if (format === 'dddd') {\r\n");
      out.write("ii = indexOf.call(this._weekdaysParse, llc);\r\n");
      out.write("if (ii !== -1) {\r\n");
      out.write("return ii;\r\n");
      out.write("}\r\n");
      out.write("ii = indexOf.call(this._shortWeekdaysParse, llc);\r\n");
      out.write("if (ii !== -1) {\r\n");
      out.write("return ii;\r\n");
      out.write("}\r\n");
      out.write("ii = indexOf.call(this._minWeekdaysParse, llc);\r\n");
      out.write("return ii !== -1 ? ii : null;\r\n");
      out.write("} else if (format === 'ddd') {\r\n");
      out.write("ii = indexOf.call(this._shortWeekdaysParse, llc);\r\n");
      out.write("if (ii !== -1) {\r\n");
      out.write("return ii;\r\n");
      out.write("}\r\n");
      out.write("ii = indexOf.call(this._weekdaysParse, llc);\r\n");
      out.write("if (ii !== -1) {\r\n");
      out.write("return ii;\r\n");
      out.write("}\r\n");
      out.write("ii = indexOf.call(this._minWeekdaysParse, llc);\r\n");
      out.write("return ii !== -1 ? ii : null;\r\n");
      out.write("} else {\r\n");
      out.write("ii = indexOf.call(this._minWeekdaysParse, llc);\r\n");
      out.write("if (ii !== -1) {\r\n");
      out.write("return ii;\r\n");
      out.write("}\r\n");
      out.write("ii = indexOf.call(this._weekdaysParse, llc);\r\n");
      out.write("if (ii !== -1) {\r\n");
      out.write("return ii;\r\n");
      out.write("}\r\n");
      out.write("ii = indexOf.call(this._shortWeekdaysParse, llc);\r\n");
      out.write("return ii !== -1 ? ii : null;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function localeWeekdaysParse(weekdayName, format, strict) {\r\n");
      out.write("var i, mom, regex;\r\n");
      out.write("\r\n");
      out.write("if (this._weekdaysParseExact) {\r\n");
      out.write("return handleStrictParse$1.call(this, weekdayName, format, strict);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (!this._weekdaysParse) {\r\n");
      out.write("this._weekdaysParse = [];\r\n");
      out.write("this._minWeekdaysParse = [];\r\n");
      out.write("this._shortWeekdaysParse = [];\r\n");
      out.write("this._fullWeekdaysParse = [];\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("for (i = 0; i < 7; i++) {\r\n");
      out.write("// make the regex if we don't have it already\r\n");
      out.write("\r\n");
      out.write("mom = createUTC([2000, 1]).day(i);\r\n");
      out.write("if (strict && !this._fullWeekdaysParse[i]) {\r\n");
      out.write("this._fullWeekdaysParse[i] = new RegExp(\r\n");
      out.write("'^' + this.weekdays(mom, '').replace('.', '\\\\.?') + '$',\r\n");
      out.write("'i'\r\n");
      out.write(");\r\n");
      out.write("this._shortWeekdaysParse[i] = new RegExp(\r\n");
      out.write("'^' + this.weekdaysShort(mom, '').replace('.', '\\\\.?') + '$',\r\n");
      out.write("'i'\r\n");
      out.write(");\r\n");
      out.write("this._minWeekdaysParse[i] = new RegExp(\r\n");
      out.write("'^' + this.weekdaysMin(mom, '').replace('.', '\\\\.?') + '$',\r\n");
      out.write("'i'\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("if (!this._weekdaysParse[i]) {\r\n");
      out.write("regex =\r\n");
      out.write("'^' +\r\n");
      out.write("this.weekdays(mom, '') +\r\n");
      out.write("'|^' +\r\n");
      out.write("this.weekdaysShort(mom, '') +\r\n");
      out.write("'|^' +\r\n");
      out.write("this.weekdaysMin(mom, '');\r\n");
      out.write("this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\r\n");
      out.write("}\r\n");
      out.write("// test the regex\r\n");
      out.write("if (\r\n");
      out.write("strict &&\r\n");
      out.write("format === 'dddd' &&\r\n");
      out.write("this._fullWeekdaysParse[i].test(weekdayName)\r\n");
      out.write(") {\r\n");
      out.write("return i;\r\n");
      out.write("} else if (\r\n");
      out.write("strict &&\r\n");
      out.write("format === 'ddd' &&\r\n");
      out.write("this._shortWeekdaysParse[i].test(weekdayName)\r\n");
      out.write(") {\r\n");
      out.write("return i;\r\n");
      out.write("} else if (\r\n");
      out.write("strict &&\r\n");
      out.write("format === 'dd' &&\r\n");
      out.write("this._minWeekdaysParse[i].test(weekdayName)\r\n");
      out.write(") {\r\n");
      out.write("return i;\r\n");
      out.write("} else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\r\n");
      out.write("return i;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// MOMENTS\r\n");
      out.write("\r\n");
      out.write("function getSetDayOfWeek(input) {\r\n");
      out.write("if (!this.isValid()) {\r\n");
      out.write("return input != null ? this : NaN;\r\n");
      out.write("}\r\n");
      out.write("var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\r\n");
      out.write("if (input != null) {\r\n");
      out.write("input = parseWeekday(input, this.localeData());\r\n");
      out.write("return this.add(input - day, 'd');\r\n");
      out.write("} else {\r\n");
      out.write("return day;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getSetLocaleDayOfWeek(input) {\r\n");
      out.write("if (!this.isValid()) {\r\n");
      out.write("return input != null ? this : NaN;\r\n");
      out.write("}\r\n");
      out.write("var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\r\n");
      out.write("return input == null ? weekday : this.add(input - weekday, 'd');\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getSetISODayOfWeek(input) {\r\n");
      out.write("if (!this.isValid()) {\r\n");
      out.write("return input != null ? this : NaN;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// behaves the same as moment#day except\r\n");
      out.write("// as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\r\n");
      out.write("// as a setter, sunday should belong to the previous week.\r\n");
      out.write("\r\n");
      out.write("if (input != null) {\r\n");
      out.write("var weekday = parseIsoWeekday(input, this.localeData());\r\n");
      out.write("return this.day(this.day() % 7 ? weekday : weekday - 7);\r\n");
      out.write("} else {\r\n");
      out.write("return this.day() || 7;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function weekdaysRegex(isStrict) {\r\n");
      out.write("if (this._weekdaysParseExact) {\r\n");
      out.write("if (!hasOwnProp(this, '_weekdaysRegex')) {\r\n");
      out.write("computeWeekdaysParse.call(this);\r\n");
      out.write("}\r\n");
      out.write("if (isStrict) {\r\n");
      out.write("return this._weekdaysStrictRegex;\r\n");
      out.write("} else {\r\n");
      out.write("return this._weekdaysRegex;\r\n");
      out.write("}\r\n");
      out.write("} else {\r\n");
      out.write("if (!hasOwnProp(this, '_weekdaysRegex')) {\r\n");
      out.write("this._weekdaysRegex = defaultWeekdaysRegex;\r\n");
      out.write("}\r\n");
      out.write("return this._weekdaysStrictRegex && isStrict\r\n");
      out.write("? this._weekdaysStrictRegex\r\n");
      out.write(": this._weekdaysRegex;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function weekdaysShortRegex(isStrict) {\r\n");
      out.write("if (this._weekdaysParseExact) {\r\n");
      out.write("if (!hasOwnProp(this, '_weekdaysRegex')) {\r\n");
      out.write("computeWeekdaysParse.call(this);\r\n");
      out.write("}\r\n");
      out.write("if (isStrict) {\r\n");
      out.write("return this._weekdaysShortStrictRegex;\r\n");
      out.write("} else {\r\n");
      out.write("return this._weekdaysShortRegex;\r\n");
      out.write("}\r\n");
      out.write("} else {\r\n");
      out.write("if (!hasOwnProp(this, '_weekdaysShortRegex')) {\r\n");
      out.write("this._weekdaysShortRegex = defaultWeekdaysShortRegex;\r\n");
      out.write("}\r\n");
      out.write("return this._weekdaysShortStrictRegex && isStrict\r\n");
      out.write("? this._weekdaysShortStrictRegex\r\n");
      out.write(": this._weekdaysShortRegex;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function weekdaysMinRegex(isStrict) {\r\n");
      out.write("if (this._weekdaysParseExact) {\r\n");
      out.write("if (!hasOwnProp(this, '_weekdaysRegex')) {\r\n");
      out.write("computeWeekdaysParse.call(this);\r\n");
      out.write("}\r\n");
      out.write("if (isStrict) {\r\n");
      out.write("return this._weekdaysMinStrictRegex;\r\n");
      out.write("} else {\r\n");
      out.write("return this._weekdaysMinRegex;\r\n");
      out.write("}\r\n");
      out.write("} else {\r\n");
      out.write("if (!hasOwnProp(this, '_weekdaysMinRegex')) {\r\n");
      out.write("this._weekdaysMinRegex = defaultWeekdaysMinRegex;\r\n");
      out.write("}\r\n");
      out.write("return this._weekdaysMinStrictRegex && isStrict\r\n");
      out.write("? this._weekdaysMinStrictRegex\r\n");
      out.write(": this._weekdaysMinRegex;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function computeWeekdaysParse() {\r\n");
      out.write("function cmpLenRev(a, b) {\r\n");
      out.write("return b.length - a.length;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var minPieces = [],\r\n");
      out.write("shortPieces = [],\r\n");
      out.write("longPieces = [],\r\n");
      out.write("mixedPieces = [],\r\n");
      out.write("i,\r\n");
      out.write("mom,\r\n");
      out.write("minp,\r\n");
      out.write("shortp,\r\n");
      out.write("longp;\r\n");
      out.write("for (i = 0; i < 7; i++) {\r\n");
      out.write("// make the regex if we don't have it already\r\n");
      out.write("mom = createUTC([2000, 1]).day(i);\r\n");
      out.write("minp = regexEscape(this.weekdaysMin(mom, ''));\r\n");
      out.write("shortp = regexEscape(this.weekdaysShort(mom, ''));\r\n");
      out.write("longp = regexEscape(this.weekdays(mom, ''));\r\n");
      out.write("minPieces.push(minp);\r\n");
      out.write("shortPieces.push(shortp);\r\n");
      out.write("longPieces.push(longp);\r\n");
      out.write("mixedPieces.push(minp);\r\n");
      out.write("mixedPieces.push(shortp);\r\n");
      out.write("mixedPieces.push(longp);\r\n");
      out.write("}\r\n");
      out.write("// Sorting makes sure if one weekday (or abbr) is a prefix of another it\r\n");
      out.write("// will match the longer piece.\r\n");
      out.write("minPieces.sort(cmpLenRev);\r\n");
      out.write("shortPieces.sort(cmpLenRev);\r\n");
      out.write("longPieces.sort(cmpLenRev);\r\n");
      out.write("mixedPieces.sort(cmpLenRev);\r\n");
      out.write("\r\n");
      out.write("this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\r\n");
      out.write("this._weekdaysShortRegex = this._weekdaysRegex;\r\n");
      out.write("this._weekdaysMinRegex = this._weekdaysRegex;\r\n");
      out.write("\r\n");
      out.write("this._weekdaysStrictRegex = new RegExp(\r\n");
      out.write("'^(' + longPieces.join('|') + ')',\r\n");
      out.write("'i'\r\n");
      out.write(");\r\n");
      out.write("this._weekdaysShortStrictRegex = new RegExp(\r\n");
      out.write("'^(' + shortPieces.join('|') + ')',\r\n");
      out.write("'i'\r\n");
      out.write(");\r\n");
      out.write("this._weekdaysMinStrictRegex = new RegExp(\r\n");
      out.write("'^(' + minPieces.join('|') + ')',\r\n");
      out.write("'i'\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// FORMATTING\r\n");
      out.write("\r\n");
      out.write("function hFormat() {\r\n");
      out.write("return this.hours() % 12 || 12;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function kFormat() {\r\n");
      out.write("return this.hours() || 24;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("addFormatToken('H', ['HH', 2], 0, 'hour');\r\n");
      out.write("addFormatToken('h', ['hh', 2], 0, hFormat);\r\n");
      out.write("addFormatToken('k', ['kk', 2], 0, kFormat);\r\n");
      out.write("\r\n");
      out.write("addFormatToken('hmm', 0, 0, function () {\r\n");
      out.write("return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("addFormatToken('hmmss', 0, 0, function () {\r\n");
      out.write("return (\r\n");
      out.write("'' +\r\n");
      out.write("hFormat.apply(this) +\r\n");
      out.write("zeroFill(this.minutes(), 2) +\r\n");
      out.write("zeroFill(this.seconds(), 2)\r\n");
      out.write(");\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("addFormatToken('Hmm', 0, 0, function () {\r\n");
      out.write("return '' + this.hours() + zeroFill(this.minutes(), 2);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("addFormatToken('Hmmss', 0, 0, function () {\r\n");
      out.write("return (\r\n");
      out.write("'' +\r\n");
      out.write("this.hours() +\r\n");
      out.write("zeroFill(this.minutes(), 2) +\r\n");
      out.write("zeroFill(this.seconds(), 2)\r\n");
      out.write(");\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("function meridiem(token, lowercase) {\r\n");
      out.write("addFormatToken(token, 0, 0, function () {\r\n");
      out.write("return this.localeData().meridiem(\r\n");
      out.write("this.hours(),\r\n");
      out.write("this.minutes(),\r\n");
      out.write("lowercase\r\n");
      out.write(");\r\n");
      out.write("});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("meridiem('a', true);\r\n");
      out.write("meridiem('A', false);\r\n");
      out.write("\r\n");
      out.write("// ALIASES\r\n");
      out.write("\r\n");
      out.write("addUnitAlias('hour', 'h');\r\n");
      out.write("\r\n");
      out.write("// PRIORITY\r\n");
      out.write("addUnitPriority('hour', 13);\r\n");
      out.write("\r\n");
      out.write("// PARSING\r\n");
      out.write("\r\n");
      out.write("function matchMeridiem(isStrict, locale) {\r\n");
      out.write("return locale._meridiemParse;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("addRegexToken('a', matchMeridiem);\r\n");
      out.write("addRegexToken('A', matchMeridiem);\r\n");
      out.write("addRegexToken('H', match1to2);\r\n");
      out.write("addRegexToken('h', match1to2);\r\n");
      out.write("addRegexToken('k', match1to2);\r\n");
      out.write("addRegexToken('HH', match1to2, match2);\r\n");
      out.write("addRegexToken('hh', match1to2, match2);\r\n");
      out.write("addRegexToken('kk', match1to2, match2);\r\n");
      out.write("\r\n");
      out.write("addRegexToken('hmm', match3to4);\r\n");
      out.write("addRegexToken('hmmss', match5to6);\r\n");
      out.write("addRegexToken('Hmm', match3to4);\r\n");
      out.write("addRegexToken('Hmmss', match5to6);\r\n");
      out.write("\r\n");
      out.write("addParseToken(['H', 'HH'], HOUR);\r\n");
      out.write("addParseToken(['k', 'kk'], function (input, array, config) {\r\n");
      out.write("var kInput = toInt(input);\r\n");
      out.write("array[HOUR] = kInput === 24 ? 0 : kInput;\r\n");
      out.write("});\r\n");
      out.write("addParseToken(['a', 'A'], function (input, array, config) {\r\n");
      out.write("config._isPm = config._locale.isPM(input);\r\n");
      out.write("config._meridiem = input;\r\n");
      out.write("});\r\n");
      out.write("addParseToken(['h', 'hh'], function (input, array, config) {\r\n");
      out.write("array[HOUR] = toInt(input);\r\n");
      out.write("getParsingFlags(config).bigHour = true;\r\n");
      out.write("});\r\n");
      out.write("addParseToken('hmm', function (input, array, config) {\r\n");
      out.write("var pos = input.length - 2;\r\n");
      out.write("array[HOUR] = toInt(input.substr(0, pos));\r\n");
      out.write("array[MINUTE] = toInt(input.substr(pos));\r\n");
      out.write("getParsingFlags(config).bigHour = true;\r\n");
      out.write("});\r\n");
      out.write("addParseToken('hmmss', function (input, array, config) {\r\n");
      out.write("var pos1 = input.length - 4,\r\n");
      out.write("pos2 = input.length - 2;\r\n");
      out.write("array[HOUR] = toInt(input.substr(0, pos1));\r\n");
      out.write("array[MINUTE] = toInt(input.substr(pos1, 2));\r\n");
      out.write("array[SECOND] = toInt(input.substr(pos2));\r\n");
      out.write("getParsingFlags(config).bigHour = true;\r\n");
      out.write("});\r\n");
      out.write("addParseToken('Hmm', function (input, array, config) {\r\n");
      out.write("var pos = input.length - 2;\r\n");
      out.write("array[HOUR] = toInt(input.substr(0, pos));\r\n");
      out.write("array[MINUTE] = toInt(input.substr(pos));\r\n");
      out.write("});\r\n");
      out.write("addParseToken('Hmmss', function (input, array, config) {\r\n");
      out.write("var pos1 = input.length - 4,\r\n");
      out.write("pos2 = input.length - 2;\r\n");
      out.write("array[HOUR] = toInt(input.substr(0, pos1));\r\n");
      out.write("array[MINUTE] = toInt(input.substr(pos1, 2));\r\n");
      out.write("array[SECOND] = toInt(input.substr(pos2));\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("// LOCALES\r\n");
      out.write("\r\n");
      out.write("function localeIsPM(input) {\r\n");
      out.write("// IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\r\n");
      out.write("// Using charAt should be more compatible.\r\n");
      out.write("return (input + '').toLowerCase().charAt(0) === 'p';\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i,\r\n");
      out.write("// Setting the hour should keep the time, because the user explicitly\r\n");
      out.write("// specified which hour they want. So trying to maintain the same hour (in\r\n");
      out.write("// a new timezone) makes sense. Adding/subtracting hours does not follow\r\n");
      out.write("// this rule.\r\n");
      out.write("getSetHour = makeGetSet('Hours', true);\r\n");
      out.write("\r\n");
      out.write("function localeMeridiem(hours, minutes, isLower) {\r\n");
      out.write("if (hours > 11) {\r\n");
      out.write("return isLower ? 'pm' : 'PM';\r\n");
      out.write("} else {\r\n");
      out.write("return isLower ? 'am' : 'AM';\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var baseConfig = {\r\n");
      out.write("calendar: defaultCalendar,\r\n");
      out.write("longDateFormat: defaultLongDateFormat,\r\n");
      out.write("invalidDate: defaultInvalidDate,\r\n");
      out.write("ordinal: defaultOrdinal,\r\n");
      out.write("dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\r\n");
      out.write("relativeTime: defaultRelativeTime,\r\n");
      out.write("\r\n");
      out.write("months: defaultLocaleMonths,\r\n");
      out.write("monthsShort: defaultLocaleMonthsShort,\r\n");
      out.write("\r\n");
      out.write("week: defaultLocaleWeek,\r\n");
      out.write("\r\n");
      out.write("weekdays: defaultLocaleWeekdays,\r\n");
      out.write("weekdaysMin: defaultLocaleWeekdaysMin,\r\n");
      out.write("weekdaysShort: defaultLocaleWeekdaysShort,\r\n");
      out.write("\r\n");
      out.write("meridiemParse: defaultLocaleMeridiemParse,\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("// internal storage for locale config files\r\n");
      out.write("var locales = {},\r\n");
      out.write("localeFamilies = {},\r\n");
      out.write("globalLocale;\r\n");
      out.write("\r\n");
      out.write("function commonPrefix(arr1, arr2) {\r\n");
      out.write("var i,\r\n");
      out.write("minl = Math.min(arr1.length, arr2.length);\r\n");
      out.write("for (i = 0; i < minl; i += 1) {\r\n");
      out.write("if (arr1[i] !== arr2[i]) {\r\n");
      out.write("return i;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("return minl;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function normalizeLocale(key) {\r\n");
      out.write("return key ? key.toLowerCase().replace('_', '-') : key;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// pick the locale from the array\r\n");
      out.write("// try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\r\n");
      out.write("// substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\r\n");
      out.write("function chooseLocale(names) {\r\n");
      out.write("var i = 0,\r\n");
      out.write("j,\r\n");
      out.write("next,\r\n");
      out.write("locale,\r\n");
      out.write("split;\r\n");
      out.write("\r\n");
      out.write("while (i < names.length) {\r\n");
      out.write("split = normalizeLocale(names[i]).split('-');\r\n");
      out.write("j = split.length;\r\n");
      out.write("next = normalizeLocale(names[i + 1]);\r\n");
      out.write("next = next ? next.split('-') : null;\r\n");
      out.write("while (j > 0) {\r\n");
      out.write("locale = loadLocale(split.slice(0, j).join('-'));\r\n");
      out.write("if (locale) {\r\n");
      out.write("return locale;\r\n");
      out.write("}\r\n");
      out.write("if (\r\n");
      out.write("next &&\r\n");
      out.write("next.length >= j &&\r\n");
      out.write("commonPrefix(split, next) >= j - 1\r\n");
      out.write(") {\r\n");
      out.write("//the next array item is better than a shallower substring of this one\r\n");
      out.write("break;\r\n");
      out.write("}\r\n");
      out.write("j--;\r\n");
      out.write("}\r\n");
      out.write("i++;\r\n");
      out.write("}\r\n");
      out.write("return globalLocale;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function loadLocale(name) {\r\n");
      out.write("var oldLocale = null,\r\n");
      out.write("aliasedRequire;\r\n");
      out.write("// TODO: Find a better way to register and load all the locales in Node\r\n");
      out.write("if (\r\n");
      out.write("locales[name] === undefined &&\r\n");
      out.write("typeof module !== 'undefined' &&\r\n");
      out.write("module &&\r\n");
      out.write("module.exports\r\n");
      out.write(") {\r\n");
      out.write("try {\r\n");
      out.write("oldLocale = globalLocale._abbr;\r\n");
      out.write("aliasedRequire = require;\r\n");
      out.write("aliasedRequire('./locale/' + name);\r\n");
      out.write("getSetGlobalLocale(oldLocale);\r\n");
      out.write("} catch (e) {\r\n");
      out.write("// mark as not found to avoid repeating expensive file require call causing high CPU\r\n");
      out.write("// when trying to find en-US, en_US, en-us for every format call\r\n");
      out.write("locales[name] = null; // null means not found\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("return locales[name];\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// This function will load locale and then set the global locale.  If\r\n");
      out.write("// no arguments are passed in, it will simply return the current global\r\n");
      out.write("// locale key.\r\n");
      out.write("function getSetGlobalLocale(key, values) {\r\n");
      out.write("var data;\r\n");
      out.write("if (key) {\r\n");
      out.write("if (isUndefined(values)) {\r\n");
      out.write("data = getLocale(key);\r\n");
      out.write("} else {\r\n");
      out.write("data = defineLocale(key, values);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (data) {\r\n");
      out.write("// moment.duration._locale = moment._locale = data;\r\n");
      out.write("globalLocale = data;\r\n");
      out.write("} else {\r\n");
      out.write("if (typeof console !== 'undefined' && console.warn) {\r\n");
      out.write("//warn user if arguments are passed but the locale could not be set\r\n");
      out.write("console.warn(\r\n");
      out.write("'Locale ' + key + ' not found. Did you forget to load it?'\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return globalLocale._abbr;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function defineLocale(name, config) {\r\n");
      out.write("if (config !== null) {\r\n");
      out.write("var locale,\r\n");
      out.write("parentConfig = baseConfig;\r\n");
      out.write("config.abbr = name;\r\n");
      out.write("if (locales[name] != null) {\r\n");
      out.write("deprecateSimple(\r\n");
      out.write("'defineLocaleOverride',\r\n");
      out.write("'use moment.updateLocale(localeName, config) to change ' +\r\n");
      out.write("'an existing locale. moment.defineLocale(localeName, ' +\r\n");
      out.write("'config) should only be used for creating a new locale ' +\r\n");
      out.write("'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.'\r\n");
      out.write(");\r\n");
      out.write("parentConfig = locales[name]._config;\r\n");
      out.write("} else if (config.parentLocale != null) {\r\n");
      out.write("if (locales[config.parentLocale] != null) {\r\n");
      out.write("parentConfig = locales[config.parentLocale]._config;\r\n");
      out.write("} else {\r\n");
      out.write("locale = loadLocale(config.parentLocale);\r\n");
      out.write("if (locale != null) {\r\n");
      out.write("parentConfig = locale._config;\r\n");
      out.write("} else {\r\n");
      out.write("if (!localeFamilies[config.parentLocale]) {\r\n");
      out.write("localeFamilies[config.parentLocale] = [];\r\n");
      out.write("}\r\n");
      out.write("localeFamilies[config.parentLocale].push({\r\n");
      out.write("name: name,\r\n");
      out.write("config: config,\r\n");
      out.write("});\r\n");
      out.write("return null;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("locales[name] = new Locale(mergeConfigs(parentConfig, config));\r\n");
      out.write("\r\n");
      out.write("if (localeFamilies[name]) {\r\n");
      out.write("localeFamilies[name].forEach(function (x) {\r\n");
      out.write("defineLocale(x.name, x.config);\r\n");
      out.write("});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// backwards compat for now: also set the locale\r\n");
      out.write("// make sure we set the locale AFTER all child locales have been\r\n");
      out.write("// created, so we won't end up with the child locale set.\r\n");
      out.write("getSetGlobalLocale(name);\r\n");
      out.write("\r\n");
      out.write("return locales[name];\r\n");
      out.write("} else {\r\n");
      out.write("// useful for testing\r\n");
      out.write("delete locales[name];\r\n");
      out.write("return null;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function updateLocale(name, config) {\r\n");
      out.write("if (config != null) {\r\n");
      out.write("var locale,\r\n");
      out.write("tmpLocale,\r\n");
      out.write("parentConfig = baseConfig;\r\n");
      out.write("\r\n");
      out.write("if (locales[name] != null && locales[name].parentLocale != null) {\r\n");
      out.write("// Update existing child locale in-place to avoid memory-leaks\r\n");
      out.write("locales[name].set(mergeConfigs(locales[name]._config, config));\r\n");
      out.write("} else {\r\n");
      out.write("// MERGE\r\n");
      out.write("tmpLocale = loadLocale(name);\r\n");
      out.write("if (tmpLocale != null) {\r\n");
      out.write("parentConfig = tmpLocale._config;\r\n");
      out.write("}\r\n");
      out.write("config = mergeConfigs(parentConfig, config);\r\n");
      out.write("if (tmpLocale == null) {\r\n");
      out.write("// updateLocale is called for creating a new locale\r\n");
      out.write("// Set abbr so it will have a name (getters return\r\n");
      out.write("// undefined otherwise).\r\n");
      out.write("config.abbr = name;\r\n");
      out.write("}\r\n");
      out.write("locale = new Locale(config);\r\n");
      out.write("locale.parentLocale = locales[name];\r\n");
      out.write("locales[name] = locale;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// backwards compat for now: also set the locale\r\n");
      out.write("getSetGlobalLocale(name);\r\n");
      out.write("} else {\r\n");
      out.write("// pass null for config to unupdate, useful for tests\r\n");
      out.write("if (locales[name] != null) {\r\n");
      out.write("if (locales[name].parentLocale != null) {\r\n");
      out.write("locales[name] = locales[name].parentLocale;\r\n");
      out.write("if (name === getSetGlobalLocale()) {\r\n");
      out.write("getSetGlobalLocale(name);\r\n");
      out.write("}\r\n");
      out.write("} else if (locales[name] != null) {\r\n");
      out.write("delete locales[name];\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("return locales[name];\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// returns locale data\r\n");
      out.write("function getLocale(key) {\r\n");
      out.write("var locale;\r\n");
      out.write("\r\n");
      out.write("if (key && key._locale && key._locale._abbr) {\r\n");
      out.write("key = key._locale._abbr;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (!key) {\r\n");
      out.write("return globalLocale;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (!isArray(key)) {\r\n");
      out.write("//short-circuit everything else\r\n");
      out.write("locale = loadLocale(key);\r\n");
      out.write("if (locale) {\r\n");
      out.write("return locale;\r\n");
      out.write("}\r\n");
      out.write("key = [key];\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return chooseLocale(key);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function listLocales() {\r\n");
      out.write("return keys(locales);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function checkOverflow(m) {\r\n");
      out.write("var overflow,\r\n");
      out.write("a = m._a;\r\n");
      out.write("\r\n");
      out.write("if (a && getParsingFlags(m).overflow === -2) {\r\n");
      out.write("overflow =\r\n");
      out.write("a[MONTH] < 0 || a[MONTH] > 11\r\n");
      out.write("? MONTH\r\n");
      out.write(": a[DATE] < 1 || a[DATE] > daysInMonth(a[YEAR], a[MONTH])\r\n");
      out.write("? DATE\r\n");
      out.write(": a[HOUR] < 0 ||\r\n");
      out.write("a[HOUR] > 24 ||\r\n");
      out.write("(a[HOUR] === 24 &&\r\n");
      out.write("(a[MINUTE] !== 0 ||\r\n");
      out.write("a[SECOND] !== 0 ||\r\n");
      out.write("a[MILLISECOND] !== 0))\r\n");
      out.write("? HOUR\r\n");
      out.write(": a[MINUTE] < 0 || a[MINUTE] > 59\r\n");
      out.write("? MINUTE\r\n");
      out.write(": a[SECOND] < 0 || a[SECOND] > 59\r\n");
      out.write("? SECOND\r\n");
      out.write(": a[MILLISECOND] < 0 || a[MILLISECOND] > 999\r\n");
      out.write("? MILLISECOND\r\n");
      out.write(": -1;\r\n");
      out.write("\r\n");
      out.write("if (\r\n");
      out.write("getParsingFlags(m)._overflowDayOfYear &&\r\n");
      out.write("(overflow < YEAR || overflow > DATE)\r\n");
      out.write(") {\r\n");
      out.write("overflow = DATE;\r\n");
      out.write("}\r\n");
      out.write("if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\r\n");
      out.write("overflow = WEEK;\r\n");
      out.write("}\r\n");
      out.write("if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\r\n");
      out.write("overflow = WEEKDAY;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("getParsingFlags(m).overflow = overflow;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return m;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// iso 8601 regex\r\n");
      out.write("// 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\r\n");
      out.write("var extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,\r\n");
      out.write("basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d|))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,\r\n");
      out.write("tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/,\r\n");
      out.write("isoDates = [\r\n");
      out.write("['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\r\n");
      out.write("['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\r\n");
      out.write("['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\r\n");
      out.write("['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\r\n");
      out.write("['YYYY-DDD', /\\d{4}-\\d{3}/],\r\n");
      out.write("['YYYY-MM', /\\d{4}-\\d\\d/, false],\r\n");
      out.write("['YYYYYYMMDD', /[+-]\\d{10}/],\r\n");
      out.write("['YYYYMMDD', /\\d{8}/],\r\n");
      out.write("['GGGG[W]WWE', /\\d{4}W\\d{3}/],\r\n");
      out.write("['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\r\n");
      out.write("['YYYYDDD', /\\d{7}/],\r\n");
      out.write("['YYYYMM', /\\d{6}/, false],\r\n");
      out.write("['YYYY', /\\d{4}/, false],\r\n");
      out.write("],\r\n");
      out.write("// iso time formats and regexes\r\n");
      out.write("isoTimes = [\r\n");
      out.write("['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\r\n");
      out.write("['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\r\n");
      out.write("['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\r\n");
      out.write("['HH:mm', /\\d\\d:\\d\\d/],\r\n");
      out.write("['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\r\n");
      out.write("['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\r\n");
      out.write("['HHmmss', /\\d\\d\\d\\d\\d\\d/],\r\n");
      out.write("['HHmm', /\\d\\d\\d\\d/],\r\n");
      out.write("['HH', /\\d\\d/],\r\n");
      out.write("],\r\n");
      out.write("aspNetJsonRegex = /^\\/?Date\\((-?\\d+)/i,\r\n");
      out.write("// RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\r\n");
      out.write("rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/,\r\n");
      out.write("obsOffsets = {\r\n");
      out.write("UT: 0,\r\n");
      out.write("GMT: 0,\r\n");
      out.write("EDT: -4 * 60,\r\n");
      out.write("EST: -5 * 60,\r\n");
      out.write("CDT: -5 * 60,\r\n");
      out.write("CST: -6 * 60,\r\n");
      out.write("MDT: -6 * 60,\r\n");
      out.write("MST: -7 * 60,\r\n");
      out.write("PDT: -7 * 60,\r\n");
      out.write("PST: -8 * 60,\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("// date from iso format\r\n");
      out.write("function configFromISO(config) {\r\n");
      out.write("var i,\r\n");
      out.write("l,\r\n");
      out.write("string = config._i,\r\n");
      out.write("match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\r\n");
      out.write("allowTime,\r\n");
      out.write("dateFormat,\r\n");
      out.write("timeFormat,\r\n");
      out.write("tzFormat;\r\n");
      out.write("\r\n");
      out.write("if (match) {\r\n");
      out.write("getParsingFlags(config).iso = true;\r\n");
      out.write("\r\n");
      out.write("for (i = 0, l = isoDates.length; i < l; i++) {\r\n");
      out.write("if (isoDates[i][1].exec(match[1])) {\r\n");
      out.write("dateFormat = isoDates[i][0];\r\n");
      out.write("allowTime = isoDates[i][2] !== false;\r\n");
      out.write("break;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("if (dateFormat == null) {\r\n");
      out.write("config._isValid = false;\r\n");
      out.write("return;\r\n");
      out.write("}\r\n");
      out.write("if (match[3]) {\r\n");
      out.write("for (i = 0, l = isoTimes.length; i < l; i++) {\r\n");
      out.write("if (isoTimes[i][1].exec(match[3])) {\r\n");
      out.write("// match[2] should be 'T' or space\r\n");
      out.write("timeFormat = (match[2] || ' ') + isoTimes[i][0];\r\n");
      out.write("break;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("if (timeFormat == null) {\r\n");
      out.write("config._isValid = false;\r\n");
      out.write("return;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("if (!allowTime && timeFormat != null) {\r\n");
      out.write("config._isValid = false;\r\n");
      out.write("return;\r\n");
      out.write("}\r\n");
      out.write("if (match[4]) {\r\n");
      out.write("if (tzRegex.exec(match[4])) {\r\n");
      out.write("tzFormat = 'Z';\r\n");
      out.write("} else {\r\n");
      out.write("config._isValid = false;\r\n");
      out.write("return;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\r\n");
      out.write("configFromStringAndFormat(config);\r\n");
      out.write("} else {\r\n");
      out.write("config._isValid = false;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function extractFromRFC2822Strings(\r\n");
      out.write("yearStr,\r\n");
      out.write("monthStr,\r\n");
      out.write("dayStr,\r\n");
      out.write("hourStr,\r\n");
      out.write("minuteStr,\r\n");
      out.write("secondStr\r\n");
      out.write(") {\r\n");
      out.write("var result = [\r\n");
      out.write("untruncateYear(yearStr),\r\n");
      out.write("defaultLocaleMonthsShort.indexOf(monthStr),\r\n");
      out.write("parseInt(dayStr, 10),\r\n");
      out.write("parseInt(hourStr, 10),\r\n");
      out.write("parseInt(minuteStr, 10),\r\n");
      out.write("];\r\n");
      out.write("\r\n");
      out.write("if (secondStr) {\r\n");
      out.write("result.push(parseInt(secondStr, 10));\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return result;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function untruncateYear(yearStr) {\r\n");
      out.write("var year = parseInt(yearStr, 10);\r\n");
      out.write("if (year <= 49) {\r\n");
      out.write("return 2000 + year;\r\n");
      out.write("} else if (year <= 999) {\r\n");
      out.write("return 1900 + year;\r\n");
      out.write("}\r\n");
      out.write("return year;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function preprocessRFC2822(s) {\r\n");
      out.write("// Remove comments and folding whitespace and replace multiple-spaces with a single space\r\n");
      out.write("return s\r\n");
      out.write(".replace(/\\([^)]*\\)|[\\n\\t]/g, ' ')\r\n");
      out.write(".replace(/(\\s\\s+)/g, ' ')\r\n");
      out.write(".replace(/^\\s\\s*/, '')\r\n");
      out.write(".replace(/\\s\\s*$/, '');\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function checkWeekday(weekdayStr, parsedInput, config) {\r\n");
      out.write("if (weekdayStr) {\r\n");
      out.write("// TODO: Replace the vanilla JS Date object with an independent day-of-week check.\r\n");
      out.write("var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),\r\n");
      out.write("weekdayActual = new Date(\r\n");
      out.write("parsedInput[0],\r\n");
      out.write("parsedInput[1],\r\n");
      out.write("parsedInput[2]\r\n");
      out.write(").getDay();\r\n");
      out.write("if (weekdayProvided !== weekdayActual) {\r\n");
      out.write("getParsingFlags(config).weekdayMismatch = true;\r\n");
      out.write("config._isValid = false;\r\n");
      out.write("return false;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("return true;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function calculateOffset(obsOffset, militaryOffset, numOffset) {\r\n");
      out.write("if (obsOffset) {\r\n");
      out.write("return obsOffsets[obsOffset];\r\n");
      out.write("} else if (militaryOffset) {\r\n");
      out.write("// the only allowed military tz is Z\r\n");
      out.write("return 0;\r\n");
      out.write("} else {\r\n");
      out.write("var hm = parseInt(numOffset, 10),\r\n");
      out.write("m = hm % 100,\r\n");
      out.write("h = (hm - m) / 100;\r\n");
      out.write("return h * 60 + m;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// date and time from ref 2822 format\r\n");
      out.write("function configFromRFC2822(config) {\r\n");
      out.write("var match = rfc2822.exec(preprocessRFC2822(config._i)),\r\n");
      out.write("parsedArray;\r\n");
      out.write("if (match) {\r\n");
      out.write("parsedArray = extractFromRFC2822Strings(\r\n");
      out.write("match[4],\r\n");
      out.write("match[3],\r\n");
      out.write("match[2],\r\n");
      out.write("match[5],\r\n");
      out.write("match[6],\r\n");
      out.write("match[7]\r\n");
      out.write(");\r\n");
      out.write("if (!checkWeekday(match[1], parsedArray, config)) {\r\n");
      out.write("return;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("config._a = parsedArray;\r\n");
      out.write("config._tzm = calculateOffset(match[8], match[9], match[10]);\r\n");
      out.write("\r\n");
      out.write("config._d = createUTCDate.apply(null, config._a);\r\n");
      out.write("config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\r\n");
      out.write("\r\n");
      out.write("getParsingFlags(config).rfc2822 = true;\r\n");
      out.write("} else {\r\n");
      out.write("config._isValid = false;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// date from 1) ASP.NET, 2) ISO, 3) RFC 2822 formats, or 4) optional fallback if parsing isn't strict\r\n");
      out.write("function configFromString(config) {\r\n");
      out.write("var matched = aspNetJsonRegex.exec(config._i);\r\n");
      out.write("if (matched !== null) {\r\n");
      out.write("config._d = new Date(+matched[1]);\r\n");
      out.write("return;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("configFromISO(config);\r\n");
      out.write("if (config._isValid === false) {\r\n");
      out.write("delete config._isValid;\r\n");
      out.write("} else {\r\n");
      out.write("return;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("configFromRFC2822(config);\r\n");
      out.write("if (config._isValid === false) {\r\n");
      out.write("delete config._isValid;\r\n");
      out.write("} else {\r\n");
      out.write("return;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (config._strict) {\r\n");
      out.write("config._isValid = false;\r\n");
      out.write("} else {\r\n");
      out.write("// Final attempt, use Input Fallback\r\n");
      out.write("hooks.createFromInputFallback(config);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("hooks.createFromInputFallback = deprecate(\r\n");
      out.write("'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\r\n");
      out.write("'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\r\n");
      out.write("'discouraged and will be removed in an upcoming major release. Please refer to ' +\r\n");
      out.write("'http://momentjs.com/guides/#/warnings/js-date/ for more info.',\r\n");
      out.write("function (config) {\r\n");
      out.write("config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\r\n");
      out.write("}\r\n");
      out.write(");\r\n");
      out.write("\r\n");
      out.write("// Pick the first defined of two or three arguments.\r\n");
      out.write("function defaults(a, b, c) {\r\n");
      out.write("if (a != null) {\r\n");
      out.write("return a;\r\n");
      out.write("}\r\n");
      out.write("if (b != null) {\r\n");
      out.write("return b;\r\n");
      out.write("}\r\n");
      out.write("return c;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function currentDateArray(config) {\r\n");
      out.write("// hooks is actually the exported moment object\r\n");
      out.write("var nowValue = new Date(hooks.now());\r\n");
      out.write("if (config._useUTC) {\r\n");
      out.write("return [\r\n");
      out.write("nowValue.getUTCFullYear(),\r\n");
      out.write("nowValue.getUTCMonth(),\r\n");
      out.write("nowValue.getUTCDate(),\r\n");
      out.write("];\r\n");
      out.write("}\r\n");
      out.write("return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// convert an array to a date.\r\n");
      out.write("// the array should mirror the parameters below\r\n");
      out.write("// note: all values past the year are optional and will default to the lowest possible value.\r\n");
      out.write("// [year, month, day , hour, minute, second, millisecond]\r\n");
      out.write("function configFromArray(config) {\r\n");
      out.write("var i,\r\n");
      out.write("date,\r\n");
      out.write("input = [],\r\n");
      out.write("currentDate,\r\n");
      out.write("expectedWeekday,\r\n");
      out.write("yearToUse;\r\n");
      out.write("\r\n");
      out.write("if (config._d) {\r\n");
      out.write("return;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("currentDate = currentDateArray(config);\r\n");
      out.write("\r\n");
      out.write("//compute day of the year from weeks and weekdays\r\n");
      out.write("if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\r\n");
      out.write("dayOfYearFromWeekInfo(config);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//if the day of the year is set, figure out what it is\r\n");
      out.write("if (config._dayOfYear != null) {\r\n");
      out.write("yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\r\n");
      out.write("\r\n");
      out.write("if (\r\n");
      out.write("config._dayOfYear > daysInYear(yearToUse) ||\r\n");
      out.write("config._dayOfYear === 0\r\n");
      out.write(") {\r\n");
      out.write("getParsingFlags(config)._overflowDayOfYear = true;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("date = createUTCDate(yearToUse, 0, config._dayOfYear);\r\n");
      out.write("config._a[MONTH] = date.getUTCMonth();\r\n");
      out.write("config._a[DATE] = date.getUTCDate();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// Default to current date.\r\n");
      out.write("// * if no year, month, day of month are given, default to today\r\n");
      out.write("// * if day of month is given, default month and year\r\n");
      out.write("// * if month is given, default only year\r\n");
      out.write("// * if year is given, don't default anything\r\n");
      out.write("for (i = 0; i < 3 && config._a[i] == null; ++i) {\r\n");
      out.write("config._a[i] = input[i] = currentDate[i];\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// Zero out whatever was not defaulted, including time\r\n");
      out.write("for (; i < 7; i++) {\r\n");
      out.write("config._a[i] = input[i] =\r\n");
      out.write("config._a[i] == null ? (i === 2 ? 1 : 0) : config._a[i];\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// Check for 24:00:00.000\r\n");
      out.write("if (\r\n");
      out.write("config._a[HOUR] === 24 &&\r\n");
      out.write("config._a[MINUTE] === 0 &&\r\n");
      out.write("config._a[SECOND] === 0 &&\r\n");
      out.write("config._a[MILLISECOND] === 0\r\n");
      out.write(") {\r\n");
      out.write("config._nextDay = true;\r\n");
      out.write("config._a[HOUR] = 0;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("config._d = (config._useUTC ? createUTCDate : createDate).apply(\r\n");
      out.write("null,\r\n");
      out.write("input\r\n");
      out.write(");\r\n");
      out.write("expectedWeekday = config._useUTC\r\n");
      out.write("? config._d.getUTCDay()\r\n");
      out.write(": config._d.getDay();\r\n");
      out.write("\r\n");
      out.write("// Apply timezone offset from input. The actual utcOffset can be changed\r\n");
      out.write("// with parseZone.\r\n");
      out.write("if (config._tzm != null) {\r\n");
      out.write("config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (config._nextDay) {\r\n");
      out.write("config._a[HOUR] = 24;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// check for mismatching day of week\r\n");
      out.write("if (\r\n");
      out.write("config._w &&\r\n");
      out.write("typeof config._w.d !== 'undefined' &&\r\n");
      out.write("config._w.d !== expectedWeekday\r\n");
      out.write(") {\r\n");
      out.write("getParsingFlags(config).weekdayMismatch = true;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function dayOfYearFromWeekInfo(config) {\r\n");
      out.write("var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow, curWeek;\r\n");
      out.write("\r\n");
      out.write("w = config._w;\r\n");
      out.write("if (w.GG != null || w.W != null || w.E != null) {\r\n");
      out.write("dow = 1;\r\n");
      out.write("doy = 4;\r\n");
      out.write("\r\n");
      out.write("// TODO: We need to take the current isoWeekYear, but that depends on\r\n");
      out.write("// how we interpret now (local, utc, fixed offset). So create\r\n");
      out.write("// a now version of current config (take local/utc/offset flags, and\r\n");
      out.write("// create now).\r\n");
      out.write("weekYear = defaults(\r\n");
      out.write("w.GG,\r\n");
      out.write("config._a[YEAR],\r\n");
      out.write("weekOfYear(createLocal(), 1, 4).year\r\n");
      out.write(");\r\n");
      out.write("week = defaults(w.W, 1);\r\n");
      out.write("weekday = defaults(w.E, 1);\r\n");
      out.write("if (weekday < 1 || weekday > 7) {\r\n");
      out.write("weekdayOverflow = true;\r\n");
      out.write("}\r\n");
      out.write("} else {\r\n");
      out.write("dow = config._locale._week.dow;\r\n");
      out.write("doy = config._locale._week.doy;\r\n");
      out.write("\r\n");
      out.write("curWeek = weekOfYear(createLocal(), dow, doy);\r\n");
      out.write("\r\n");
      out.write("weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\r\n");
      out.write("\r\n");
      out.write("// Default to current week.\r\n");
      out.write("week = defaults(w.w, curWeek.week);\r\n");
      out.write("\r\n");
      out.write("if (w.d != null) {\r\n");
      out.write("// weekday -- low day numbers are considered next week\r\n");
      out.write("weekday = w.d;\r\n");
      out.write("if (weekday < 0 || weekday > 6) {\r\n");
      out.write("weekdayOverflow = true;\r\n");
      out.write("}\r\n");
      out.write("} else if (w.e != null) {\r\n");
      out.write("// local weekday -- counting starts from beginning of week\r\n");
      out.write("weekday = w.e + dow;\r\n");
      out.write("if (w.e < 0 || w.e > 6) {\r\n");
      out.write("weekdayOverflow = true;\r\n");
      out.write("}\r\n");
      out.write("} else {\r\n");
      out.write("// default to beginning of week\r\n");
      out.write("weekday = dow;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\r\n");
      out.write("getParsingFlags(config)._overflowWeeks = true;\r\n");
      out.write("} else if (weekdayOverflow != null) {\r\n");
      out.write("getParsingFlags(config)._overflowWeekday = true;\r\n");
      out.write("} else {\r\n");
      out.write("temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\r\n");
      out.write("config._a[YEAR] = temp.year;\r\n");
      out.write("config._dayOfYear = temp.dayOfYear;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// constant that refers to the ISO standard\r\n");
      out.write("hooks.ISO_8601 = function () {};\r\n");
      out.write("\r\n");
      out.write("// constant that refers to the RFC 2822 form\r\n");
      out.write("hooks.RFC_2822 = function () {};\r\n");
      out.write("\r\n");
      out.write("// date from string and format string\r\n");
      out.write("function configFromStringAndFormat(config) {\r\n");
      out.write("// TODO: Move this to another part of the creation flow to prevent circular deps\r\n");
      out.write("if (config._f === hooks.ISO_8601) {\r\n");
      out.write("configFromISO(config);\r\n");
      out.write("return;\r\n");
      out.write("}\r\n");
      out.write("if (config._f === hooks.RFC_2822) {\r\n");
      out.write("configFromRFC2822(config);\r\n");
      out.write("return;\r\n");
      out.write("}\r\n");
      out.write("config._a = [];\r\n");
      out.write("getParsingFlags(config).empty = true;\r\n");
      out.write("\r\n");
      out.write("// This array is used to make a Date, either with `new Date` or `Date.UTC`\r\n");
      out.write("var string = '' + config._i,\r\n");
      out.write("i,\r\n");
      out.write("parsedInput,\r\n");
      out.write("tokens,\r\n");
      out.write("token,\r\n");
      out.write("skipped,\r\n");
      out.write("stringLength = string.length,\r\n");
      out.write("totalParsedInputLength = 0,\r\n");
      out.write("era;\r\n");
      out.write("\r\n");
      out.write("tokens =\r\n");
      out.write("expandFormat(config._f, config._locale).match(formattingTokens) || [];\r\n");
      out.write("\r\n");
      out.write("for (i = 0; i < tokens.length; i++) {\r\n");
      out.write("token = tokens[i];\r\n");
      out.write("parsedInput = (string.match(getParseRegexForToken(token, config)) ||\r\n");
      out.write("[])[0];\r\n");
      out.write("if (parsedInput) {\r\n");
      out.write("skipped = string.substr(0, string.indexOf(parsedInput));\r\n");
      out.write("if (skipped.length > 0) {\r\n");
      out.write("getParsingFlags(config).unusedInput.push(skipped);\r\n");
      out.write("}\r\n");
      out.write("string = string.slice(\r\n");
      out.write("string.indexOf(parsedInput) + parsedInput.length\r\n");
      out.write(");\r\n");
      out.write("totalParsedInputLength += parsedInput.length;\r\n");
      out.write("}\r\n");
      out.write("// don't parse if it's not a known token\r\n");
      out.write("if (formatTokenFunctions[token]) {\r\n");
      out.write("if (parsedInput) {\r\n");
      out.write("getParsingFlags(config).empty = false;\r\n");
      out.write("} else {\r\n");
      out.write("getParsingFlags(config).unusedTokens.push(token);\r\n");
      out.write("}\r\n");
      out.write("addTimeToArrayFromToken(token, parsedInput, config);\r\n");
      out.write("} else if (config._strict && !parsedInput) {\r\n");
      out.write("getParsingFlags(config).unusedTokens.push(token);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// add remaining unparsed input length to the string\r\n");
      out.write("getParsingFlags(config).charsLeftOver =\r\n");
      out.write("stringLength - totalParsedInputLength;\r\n");
      out.write("if (string.length > 0) {\r\n");
      out.write("getParsingFlags(config).unusedInput.push(string);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// clear _12h flag if hour is <= 12\r\n");
      out.write("if (\r\n");
      out.write("config._a[HOUR] <= 12 &&\r\n");
      out.write("getParsingFlags(config).bigHour === true &&\r\n");
      out.write("config._a[HOUR] > 0\r\n");
      out.write(") {\r\n");
      out.write("getParsingFlags(config).bigHour = undefined;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("getParsingFlags(config).parsedDateParts = config._a.slice(0);\r\n");
      out.write("getParsingFlags(config).meridiem = config._meridiem;\r\n");
      out.write("// handle meridiem\r\n");
      out.write("config._a[HOUR] = meridiemFixWrap(\r\n");
      out.write("config._locale,\r\n");
      out.write("config._a[HOUR],\r\n");
      out.write("config._meridiem\r\n");
      out.write(");\r\n");
      out.write("\r\n");
      out.write("// handle era\r\n");
      out.write("era = getParsingFlags(config).era;\r\n");
      out.write("if (era !== null) {\r\n");
      out.write("config._a[YEAR] = config._locale.erasConvertYear(era, config._a[YEAR]);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("configFromArray(config);\r\n");
      out.write("checkOverflow(config);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function meridiemFixWrap(locale, hour, meridiem) {\r\n");
      out.write("var isPm;\r\n");
      out.write("\r\n");
      out.write("if (meridiem == null) {\r\n");
      out.write("// nothing to do\r\n");
      out.write("return hour;\r\n");
      out.write("}\r\n");
      out.write("if (locale.meridiemHour != null) {\r\n");
      out.write("return locale.meridiemHour(hour, meridiem);\r\n");
      out.write("} else if (locale.isPM != null) {\r\n");
      out.write("// Fallback\r\n");
      out.write("isPm = locale.isPM(meridiem);\r\n");
      out.write("if (isPm && hour < 12) {\r\n");
      out.write("hour += 12;\r\n");
      out.write("}\r\n");
      out.write("if (!isPm && hour === 12) {\r\n");
      out.write("hour = 0;\r\n");
      out.write("}\r\n");
      out.write("return hour;\r\n");
      out.write("} else {\r\n");
      out.write("// this is not supposed to happen\r\n");
      out.write("return hour;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// date from string and array of format strings\r\n");
      out.write("function configFromStringAndArray(config) {\r\n");
      out.write("var tempConfig,\r\n");
      out.write("bestMoment,\r\n");
      out.write("scoreToBeat,\r\n");
      out.write("i,\r\n");
      out.write("currentScore,\r\n");
      out.write("validFormatFound,\r\n");
      out.write("bestFormatIsValid = false;\r\n");
      out.write("\r\n");
      out.write("if (config._f.length === 0) {\r\n");
      out.write("getParsingFlags(config).invalidFormat = true;\r\n");
      out.write("config._d = new Date(NaN);\r\n");
      out.write("return;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("for (i = 0; i < config._f.length; i++) {\r\n");
      out.write("currentScore = 0;\r\n");
      out.write("validFormatFound = false;\r\n");
      out.write("tempConfig = copyConfig({}, config);\r\n");
      out.write("if (config._useUTC != null) {\r\n");
      out.write("tempConfig._useUTC = config._useUTC;\r\n");
      out.write("}\r\n");
      out.write("tempConfig._f = config._f[i];\r\n");
      out.write("configFromStringAndFormat(tempConfig);\r\n");
      out.write("\r\n");
      out.write("if (isValid(tempConfig)) {\r\n");
      out.write("validFormatFound = true;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// if there is any input that was not parsed add a penalty for that format\r\n");
      out.write("currentScore += getParsingFlags(tempConfig).charsLeftOver;\r\n");
      out.write("\r\n");
      out.write("//or tokens\r\n");
      out.write("currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\r\n");
      out.write("\r\n");
      out.write("getParsingFlags(tempConfig).score = currentScore;\r\n");
      out.write("\r\n");
      out.write("if (!bestFormatIsValid) {\r\n");
      out.write("if (\r\n");
      out.write("scoreToBeat == null ||\r\n");
      out.write("currentScore < scoreToBeat ||\r\n");
      out.write("validFormatFound\r\n");
      out.write(") {\r\n");
      out.write("scoreToBeat = currentScore;\r\n");
      out.write("bestMoment = tempConfig;\r\n");
      out.write("if (validFormatFound) {\r\n");
      out.write("bestFormatIsValid = true;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("} else {\r\n");
      out.write("if (currentScore < scoreToBeat) {\r\n");
      out.write("scoreToBeat = currentScore;\r\n");
      out.write("bestMoment = tempConfig;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("extend(config, bestMoment || tempConfig);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function configFromObject(config) {\r\n");
      out.write("if (config._d) {\r\n");
      out.write("return;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var i = normalizeObjectUnits(config._i),\r\n");
      out.write("dayOrDate = i.day === undefined ? i.date : i.day;\r\n");
      out.write("config._a = map(\r\n");
      out.write("[i.year, i.month, dayOrDate, i.hour, i.minute, i.second, i.millisecond],\r\n");
      out.write("function (obj) {\r\n");
      out.write("return obj && parseInt(obj, 10);\r\n");
      out.write("}\r\n");
      out.write(");\r\n");
      out.write("\r\n");
      out.write("configFromArray(config);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function createFromConfig(config) {\r\n");
      out.write("var res = new Moment(checkOverflow(prepareConfig(config)));\r\n");
      out.write("if (res._nextDay) {\r\n");
      out.write("// Adding is smart enough around DST\r\n");
      out.write("res.add(1, 'd');\r\n");
      out.write("res._nextDay = undefined;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return res;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function prepareConfig(config) {\r\n");
      out.write("var input = config._i,\r\n");
      out.write("format = config._f;\r\n");
      out.write("\r\n");
      out.write("config._locale = config._locale || getLocale(config._l);\r\n");
      out.write("\r\n");
      out.write("if (input === null || (format === undefined && input === '')) {\r\n");
      out.write("return createInvalid({ nullInput: true });\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (typeof input === 'string') {\r\n");
      out.write("config._i = input = config._locale.preparse(input);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (isMoment(input)) {\r\n");
      out.write("return new Moment(checkOverflow(input));\r\n");
      out.write("} else if (isDate(input)) {\r\n");
      out.write("config._d = input;\r\n");
      out.write("} else if (isArray(format)) {\r\n");
      out.write("configFromStringAndArray(config);\r\n");
      out.write("} else if (format) {\r\n");
      out.write("configFromStringAndFormat(config);\r\n");
      out.write("} else {\r\n");
      out.write("configFromInput(config);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (!isValid(config)) {\r\n");
      out.write("config._d = null;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return config;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function configFromInput(config) {\r\n");
      out.write("var input = config._i;\r\n");
      out.write("if (isUndefined(input)) {\r\n");
      out.write("config._d = new Date(hooks.now());\r\n");
      out.write("} else if (isDate(input)) {\r\n");
      out.write("config._d = new Date(input.valueOf());\r\n");
      out.write("} else if (typeof input === 'string') {\r\n");
      out.write("configFromString(config);\r\n");
      out.write("} else if (isArray(input)) {\r\n");
      out.write("config._a = map(input.slice(0), function (obj) {\r\n");
      out.write("return parseInt(obj, 10);\r\n");
      out.write("});\r\n");
      out.write("configFromArray(config);\r\n");
      out.write("} else if (isObject(input)) {\r\n");
      out.write("configFromObject(config);\r\n");
      out.write("} else if (isNumber(input)) {\r\n");
      out.write("// from milliseconds\r\n");
      out.write("config._d = new Date(input);\r\n");
      out.write("} else {\r\n");
      out.write("hooks.createFromInputFallback(config);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function createLocalOrUTC(input, format, locale, strict, isUTC) {\r\n");
      out.write("var c = {};\r\n");
      out.write("\r\n");
      out.write("if (format === true || format === false) {\r\n");
      out.write("strict = format;\r\n");
      out.write("format = undefined;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (locale === true || locale === false) {\r\n");
      out.write("strict = locale;\r\n");
      out.write("locale = undefined;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (\r\n");
      out.write("(isObject(input) && isObjectEmpty(input)) ||\r\n");
      out.write("(isArray(input) && input.length === 0)\r\n");
      out.write(") {\r\n");
      out.write("input = undefined;\r\n");
      out.write("}\r\n");
      out.write("// object construction must be done this way.\r\n");
      out.write("// https://github.com/moment/moment/issues/1423\r\n");
      out.write("c._isAMomentObject = true;\r\n");
      out.write("c._useUTC = c._isUTC = isUTC;\r\n");
      out.write("c._l = locale;\r\n");
      out.write("c._i = input;\r\n");
      out.write("c._f = format;\r\n");
      out.write("c._strict = strict;\r\n");
      out.write("\r\n");
      out.write("return createFromConfig(c);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function createLocal(input, format, locale, strict) {\r\n");
      out.write("return createLocalOrUTC(input, format, locale, strict, false);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var prototypeMin = deprecate(\r\n");
      out.write("'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\r\n");
      out.write("function () {\r\n");
      out.write("var other = createLocal.apply(null, arguments);\r\n");
      out.write("if (this.isValid() && other.isValid()) {\r\n");
      out.write("return other < this ? this : other;\r\n");
      out.write("} else {\r\n");
      out.write("return createInvalid();\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("),\r\n");
      out.write("prototypeMax = deprecate(\r\n");
      out.write("'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\r\n");
      out.write("function () {\r\n");
      out.write("var other = createLocal.apply(null, arguments);\r\n");
      out.write("if (this.isValid() && other.isValid()) {\r\n");
      out.write("return other > this ? this : other;\r\n");
      out.write("} else {\r\n");
      out.write("return createInvalid();\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write(");\r\n");
      out.write("\r\n");
      out.write("// Pick a moment m from moments so that m[fn](other) is true for all\r\n");
      out.write("// other. This relies on the function fn to be transitive.\r\n");
      out.write("//\r\n");
      out.write("// moments should either be an array of moment objects or an array, whose\r\n");
      out.write("// first element is an array of moment objects.\r\n");
      out.write("function pickBy(fn, moments) {\r\n");
      out.write("var res, i;\r\n");
      out.write("if (moments.length === 1 && isArray(moments[0])) {\r\n");
      out.write("moments = moments[0];\r\n");
      out.write("}\r\n");
      out.write("if (!moments.length) {\r\n");
      out.write("return createLocal();\r\n");
      out.write("}\r\n");
      out.write("res = moments[0];\r\n");
      out.write("for (i = 1; i < moments.length; ++i) {\r\n");
      out.write("if (!moments[i].isValid() || moments[i][fn](res)) {\r\n");
      out.write("res = moments[i];\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("return res;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// TODO: Use [].sort instead?\r\n");
      out.write("function min() {\r\n");
      out.write("var args = [].slice.call(arguments, 0);\r\n");
      out.write("\r\n");
      out.write("return pickBy('isBefore', args);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function max() {\r\n");
      out.write("var args = [].slice.call(arguments, 0);\r\n");
      out.write("\r\n");
      out.write("return pickBy('isAfter', args);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var now = function () {\r\n");
      out.write("return Date.now ? Date.now() : +new Date();\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("var ordering = [\r\n");
      out.write("'year',\r\n");
      out.write("'quarter',\r\n");
      out.write("'month',\r\n");
      out.write("'week',\r\n");
      out.write("'day',\r\n");
      out.write("'hour',\r\n");
      out.write("'minute',\r\n");
      out.write("'second',\r\n");
      out.write("'millisecond',\r\n");
      out.write("];\r\n");
      out.write("\r\n");
      out.write("function isDurationValid(m) {\r\n");
      out.write("var key,\r\n");
      out.write("unitHasDecimal = false,\r\n");
      out.write("i;\r\n");
      out.write("for (key in m) {\r\n");
      out.write("if (\r\n");
      out.write("hasOwnProp(m, key) &&\r\n");
      out.write("!(\r\n");
      out.write("indexOf.call(ordering, key) !== -1 &&\r\n");
      out.write("(m[key] == null || !isNaN(m[key]))\r\n");
      out.write(")\r\n");
      out.write(") {\r\n");
      out.write("return false;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("for (i = 0; i < ordering.length; ++i) {\r\n");
      out.write("if (m[ordering[i]]) {\r\n");
      out.write("if (unitHasDecimal) {\r\n");
      out.write("return false; // only allow non-integers for smallest unit\r\n");
      out.write("}\r\n");
      out.write("if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\r\n");
      out.write("unitHasDecimal = true;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return true;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isValid$1() {\r\n");
      out.write("return this._isValid;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function createInvalid$1() {\r\n");
      out.write("return createDuration(NaN);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function Duration(duration) {\r\n");
      out.write("var normalizedInput = normalizeObjectUnits(duration),\r\n");
      out.write("years = normalizedInput.year || 0,\r\n");
      out.write("quarters = normalizedInput.quarter || 0,\r\n");
      out.write("months = normalizedInput.month || 0,\r\n");
      out.write("weeks = normalizedInput.week || normalizedInput.isoWeek || 0,\r\n");
      out.write("days = normalizedInput.day || 0,\r\n");
      out.write("hours = normalizedInput.hour || 0,\r\n");
      out.write("minutes = normalizedInput.minute || 0,\r\n");
      out.write("seconds = normalizedInput.second || 0,\r\n");
      out.write("milliseconds = normalizedInput.millisecond || 0;\r\n");
      out.write("\r\n");
      out.write("this._isValid = isDurationValid(normalizedInput);\r\n");
      out.write("\r\n");
      out.write("// representation for dateAddRemove\r\n");
      out.write("this._milliseconds =\r\n");
      out.write("+milliseconds +\r\n");
      out.write("seconds * 1e3 + // 1000\r\n");
      out.write("minutes * 6e4 + // 1000 * 60\r\n");
      out.write("hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\r\n");
      out.write("// Because of dateAddRemove treats 24 hours as different from a\r\n");
      out.write("// day when working around DST, we need to store them separately\r\n");
      out.write("this._days = +days + weeks * 7;\r\n");
      out.write("// It is impossible to translate months into days without knowing\r\n");
      out.write("// which months you are are talking about, so we have to store\r\n");
      out.write("// it separately.\r\n");
      out.write("this._months = +months + quarters * 3 + years * 12;\r\n");
      out.write("\r\n");
      out.write("this._data = {};\r\n");
      out.write("\r\n");
      out.write("this._locale = getLocale();\r\n");
      out.write("\r\n");
      out.write("this._bubble();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isDuration(obj) {\r\n");
      out.write("return obj instanceof Duration;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function absRound(number) {\r\n");
      out.write("if (number < 0) {\r\n");
      out.write("return Math.round(-1 * number) * -1;\r\n");
      out.write("} else {\r\n");
      out.write("return Math.round(number);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// compare two arrays, return the number of differences\r\n");
      out.write("function compareArrays(array1, array2, dontConvert) {\r\n");
      out.write("var len = Math.min(array1.length, array2.length),\r\n");
      out.write("lengthDiff = Math.abs(array1.length - array2.length),\r\n");
      out.write("diffs = 0,\r\n");
      out.write("i;\r\n");
      out.write("for (i = 0; i < len; i++) {\r\n");
      out.write("if (\r\n");
      out.write("(dontConvert && array1[i] !== array2[i]) ||\r\n");
      out.write("(!dontConvert && toInt(array1[i]) !== toInt(array2[i]))\r\n");
      out.write(") {\r\n");
      out.write("diffs++;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("return diffs + lengthDiff;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// FORMATTING\r\n");
      out.write("\r\n");
      out.write("function offset(token, separator) {\r\n");
      out.write("addFormatToken(token, 0, 0, function () {\r\n");
      out.write("var offset = this.utcOffset(),\r\n");
      out.write("sign = '+';\r\n");
      out.write("if (offset < 0) {\r\n");
      out.write("offset = -offset;\r\n");
      out.write("sign = '-';\r\n");
      out.write("}\r\n");
      out.write("return (\r\n");
      out.write("sign +\r\n");
      out.write("zeroFill(~~(offset / 60), 2) +\r\n");
      out.write("separator +\r\n");
      out.write("zeroFill(~~offset % 60, 2)\r\n");
      out.write(");\r\n");
      out.write("});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("offset('Z', ':');\r\n");
      out.write("offset('ZZ', '');\r\n");
      out.write("\r\n");
      out.write("// PARSING\r\n");
      out.write("\r\n");
      out.write("addRegexToken('Z', matchShortOffset);\r\n");
      out.write("addRegexToken('ZZ', matchShortOffset);\r\n");
      out.write("addParseToken(['Z', 'ZZ'], function (input, array, config) {\r\n");
      out.write("config._useUTC = true;\r\n");
      out.write("config._tzm = offsetFromString(matchShortOffset, input);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("// HELPERS\r\n");
      out.write("\r\n");
      out.write("// timezone chunker\r\n");
      out.write("// '+10:00' > ['10',  '00']\r\n");
      out.write("// '-1530'  > ['-15', '30']\r\n");
      out.write("var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\r\n");
      out.write("\r\n");
      out.write("function offsetFromString(matcher, string) {\r\n");
      out.write("var matches = (string || '').match(matcher),\r\n");
      out.write("chunk,\r\n");
      out.write("parts,\r\n");
      out.write("minutes;\r\n");
      out.write("\r\n");
      out.write("if (matches === null) {\r\n");
      out.write("return null;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("chunk = matches[matches.length - 1] || [];\r\n");
      out.write("parts = (chunk + '').match(chunkOffset) || ['-', 0, 0];\r\n");
      out.write("minutes = +(parts[1] * 60) + toInt(parts[2]);\r\n");
      out.write("\r\n");
      out.write("return minutes === 0 ? 0 : parts[0] === '+' ? minutes : -minutes;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// Return a moment from input, that is local/utc/zone equivalent to model.\r\n");
      out.write("function cloneWithOffset(input, model) {\r\n");
      out.write("var res, diff;\r\n");
      out.write("if (model._isUTC) {\r\n");
      out.write("res = model.clone();\r\n");
      out.write("diff =\r\n");
      out.write("(isMoment(input) || isDate(input)\r\n");
      out.write("? input.valueOf()\r\n");
      out.write(": createLocal(input).valueOf()) - res.valueOf();\r\n");
      out.write("// Use low-level api, because this fn is low-level api.\r\n");
      out.write("res._d.setTime(res._d.valueOf() + diff);\r\n");
      out.write("hooks.updateOffset(res, false);\r\n");
      out.write("return res;\r\n");
      out.write("} else {\r\n");
      out.write("return createLocal(input).local();\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getDateOffset(m) {\r\n");
      out.write("// On Firefox.24 Date#getTimezoneOffset returns a floating point.\r\n");
      out.write("// https://github.com/moment/moment/pull/1871\r\n");
      out.write("return -Math.round(m._d.getTimezoneOffset());\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// HOOKS\r\n");
      out.write("\r\n");
      out.write("// This function will be called whenever a moment is mutated.\r\n");
      out.write("// It is intended to keep the offset in sync with the timezone.\r\n");
      out.write("hooks.updateOffset = function () {};\r\n");
      out.write("\r\n");
      out.write("// MOMENTS\r\n");
      out.write("\r\n");
      out.write("// keepLocalTime = true means only change the timezone, without\r\n");
      out.write("// affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\r\n");
      out.write("// 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\r\n");
      out.write("// +0200, so we adjust the time as needed, to be valid.\r\n");
      out.write("//\r\n");
      out.write("// Keeping the time actually adds/subtracts (one hour)\r\n");
      out.write("// from the actual represented time. That is why we call updateOffset\r\n");
      out.write("// a second time. In case it wants us to change the offset again\r\n");
      out.write("// _changeInProgress == true case, then we have to adjust, because\r\n");
      out.write("// there is no such time in the given timezone.\r\n");
      out.write("function getSetOffset(input, keepLocalTime, keepMinutes) {\r\n");
      out.write("var offset = this._offset || 0,\r\n");
      out.write("localAdjust;\r\n");
      out.write("if (!this.isValid()) {\r\n");
      out.write("return input != null ? this : NaN;\r\n");
      out.write("}\r\n");
      out.write("if (input != null) {\r\n");
      out.write("if (typeof input === 'string') {\r\n");
      out.write("input = offsetFromString(matchShortOffset, input);\r\n");
      out.write("if (input === null) {\r\n");
      out.write("return this;\r\n");
      out.write("}\r\n");
      out.write("} else if (Math.abs(input) < 16 && !keepMinutes) {\r\n");
      out.write("input = input * 60;\r\n");
      out.write("}\r\n");
      out.write("if (!this._isUTC && keepLocalTime) {\r\n");
      out.write("localAdjust = getDateOffset(this);\r\n");
      out.write("}\r\n");
      out.write("this._offset = input;\r\n");
      out.write("this._isUTC = true;\r\n");
      out.write("if (localAdjust != null) {\r\n");
      out.write("this.add(localAdjust, 'm');\r\n");
      out.write("}\r\n");
      out.write("if (offset !== input) {\r\n");
      out.write("if (!keepLocalTime || this._changeInProgress) {\r\n");
      out.write("addSubtract(\r\n");
      out.write("this,\r\n");
      out.write("createDuration(input - offset, 'm'),\r\n");
      out.write("1,\r\n");
      out.write("false\r\n");
      out.write(");\r\n");
      out.write("} else if (!this._changeInProgress) {\r\n");
      out.write("this._changeInProgress = true;\r\n");
      out.write("hooks.updateOffset(this, true);\r\n");
      out.write("this._changeInProgress = null;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("return this;\r\n");
      out.write("} else {\r\n");
      out.write("return this._isUTC ? offset : getDateOffset(this);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getSetZone(input, keepLocalTime) {\r\n");
      out.write("if (input != null) {\r\n");
      out.write("if (typeof input !== 'string') {\r\n");
      out.write("input = -input;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("this.utcOffset(input, keepLocalTime);\r\n");
      out.write("\r\n");
      out.write("return this;\r\n");
      out.write("} else {\r\n");
      out.write("return -this.utcOffset();\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function setOffsetToUTC(keepLocalTime) {\r\n");
      out.write("return this.utcOffset(0, keepLocalTime);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function setOffsetToLocal(keepLocalTime) {\r\n");
      out.write("if (this._isUTC) {\r\n");
      out.write("this.utcOffset(0, keepLocalTime);\r\n");
      out.write("this._isUTC = false;\r\n");
      out.write("\r\n");
      out.write("if (keepLocalTime) {\r\n");
      out.write("this.subtract(getDateOffset(this), 'm');\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("return this;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function setOffsetToParsedOffset() {\r\n");
      out.write("if (this._tzm != null) {\r\n");
      out.write("this.utcOffset(this._tzm, false, true);\r\n");
      out.write("} else if (typeof this._i === 'string') {\r\n");
      out.write("var tZone = offsetFromString(matchOffset, this._i);\r\n");
      out.write("if (tZone != null) {\r\n");
      out.write("this.utcOffset(tZone);\r\n");
      out.write("} else {\r\n");
      out.write("this.utcOffset(0, true);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("return this;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function hasAlignedHourOffset(input) {\r\n");
      out.write("if (!this.isValid()) {\r\n");
      out.write("return false;\r\n");
      out.write("}\r\n");
      out.write("input = input ? createLocal(input).utcOffset() : 0;\r\n");
      out.write("\r\n");
      out.write("return (this.utcOffset() - input) % 60 === 0;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isDaylightSavingTime() {\r\n");
      out.write("return (\r\n");
      out.write("this.utcOffset() > this.clone().month(0).utcOffset() ||\r\n");
      out.write("this.utcOffset() > this.clone().month(5).utcOffset()\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isDaylightSavingTimeShifted() {\r\n");
      out.write("if (!isUndefined(this._isDSTShifted)) {\r\n");
      out.write("return this._isDSTShifted;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var c = {},\r\n");
      out.write("other;\r\n");
      out.write("\r\n");
      out.write("copyConfig(c, this);\r\n");
      out.write("c = prepareConfig(c);\r\n");
      out.write("\r\n");
      out.write("if (c._a) {\r\n");
      out.write("other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\r\n");
      out.write("this._isDSTShifted =\r\n");
      out.write("this.isValid() && compareArrays(c._a, other.toArray()) > 0;\r\n");
      out.write("} else {\r\n");
      out.write("this._isDSTShifted = false;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return this._isDSTShifted;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isLocal() {\r\n");
      out.write("return this.isValid() ? !this._isUTC : false;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isUtcOffset() {\r\n");
      out.write("return this.isValid() ? this._isUTC : false;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isUtc() {\r\n");
      out.write("return this.isValid() ? this._isUTC && this._offset === 0 : false;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// ASP.NET json date format regex\r\n");
      out.write("var aspNetRegex = /^(-|\\+)?(?:(\\d*)[. ])?(\\d+):(\\d+)(?::(\\d+)(\\.\\d*)?)?$/,\r\n");
      out.write("// from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\r\n");
      out.write("// somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\r\n");
      out.write("// and further modified to allow for strings containing both week and day\r\n");
      out.write("isoRegex = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\r\n");
      out.write("\r\n");
      out.write("function createDuration(input, key) {\r\n");
      out.write("var duration = input,\r\n");
      out.write("// matching against regexp is expensive, do it on demand\r\n");
      out.write("match = null,\r\n");
      out.write("sign,\r\n");
      out.write("ret,\r\n");
      out.write("diffRes;\r\n");
      out.write("\r\n");
      out.write("if (isDuration(input)) {\r\n");
      out.write("duration = {\r\n");
      out.write("ms: input._milliseconds,\r\n");
      out.write("d: input._days,\r\n");
      out.write("M: input._months,\r\n");
      out.write("};\r\n");
      out.write("} else if (isNumber(input) || !isNaN(+input)) {\r\n");
      out.write("duration = {};\r\n");
      out.write("if (key) {\r\n");
      out.write("duration[key] = +input;\r\n");
      out.write("} else {\r\n");
      out.write("duration.milliseconds = +input;\r\n");
      out.write("}\r\n");
      out.write("} else if ((match = aspNetRegex.exec(input))) {\r\n");
      out.write("sign = match[1] === '-' ? -1 : 1;\r\n");
      out.write("duration = {\r\n");
      out.write("y: 0,\r\n");
      out.write("d: toInt(match[DATE]) * sign,\r\n");
      out.write("h: toInt(match[HOUR]) * sign,\r\n");
      out.write("m: toInt(match[MINUTE]) * sign,\r\n");
      out.write("s: toInt(match[SECOND]) * sign,\r\n");
      out.write("ms: toInt(absRound(match[MILLISECOND] * 1000)) * sign, // the millisecond decimal point is included in the match\r\n");
      out.write("};\r\n");
      out.write("} else if ((match = isoRegex.exec(input))) {\r\n");
      out.write("sign = match[1] === '-' ? -1 : 1;\r\n");
      out.write("duration = {\r\n");
      out.write("y: parseIso(match[2], sign),\r\n");
      out.write("M: parseIso(match[3], sign),\r\n");
      out.write("w: parseIso(match[4], sign),\r\n");
      out.write("d: parseIso(match[5], sign),\r\n");
      out.write("h: parseIso(match[6], sign),\r\n");
      out.write("m: parseIso(match[7], sign),\r\n");
      out.write("s: parseIso(match[8], sign),\r\n");
      out.write("};\r\n");
      out.write("} else if (duration == null) {\r\n");
      out.write("// checks for null or undefined\r\n");
      out.write("duration = {};\r\n");
      out.write("} else if (\r\n");
      out.write("typeof duration === 'object' &&\r\n");
      out.write("('from' in duration || 'to' in duration)\r\n");
      out.write(") {\r\n");
      out.write("diffRes = momentsDifference(\r\n");
      out.write("createLocal(duration.from),\r\n");
      out.write("createLocal(duration.to)\r\n");
      out.write(");\r\n");
      out.write("\r\n");
      out.write("duration = {};\r\n");
      out.write("duration.ms = diffRes.milliseconds;\r\n");
      out.write("duration.M = diffRes.months;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("ret = new Duration(duration);\r\n");
      out.write("\r\n");
      out.write("if (isDuration(input) && hasOwnProp(input, '_locale')) {\r\n");
      out.write("ret._locale = input._locale;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (isDuration(input) && hasOwnProp(input, '_isValid')) {\r\n");
      out.write("ret._isValid = input._isValid;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return ret;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("createDuration.fn = Duration.prototype;\r\n");
      out.write("createDuration.invalid = createInvalid$1;\r\n");
      out.write("\r\n");
      out.write("function parseIso(inp, sign) {\r\n");
      out.write("// We'd normally use ~~inp for this, but unfortunately it also\r\n");
      out.write("// converts floats to ints.\r\n");
      out.write("// inp may be undefined, so careful calling replace on it.\r\n");
      out.write("var res = inp && parseFloat(inp.replace(',', '.'));\r\n");
      out.write("// apply sign while we're at it\r\n");
      out.write("return (isNaN(res) ? 0 : res) * sign;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function positiveMomentsDifference(base, other) {\r\n");
      out.write("var res = {};\r\n");
      out.write("\r\n");
      out.write("res.months =\r\n");
      out.write("other.month() - base.month() + (other.year() - base.year()) * 12;\r\n");
      out.write("if (base.clone().add(res.months, 'M').isAfter(other)) {\r\n");
      out.write("--res.months;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("res.milliseconds = +other - +base.clone().add(res.months, 'M');\r\n");
      out.write("\r\n");
      out.write("return res;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function momentsDifference(base, other) {\r\n");
      out.write("var res;\r\n");
      out.write("if (!(base.isValid() && other.isValid())) {\r\n");
      out.write("return { milliseconds: 0, months: 0 };\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("other = cloneWithOffset(other, base);\r\n");
      out.write("if (base.isBefore(other)) {\r\n");
      out.write("res = positiveMomentsDifference(base, other);\r\n");
      out.write("} else {\r\n");
      out.write("res = positiveMomentsDifference(other, base);\r\n");
      out.write("res.milliseconds = -res.milliseconds;\r\n");
      out.write("res.months = -res.months;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return res;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// TODO: remove 'name' arg after deprecation is removed\r\n");
      out.write("function createAdder(direction, name) {\r\n");
      out.write("return function (val, period) {\r\n");
      out.write("var dur, tmp;\r\n");
      out.write("//invert the arguments, but complain about it\r\n");
      out.write("if (period !== null && !isNaN(+period)) {\r\n");
      out.write("deprecateSimple(\r\n");
      out.write("name,\r\n");
      out.write("'moment().' +\r\n");
      out.write("name +\r\n");
      out.write("'(period, number) is deprecated. Please use moment().' +\r\n");
      out.write("name +\r\n");
      out.write("'(number, period). ' +\r\n");
      out.write("'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.'\r\n");
      out.write(");\r\n");
      out.write("tmp = val;\r\n");
      out.write("val = period;\r\n");
      out.write("period = tmp;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("dur = createDuration(val, period);\r\n");
      out.write("addSubtract(this, dur, direction);\r\n");
      out.write("return this;\r\n");
      out.write("};\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function addSubtract(mom, duration, isAdding, updateOffset) {\r\n");
      out.write("var milliseconds = duration._milliseconds,\r\n");
      out.write("days = absRound(duration._days),\r\n");
      out.write("months = absRound(duration._months);\r\n");
      out.write("\r\n");
      out.write("if (!mom.isValid()) {\r\n");
      out.write("// No op\r\n");
      out.write("return;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("updateOffset = updateOffset == null ? true : updateOffset;\r\n");
      out.write("\r\n");
      out.write("if (months) {\r\n");
      out.write("setMonth(mom, get(mom, 'Month') + months * isAdding);\r\n");
      out.write("}\r\n");
      out.write("if (days) {\r\n");
      out.write("set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\r\n");
      out.write("}\r\n");
      out.write("if (milliseconds) {\r\n");
      out.write("mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\r\n");
      out.write("}\r\n");
      out.write("if (updateOffset) {\r\n");
      out.write("hooks.updateOffset(mom, days || months);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var add = createAdder(1, 'add'),\r\n");
      out.write("subtract = createAdder(-1, 'subtract');\r\n");
      out.write("\r\n");
      out.write("function isString(input) {\r\n");
      out.write("return typeof input === 'string' || input instanceof String;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// type MomentInput = Moment | Date | string | number | (number | string)[] | MomentInputObject | void; // null | undefined\r\n");
      out.write("function isMomentInput(input) {\r\n");
      out.write("return (\r\n");
      out.write("isMoment(input) ||\r\n");
      out.write("isDate(input) ||\r\n");
      out.write("isString(input) ||\r\n");
      out.write("isNumber(input) ||\r\n");
      out.write("isNumberOrStringArray(input) ||\r\n");
      out.write("isMomentInputObject(input) ||\r\n");
      out.write("input === null ||\r\n");
      out.write("input === undefined\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isMomentInputObject(input) {\r\n");
      out.write("var objectTest = isObject(input) && !isObjectEmpty(input),\r\n");
      out.write("propertyTest = false,\r\n");
      out.write("properties = [\r\n");
      out.write("'years',\r\n");
      out.write("'year',\r\n");
      out.write("'y',\r\n");
      out.write("'months',\r\n");
      out.write("'month',\r\n");
      out.write("'M',\r\n");
      out.write("'days',\r\n");
      out.write("'day',\r\n");
      out.write("'d',\r\n");
      out.write("'dates',\r\n");
      out.write("'date',\r\n");
      out.write("'D',\r\n");
      out.write("'hours',\r\n");
      out.write("'hour',\r\n");
      out.write("'h',\r\n");
      out.write("'minutes',\r\n");
      out.write("'minute',\r\n");
      out.write("'m',\r\n");
      out.write("'seconds',\r\n");
      out.write("'second',\r\n");
      out.write("'s',\r\n");
      out.write("'milliseconds',\r\n");
      out.write("'millisecond',\r\n");
      out.write("'ms',\r\n");
      out.write("],\r\n");
      out.write("i,\r\n");
      out.write("property;\r\n");
      out.write("\r\n");
      out.write("for (i = 0; i < properties.length; i += 1) {\r\n");
      out.write("property = properties[i];\r\n");
      out.write("propertyTest = propertyTest || hasOwnProp(input, property);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return objectTest && propertyTest;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isNumberOrStringArray(input) {\r\n");
      out.write("var arrayTest = isArray(input),\r\n");
      out.write("dataTypeTest = false;\r\n");
      out.write("if (arrayTest) {\r\n");
      out.write("dataTypeTest =\r\n");
      out.write("input.filter(function (item) {\r\n");
      out.write("return !isNumber(item) && isString(input);\r\n");
      out.write("}).length === 0;\r\n");
      out.write("}\r\n");
      out.write("return arrayTest && dataTypeTest;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isCalendarSpec(input) {\r\n");
      out.write("var objectTest = isObject(input) && !isObjectEmpty(input),\r\n");
      out.write("propertyTest = false,\r\n");
      out.write("properties = [\r\n");
      out.write("'sameDay',\r\n");
      out.write("'nextDay',\r\n");
      out.write("'lastDay',\r\n");
      out.write("'nextWeek',\r\n");
      out.write("'lastWeek',\r\n");
      out.write("'sameElse',\r\n");
      out.write("],\r\n");
      out.write("i,\r\n");
      out.write("property;\r\n");
      out.write("\r\n");
      out.write("for (i = 0; i < properties.length; i += 1) {\r\n");
      out.write("property = properties[i];\r\n");
      out.write("propertyTest = propertyTest || hasOwnProp(input, property);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return objectTest && propertyTest;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getCalendarFormat(myMoment, now) {\r\n");
      out.write("var diff = myMoment.diff(now, 'days', true);\r\n");
      out.write("return diff < -6\r\n");
      out.write("? 'sameElse'\r\n");
      out.write(": diff < -1\r\n");
      out.write("? 'lastWeek'\r\n");
      out.write(": diff < 0\r\n");
      out.write("? 'lastDay'\r\n");
      out.write(": diff < 1\r\n");
      out.write("? 'sameDay'\r\n");
      out.write(": diff < 2\r\n");
      out.write("? 'nextDay'\r\n");
      out.write(": diff < 7\r\n");
      out.write("? 'nextWeek'\r\n");
      out.write(": 'sameElse';\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function calendar$1(time, formats) {\r\n");
      out.write("// Support for single parameter, formats only overload to the calendar function\r\n");
      out.write("if (arguments.length === 1) {\r\n");
      out.write("if (isMomentInput(arguments[0])) {\r\n");
      out.write("time = arguments[0];\r\n");
      out.write("formats = undefined;\r\n");
      out.write("} else if (isCalendarSpec(arguments[0])) {\r\n");
      out.write("formats = arguments[0];\r\n");
      out.write("time = undefined;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("// We want to compare the start of today, vs this.\r\n");
      out.write("// Getting start-of-today depends on whether we're local/utc/offset or not.\r\n");
      out.write("var now = time || createLocal(),\r\n");
      out.write("sod = cloneWithOffset(now, this).startOf('day'),\r\n");
      out.write("format = hooks.calendarFormat(this, sod) || 'sameElse',\r\n");
      out.write("output =\r\n");
      out.write("formats &&\r\n");
      out.write("(isFunction(formats[format])\r\n");
      out.write("? formats[format].call(this, now)\r\n");
      out.write(": formats[format]);\r\n");
      out.write("\r\n");
      out.write("return this.format(\r\n");
      out.write("output || this.localeData().calendar(format, this, createLocal(now))\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function clone() {\r\n");
      out.write("return new Moment(this);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isAfter(input, units) {\r\n");
      out.write("var localInput = isMoment(input) ? input : createLocal(input);\r\n");
      out.write("if (!(this.isValid() && localInput.isValid())) {\r\n");
      out.write("return false;\r\n");
      out.write("}\r\n");
      out.write("units = normalizeUnits(units) || 'millisecond';\r\n");
      out.write("if (units === 'millisecond') {\r\n");
      out.write("return this.valueOf() > localInput.valueOf();\r\n");
      out.write("} else {\r\n");
      out.write("return localInput.valueOf() < this.clone().startOf(units).valueOf();\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isBefore(input, units) {\r\n");
      out.write("var localInput = isMoment(input) ? input : createLocal(input);\r\n");
      out.write("if (!(this.isValid() && localInput.isValid())) {\r\n");
      out.write("return false;\r\n");
      out.write("}\r\n");
      out.write("units = normalizeUnits(units) || 'millisecond';\r\n");
      out.write("if (units === 'millisecond') {\r\n");
      out.write("return this.valueOf() < localInput.valueOf();\r\n");
      out.write("} else {\r\n");
      out.write("return this.clone().endOf(units).valueOf() < localInput.valueOf();\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isBetween(from, to, units, inclusivity) {\r\n");
      out.write("var localFrom = isMoment(from) ? from : createLocal(from),\r\n");
      out.write("localTo = isMoment(to) ? to : createLocal(to);\r\n");
      out.write("if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {\r\n");
      out.write("return false;\r\n");
      out.write("}\r\n");
      out.write("inclusivity = inclusivity || '()';\r\n");
      out.write("return (\r\n");
      out.write("(inclusivity[0] === '('\r\n");
      out.write("? this.isAfter(localFrom, units)\r\n");
      out.write(": !this.isBefore(localFrom, units)) &&\r\n");
      out.write("(inclusivity[1] === ')'\r\n");
      out.write("? this.isBefore(localTo, units)\r\n");
      out.write(": !this.isAfter(localTo, units))\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isSame(input, units) {\r\n");
      out.write("var localInput = isMoment(input) ? input : createLocal(input),\r\n");
      out.write("inputMs;\r\n");
      out.write("if (!(this.isValid() && localInput.isValid())) {\r\n");
      out.write("return false;\r\n");
      out.write("}\r\n");
      out.write("units = normalizeUnits(units) || 'millisecond';\r\n");
      out.write("if (units === 'millisecond') {\r\n");
      out.write("return this.valueOf() === localInput.valueOf();\r\n");
      out.write("} else {\r\n");
      out.write("inputMs = localInput.valueOf();\r\n");
      out.write("return (\r\n");
      out.write("this.clone().startOf(units).valueOf() <= inputMs &&\r\n");
      out.write("inputMs <= this.clone().endOf(units).valueOf()\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isSameOrAfter(input, units) {\r\n");
      out.write("return this.isSame(input, units) || this.isAfter(input, units);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isSameOrBefore(input, units) {\r\n");
      out.write("return this.isSame(input, units) || this.isBefore(input, units);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function diff(input, units, asFloat) {\r\n");
      out.write("var that, zoneDelta, output;\r\n");
      out.write("\r\n");
      out.write("if (!this.isValid()) {\r\n");
      out.write("return NaN;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("that = cloneWithOffset(input, this);\r\n");
      out.write("\r\n");
      out.write("if (!that.isValid()) {\r\n");
      out.write("return NaN;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\r\n");
      out.write("\r\n");
      out.write("units = normalizeUnits(units);\r\n");
      out.write("\r\n");
      out.write("switch (units) {\r\n");
      out.write("case 'year':\r\n");
      out.write("output = monthDiff(this, that) / 12;\r\n");
      out.write("break;\r\n");
      out.write("case 'month':\r\n");
      out.write("output = monthDiff(this, that);\r\n");
      out.write("break;\r\n");
      out.write("case 'quarter':\r\n");
      out.write("output = monthDiff(this, that) / 3;\r\n");
      out.write("break;\r\n");
      out.write("case 'second':\r\n");
      out.write("output = (this - that) / 1e3;\r\n");
      out.write("break; // 1000\r\n");
      out.write("case 'minute':\r\n");
      out.write("output = (this - that) / 6e4;\r\n");
      out.write("break; // 1000 * 60\r\n");
      out.write("case 'hour':\r\n");
      out.write("output = (this - that) / 36e5;\r\n");
      out.write("break; // 1000 * 60 * 60\r\n");
      out.write("case 'day':\r\n");
      out.write("output = (this - that - zoneDelta) / 864e5;\r\n");
      out.write("break; // 1000 * 60 * 60 * 24, negate dst\r\n");
      out.write("case 'week':\r\n");
      out.write("output = (this - that - zoneDelta) / 6048e5;\r\n");
      out.write("break; // 1000 * 60 * 60 * 24 * 7, negate dst\r\n");
      out.write("default:\r\n");
      out.write("output = this - that;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return asFloat ? output : absFloor(output);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function monthDiff(a, b) {\r\n");
      out.write("if (a.date() < b.date()) {\r\n");
      out.write("// end-of-month calculations work correct when the start month has more\r\n");
      out.write("// days than the end month.\r\n");
      out.write("return -monthDiff(b, a);\r\n");
      out.write("}\r\n");
      out.write("// difference in months\r\n");
      out.write("var wholeMonthDiff = (b.year() - a.year()) * 12 + (b.month() - a.month()),\r\n");
      out.write("// b is in (anchor - 1 month, anchor + 1 month)\r\n");
      out.write("anchor = a.clone().add(wholeMonthDiff, 'months'),\r\n");
      out.write("anchor2,\r\n");
      out.write("adjust;\r\n");
      out.write("\r\n");
      out.write("if (b - anchor < 0) {\r\n");
      out.write("anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\r\n");
      out.write("// linear across the month\r\n");
      out.write("adjust = (b - anchor) / (anchor - anchor2);\r\n");
      out.write("} else {\r\n");
      out.write("anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\r\n");
      out.write("// linear across the month\r\n");
      out.write("adjust = (b - anchor) / (anchor2 - anchor);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//check for negative zero, return zero if negative zero\r\n");
      out.write("return -(wholeMonthDiff + adjust) || 0;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\r\n");
      out.write("hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\r\n");
      out.write("\r\n");
      out.write("function toString() {\r\n");
      out.write("return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function toISOString(keepOffset) {\r\n");
      out.write("if (!this.isValid()) {\r\n");
      out.write("return null;\r\n");
      out.write("}\r\n");
      out.write("var utc = keepOffset !== true,\r\n");
      out.write("m = utc ? this.clone().utc() : this;\r\n");
      out.write("if (m.year() < 0 || m.year() > 9999) {\r\n");
      out.write("return formatMoment(\r\n");
      out.write("m,\r\n");
      out.write("utc\r\n");
      out.write("? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]'\r\n");
      out.write(": 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ'\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("if (isFunction(Date.prototype.toISOString)) {\r\n");
      out.write("// native implementation is ~50x faster, use it when we can\r\n");
      out.write("if (utc) {\r\n");
      out.write("return this.toDate().toISOString();\r\n");
      out.write("} else {\r\n");
      out.write("return new Date(this.valueOf() + this.utcOffset() * 60 * 1000)\r\n");
      out.write(".toISOString()\r\n");
      out.write(".replace('Z', formatMoment(m, 'Z'));\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("return formatMoment(\r\n");
      out.write("m,\r\n");
      out.write("utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ'\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("/**\r\n");
      out.write("* Return a human readable representation of a moment that can\r\n");
      out.write("* also be evaluated to get a new moment which is the same\r\n");
      out.write("*\r\n");
      out.write("* @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\r\n");
      out.write("*/\r\n");
      out.write("function inspect() {\r\n");
      out.write("if (!this.isValid()) {\r\n");
      out.write("return 'moment.invalid(/* ' + this._i + ' */)';\r\n");
      out.write("}\r\n");
      out.write("var func = 'moment',\r\n");
      out.write("zone = '',\r\n");
      out.write("prefix,\r\n");
      out.write("year,\r\n");
      out.write("datetime,\r\n");
      out.write("suffix;\r\n");
      out.write("if (!this.isLocal()) {\r\n");
      out.write("func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\r\n");
      out.write("zone = 'Z';\r\n");
      out.write("}\r\n");
      out.write("prefix = '[' + func + '(\"]';\r\n");
      out.write("year = 0 <= this.year() && this.year() <= 9999 ? 'YYYY' : 'YYYYYY';\r\n");
      out.write("datetime = '-MM-DD[T]HH:mm:ss.SSS';\r\n");
      out.write("suffix = zone + '[\")]';\r\n");
      out.write("\r\n");
      out.write("return this.format(prefix + year + datetime + suffix);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function format(inputString) {\r\n");
      out.write("if (!inputString) {\r\n");
      out.write("inputString = this.isUtc()\r\n");
      out.write("? hooks.defaultFormatUtc\r\n");
      out.write(": hooks.defaultFormat;\r\n");
      out.write("}\r\n");
      out.write("var output = formatMoment(this, inputString);\r\n");
      out.write("return this.localeData().postformat(output);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function from(time, withoutSuffix) {\r\n");
      out.write("if (\r\n");
      out.write("this.isValid() &&\r\n");
      out.write("((isMoment(time) && time.isValid()) || createLocal(time).isValid())\r\n");
      out.write(") {\r\n");
      out.write("return createDuration({ to: this, from: time })\r\n");
      out.write(".locale(this.locale())\r\n");
      out.write(".humanize(!withoutSuffix);\r\n");
      out.write("} else {\r\n");
      out.write("return this.localeData().invalidDate();\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function fromNow(withoutSuffix) {\r\n");
      out.write("return this.from(createLocal(), withoutSuffix);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function to(time, withoutSuffix) {\r\n");
      out.write("if (\r\n");
      out.write("this.isValid() &&\r\n");
      out.write("((isMoment(time) && time.isValid()) || createLocal(time).isValid())\r\n");
      out.write(") {\r\n");
      out.write("return createDuration({ from: this, to: time })\r\n");
      out.write(".locale(this.locale())\r\n");
      out.write(".humanize(!withoutSuffix);\r\n");
      out.write("} else {\r\n");
      out.write("return this.localeData().invalidDate();\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function toNow(withoutSuffix) {\r\n");
      out.write("return this.to(createLocal(), withoutSuffix);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// If passed a locale key, it will set the locale for this\r\n");
      out.write("// instance.  Otherwise, it will return the locale configuration\r\n");
      out.write("// variables for this instance.\r\n");
      out.write("function locale(key) {\r\n");
      out.write("var newLocaleData;\r\n");
      out.write("\r\n");
      out.write("if (key === undefined) {\r\n");
      out.write("return this._locale._abbr;\r\n");
      out.write("} else {\r\n");
      out.write("newLocaleData = getLocale(key);\r\n");
      out.write("if (newLocaleData != null) {\r\n");
      out.write("this._locale = newLocaleData;\r\n");
      out.write("}\r\n");
      out.write("return this;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var lang = deprecate(\r\n");
      out.write("'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\r\n");
      out.write("function (key) {\r\n");
      out.write("if (key === undefined) {\r\n");
      out.write("return this.localeData();\r\n");
      out.write("} else {\r\n");
      out.write("return this.locale(key);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write(");\r\n");
      out.write("\r\n");
      out.write("function localeData() {\r\n");
      out.write("return this._locale;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var MS_PER_SECOND = 1000,\r\n");
      out.write("MS_PER_MINUTE = 60 * MS_PER_SECOND,\r\n");
      out.write("MS_PER_HOUR = 60 * MS_PER_MINUTE,\r\n");
      out.write("MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;\r\n");
      out.write("\r\n");
      out.write("// actual modulo - handles negative numbers (for dates before 1970):\r\n");
      out.write("function mod$1(dividend, divisor) {\r\n");
      out.write("return ((dividend % divisor) + divisor) % divisor;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function localStartOfDate(y, m, d) {\r\n");
      out.write("// the date constructor remaps years 0-99 to 1900-1999\r\n");
      out.write("if (y < 100 && y >= 0) {\r\n");
      out.write("// preserve leap years using a full 400 year cycle, then reset\r\n");
      out.write("return new Date(y + 400, m, d) - MS_PER_400_YEARS;\r\n");
      out.write("} else {\r\n");
      out.write("return new Date(y, m, d).valueOf();\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function utcStartOfDate(y, m, d) {\r\n");
      out.write("// Date.UTC remaps years 0-99 to 1900-1999\r\n");
      out.write("if (y < 100 && y >= 0) {\r\n");
      out.write("// preserve leap years using a full 400 year cycle, then reset\r\n");
      out.write("return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;\r\n");
      out.write("} else {\r\n");
      out.write("return Date.UTC(y, m, d);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function startOf(units) {\r\n");
      out.write("var time, startOfDate;\r\n");
      out.write("units = normalizeUnits(units);\r\n");
      out.write("if (units === undefined || units === 'millisecond' || !this.isValid()) {\r\n");
      out.write("return this;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\r\n");
      out.write("\r\n");
      out.write("switch (units) {\r\n");
      out.write("case 'year':\r\n");
      out.write("time = startOfDate(this.year(), 0, 1);\r\n");
      out.write("break;\r\n");
      out.write("case 'quarter':\r\n");
      out.write("time = startOfDate(\r\n");
      out.write("this.year(),\r\n");
      out.write("this.month() - (this.month() % 3),\r\n");
      out.write("1\r\n");
      out.write(");\r\n");
      out.write("break;\r\n");
      out.write("case 'month':\r\n");
      out.write("time = startOfDate(this.year(), this.month(), 1);\r\n");
      out.write("break;\r\n");
      out.write("case 'week':\r\n");
      out.write("time = startOfDate(\r\n");
      out.write("this.year(),\r\n");
      out.write("this.month(),\r\n");
      out.write("this.date() - this.weekday()\r\n");
      out.write(");\r\n");
      out.write("break;\r\n");
      out.write("case 'isoWeek':\r\n");
      out.write("time = startOfDate(\r\n");
      out.write("this.year(),\r\n");
      out.write("this.month(),\r\n");
      out.write("this.date() - (this.isoWeekday() - 1)\r\n");
      out.write(");\r\n");
      out.write("break;\r\n");
      out.write("case 'day':\r\n");
      out.write("case 'date':\r\n");
      out.write("time = startOfDate(this.year(), this.month(), this.date());\r\n");
      out.write("break;\r\n");
      out.write("case 'hour':\r\n");
      out.write("time = this._d.valueOf();\r\n");
      out.write("time -= mod$1(\r\n");
      out.write("time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),\r\n");
      out.write("MS_PER_HOUR\r\n");
      out.write(");\r\n");
      out.write("break;\r\n");
      out.write("case 'minute':\r\n");
      out.write("time = this._d.valueOf();\r\n");
      out.write("time -= mod$1(time, MS_PER_MINUTE);\r\n");
      out.write("break;\r\n");
      out.write("case 'second':\r\n");
      out.write("time = this._d.valueOf();\r\n");
      out.write("time -= mod$1(time, MS_PER_SECOND);\r\n");
      out.write("break;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("this._d.setTime(time);\r\n");
      out.write("hooks.updateOffset(this, true);\r\n");
      out.write("return this;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function endOf(units) {\r\n");
      out.write("var time, startOfDate;\r\n");
      out.write("units = normalizeUnits(units);\r\n");
      out.write("if (units === undefined || units === 'millisecond' || !this.isValid()) {\r\n");
      out.write("return this;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\r\n");
      out.write("\r\n");
      out.write("switch (units) {\r\n");
      out.write("case 'year':\r\n");
      out.write("time = startOfDate(this.year() + 1, 0, 1) - 1;\r\n");
      out.write("break;\r\n");
      out.write("case 'quarter':\r\n");
      out.write("time =\r\n");
      out.write("startOfDate(\r\n");
      out.write("this.year(),\r\n");
      out.write("this.month() - (this.month() % 3) + 3,\r\n");
      out.write("1\r\n");
      out.write(") - 1;\r\n");
      out.write("break;\r\n");
      out.write("case 'month':\r\n");
      out.write("time = startOfDate(this.year(), this.month() + 1, 1) - 1;\r\n");
      out.write("break;\r\n");
      out.write("case 'week':\r\n");
      out.write("time =\r\n");
      out.write("startOfDate(\r\n");
      out.write("this.year(),\r\n");
      out.write("this.month(),\r\n");
      out.write("this.date() - this.weekday() + 7\r\n");
      out.write(") - 1;\r\n");
      out.write("break;\r\n");
      out.write("case 'isoWeek':\r\n");
      out.write("time =\r\n");
      out.write("startOfDate(\r\n");
      out.write("this.year(),\r\n");
      out.write("this.month(),\r\n");
      out.write("this.date() - (this.isoWeekday() - 1) + 7\r\n");
      out.write(") - 1;\r\n");
      out.write("break;\r\n");
      out.write("case 'day':\r\n");
      out.write("case 'date':\r\n");
      out.write("time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;\r\n");
      out.write("break;\r\n");
      out.write("case 'hour':\r\n");
      out.write("time = this._d.valueOf();\r\n");
      out.write("time +=\r\n");
      out.write("MS_PER_HOUR -\r\n");
      out.write("mod$1(\r\n");
      out.write("time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),\r\n");
      out.write("MS_PER_HOUR\r\n");
      out.write(") -\r\n");
      out.write("1;\r\n");
      out.write("break;\r\n");
      out.write("case 'minute':\r\n");
      out.write("time = this._d.valueOf();\r\n");
      out.write("time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;\r\n");
      out.write("break;\r\n");
      out.write("case 'second':\r\n");
      out.write("time = this._d.valueOf();\r\n");
      out.write("time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;\r\n");
      out.write("break;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("this._d.setTime(time);\r\n");
      out.write("hooks.updateOffset(this, true);\r\n");
      out.write("return this;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function valueOf() {\r\n");
      out.write("return this._d.valueOf() - (this._offset || 0) * 60000;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function unix() {\r\n");
      out.write("return Math.floor(this.valueOf() / 1000);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function toDate() {\r\n");
      out.write("return new Date(this.valueOf());\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function toArray() {\r\n");
      out.write("var m = this;\r\n");
      out.write("return [\r\n");
      out.write("m.year(),\r\n");
      out.write("m.month(),\r\n");
      out.write("m.date(),\r\n");
      out.write("m.hour(),\r\n");
      out.write("m.minute(),\r\n");
      out.write("m.second(),\r\n");
      out.write("m.millisecond(),\r\n");
      out.write("];\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function toObject() {\r\n");
      out.write("var m = this;\r\n");
      out.write("return {\r\n");
      out.write("years: m.year(),\r\n");
      out.write("months: m.month(),\r\n");
      out.write("date: m.date(),\r\n");
      out.write("hours: m.hours(),\r\n");
      out.write("minutes: m.minutes(),\r\n");
      out.write("seconds: m.seconds(),\r\n");
      out.write("milliseconds: m.milliseconds(),\r\n");
      out.write("};\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function toJSON() {\r\n");
      out.write("// new Date(NaN).toJSON() === null\r\n");
      out.write("return this.isValid() ? this.toISOString() : null;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isValid$2() {\r\n");
      out.write("return isValid(this);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function parsingFlags() {\r\n");
      out.write("return extend({}, getParsingFlags(this));\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function invalidAt() {\r\n");
      out.write("return getParsingFlags(this).overflow;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function creationData() {\r\n");
      out.write("return {\r\n");
      out.write("input: this._i,\r\n");
      out.write("format: this._f,\r\n");
      out.write("locale: this._locale,\r\n");
      out.write("isUTC: this._isUTC,\r\n");
      out.write("strict: this._strict,\r\n");
      out.write("};\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("addFormatToken('N', 0, 0, 'eraAbbr');\r\n");
      out.write("addFormatToken('NN', 0, 0, 'eraAbbr');\r\n");
      out.write("addFormatToken('NNN', 0, 0, 'eraAbbr');\r\n");
      out.write("addFormatToken('NNNN', 0, 0, 'eraName');\r\n");
      out.write("addFormatToken('NNNNN', 0, 0, 'eraNarrow');\r\n");
      out.write("\r\n");
      out.write("addFormatToken('y', ['y', 1], 'yo', 'eraYear');\r\n");
      out.write("addFormatToken('y', ['yy', 2], 0, 'eraYear');\r\n");
      out.write("addFormatToken('y', ['yyy', 3], 0, 'eraYear');\r\n");
      out.write("addFormatToken('y', ['yyyy', 4], 0, 'eraYear');\r\n");
      out.write("\r\n");
      out.write("addRegexToken('N', matchEraAbbr);\r\n");
      out.write("addRegexToken('NN', matchEraAbbr);\r\n");
      out.write("addRegexToken('NNN', matchEraAbbr);\r\n");
      out.write("addRegexToken('NNNN', matchEraName);\r\n");
      out.write("addRegexToken('NNNNN', matchEraNarrow);\r\n");
      out.write("\r\n");
      out.write("addParseToken(['N', 'NN', 'NNN', 'NNNN', 'NNNNN'], function (\r\n");
      out.write("input,\r\n");
      out.write("array,\r\n");
      out.write("config,\r\n");
      out.write("token\r\n");
      out.write(") {\r\n");
      out.write("var era = config._locale.erasParse(input, token, config._strict);\r\n");
      out.write("if (era) {\r\n");
      out.write("getParsingFlags(config).era = era;\r\n");
      out.write("} else {\r\n");
      out.write("getParsingFlags(config).invalidEra = input;\r\n");
      out.write("}\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("addRegexToken('y', matchUnsigned);\r\n");
      out.write("addRegexToken('yy', matchUnsigned);\r\n");
      out.write("addRegexToken('yyy', matchUnsigned);\r\n");
      out.write("addRegexToken('yyyy', matchUnsigned);\r\n");
      out.write("addRegexToken('yo', matchEraYearOrdinal);\r\n");
      out.write("\r\n");
      out.write("addParseToken(['y', 'yy', 'yyy', 'yyyy'], YEAR);\r\n");
      out.write("addParseToken(['yo'], function (input, array, config, token) {\r\n");
      out.write("var match;\r\n");
      out.write("if (config._locale._eraYearOrdinalRegex) {\r\n");
      out.write("match = input.match(config._locale._eraYearOrdinalRegex);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("if (config._locale.eraYearOrdinalParse) {\r\n");
      out.write("array[YEAR] = config._locale.eraYearOrdinalParse(input, match);\r\n");
      out.write("} else {\r\n");
      out.write("array[YEAR] = parseInt(input, 10);\r\n");
      out.write("}\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("function localeEras(m, format) {\r\n");
      out.write("var i,\r\n");
      out.write("l,\r\n");
      out.write("date,\r\n");
      out.write("eras = this._eras || getLocale('en')._eras;\r\n");
      out.write("for (i = 0, l = eras.length; i < l; ++i) {\r\n");
      out.write("switch (typeof eras[i].since) {\r\n");
      out.write("case 'string':\r\n");
      out.write("// truncate time\r\n");
      out.write("date = hooks(eras[i].since).startOf('day');\r\n");
      out.write("eras[i].since = date.valueOf();\r\n");
      out.write("break;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("switch (typeof eras[i].until) {\r\n");
      out.write("case 'undefined':\r\n");
      out.write("eras[i].until = +Infinity;\r\n");
      out.write("break;\r\n");
      out.write("case 'string':\r\n");
      out.write("// truncate time\r\n");
      out.write("date = hooks(eras[i].until).startOf('day').valueOf();\r\n");
      out.write("eras[i].until = date.valueOf();\r\n");
      out.write("break;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("return eras;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function localeErasParse(eraName, format, strict) {\r\n");
      out.write("var i,\r\n");
      out.write("l,\r\n");
      out.write("eras = this.eras(),\r\n");
      out.write("name,\r\n");
      out.write("abbr,\r\n");
      out.write("narrow;\r\n");
      out.write("eraName = eraName.toUpperCase();\r\n");
      out.write("\r\n");
      out.write("for (i = 0, l = eras.length; i < l; ++i) {\r\n");
      out.write("name = eras[i].name.toUpperCase();\r\n");
      out.write("abbr = eras[i].abbr.toUpperCase();\r\n");
      out.write("narrow = eras[i].narrow.toUpperCase();\r\n");
      out.write("\r\n");
      out.write("if (strict) {\r\n");
      out.write("switch (format) {\r\n");
      out.write("case 'N':\r\n");
      out.write("case 'NN':\r\n");
      out.write("case 'NNN':\r\n");
      out.write("if (abbr === eraName) {\r\n");
      out.write("return eras[i];\r\n");
      out.write("}\r\n");
      out.write("break;\r\n");
      out.write("\r\n");
      out.write("case 'NNNN':\r\n");
      out.write("if (name === eraName) {\r\n");
      out.write("return eras[i];\r\n");
      out.write("}\r\n");
      out.write("break;\r\n");
      out.write("\r\n");
      out.write("case 'NNNNN':\r\n");
      out.write("if (narrow === eraName) {\r\n");
      out.write("return eras[i];\r\n");
      out.write("}\r\n");
      out.write("break;\r\n");
      out.write("}\r\n");
      out.write("} else if ([name, abbr, narrow].indexOf(eraName) >= 0) {\r\n");
      out.write("return eras[i];\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function localeErasConvertYear(era, year) {\r\n");
      out.write("var dir = era.since <= era.until ? +1 : -1;\r\n");
      out.write("if (year === undefined) {\r\n");
      out.write("return hooks(era.since).year();\r\n");
      out.write("} else {\r\n");
      out.write("return hooks(era.since).year() + (year - era.offset) * dir;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getEraName() {\r\n");
      out.write("var i,\r\n");
      out.write("l,\r\n");
      out.write("val,\r\n");
      out.write("eras = this.localeData().eras();\r\n");
      out.write("for (i = 0, l = eras.length; i < l; ++i) {\r\n");
      out.write("// truncate time\r\n");
      out.write("val = this.startOf('day').valueOf();\r\n");
      out.write("\r\n");
      out.write("if (eras[i].since <= val && val <= eras[i].until) {\r\n");
      out.write("return eras[i].name;\r\n");
      out.write("}\r\n");
      out.write("if (eras[i].until <= val && val <= eras[i].since) {\r\n");
      out.write("return eras[i].name;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return '';\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getEraNarrow() {\r\n");
      out.write("var i,\r\n");
      out.write("l,\r\n");
      out.write("val,\r\n");
      out.write("eras = this.localeData().eras();\r\n");
      out.write("for (i = 0, l = eras.length; i < l; ++i) {\r\n");
      out.write("// truncate time\r\n");
      out.write("val = this.startOf('day').valueOf();\r\n");
      out.write("\r\n");
      out.write("if (eras[i].since <= val && val <= eras[i].until) {\r\n");
      out.write("return eras[i].narrow;\r\n");
      out.write("}\r\n");
      out.write("if (eras[i].until <= val && val <= eras[i].since) {\r\n");
      out.write("return eras[i].narrow;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return '';\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getEraAbbr() {\r\n");
      out.write("var i,\r\n");
      out.write("l,\r\n");
      out.write("val,\r\n");
      out.write("eras = this.localeData().eras();\r\n");
      out.write("for (i = 0, l = eras.length; i < l; ++i) {\r\n");
      out.write("// truncate time\r\n");
      out.write("val = this.startOf('day').valueOf();\r\n");
      out.write("\r\n");
      out.write("if (eras[i].since <= val && val <= eras[i].until) {\r\n");
      out.write("return eras[i].abbr;\r\n");
      out.write("}\r\n");
      out.write("if (eras[i].until <= val && val <= eras[i].since) {\r\n");
      out.write("return eras[i].abbr;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return '';\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getEraYear() {\r\n");
      out.write("var i,\r\n");
      out.write("l,\r\n");
      out.write("dir,\r\n");
      out.write("val,\r\n");
      out.write("eras = this.localeData().eras();\r\n");
      out.write("for (i = 0, l = eras.length; i < l; ++i) {\r\n");
      out.write("dir = eras[i].since <= eras[i].until ? +1 : -1;\r\n");
      out.write("\r\n");
      out.write("// truncate time\r\n");
      out.write("val = this.startOf('day').valueOf();\r\n");
      out.write("\r\n");
      out.write("if (\r\n");
      out.write("(eras[i].since <= val && val <= eras[i].until) ||\r\n");
      out.write("(eras[i].until <= val && val <= eras[i].since)\r\n");
      out.write(") {\r\n");
      out.write("return (\r\n");
      out.write("(this.year() - hooks(eras[i].since).year()) * dir +\r\n");
      out.write("eras[i].offset\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return this.year();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function erasNameRegex(isStrict) {\r\n");
      out.write("if (!hasOwnProp(this, '_erasNameRegex')) {\r\n");
      out.write("computeErasParse.call(this);\r\n");
      out.write("}\r\n");
      out.write("return isStrict ? this._erasNameRegex : this._erasRegex;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function erasAbbrRegex(isStrict) {\r\n");
      out.write("if (!hasOwnProp(this, '_erasAbbrRegex')) {\r\n");
      out.write("computeErasParse.call(this);\r\n");
      out.write("}\r\n");
      out.write("return isStrict ? this._erasAbbrRegex : this._erasRegex;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function erasNarrowRegex(isStrict) {\r\n");
      out.write("if (!hasOwnProp(this, '_erasNarrowRegex')) {\r\n");
      out.write("computeErasParse.call(this);\r\n");
      out.write("}\r\n");
      out.write("return isStrict ? this._erasNarrowRegex : this._erasRegex;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function matchEraAbbr(isStrict, locale) {\r\n");
      out.write("return locale.erasAbbrRegex(isStrict);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function matchEraName(isStrict, locale) {\r\n");
      out.write("return locale.erasNameRegex(isStrict);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function matchEraNarrow(isStrict, locale) {\r\n");
      out.write("return locale.erasNarrowRegex(isStrict);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function matchEraYearOrdinal(isStrict, locale) {\r\n");
      out.write("return locale._eraYearOrdinalRegex || matchUnsigned;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function computeErasParse() {\r\n");
      out.write("var abbrPieces = [],\r\n");
      out.write("namePieces = [],\r\n");
      out.write("narrowPieces = [],\r\n");
      out.write("mixedPieces = [],\r\n");
      out.write("i,\r\n");
      out.write("l,\r\n");
      out.write("eras = this.eras();\r\n");
      out.write("\r\n");
      out.write("for (i = 0, l = eras.length; i < l; ++i) {\r\n");
      out.write("namePieces.push(regexEscape(eras[i].name));\r\n");
      out.write("abbrPieces.push(regexEscape(eras[i].abbr));\r\n");
      out.write("narrowPieces.push(regexEscape(eras[i].narrow));\r\n");
      out.write("\r\n");
      out.write("mixedPieces.push(regexEscape(eras[i].name));\r\n");
      out.write("mixedPieces.push(regexEscape(eras[i].abbr));\r\n");
      out.write("mixedPieces.push(regexEscape(eras[i].narrow));\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("this._erasRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\r\n");
      out.write("this._erasNameRegex = new RegExp('^(' + namePieces.join('|') + ')', 'i');\r\n");
      out.write("this._erasAbbrRegex = new RegExp('^(' + abbrPieces.join('|') + ')', 'i');\r\n");
      out.write("this._erasNarrowRegex = new RegExp(\r\n");
      out.write("'^(' + narrowPieces.join('|') + ')',\r\n");
      out.write("'i'\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// FORMATTING\r\n");
      out.write("\r\n");
      out.write("addFormatToken(0, ['gg', 2], 0, function () {\r\n");
      out.write("return this.weekYear() % 100;\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("addFormatToken(0, ['GG', 2], 0, function () {\r\n");
      out.write("return this.isoWeekYear() % 100;\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("function addWeekYearFormatToken(token, getter) {\r\n");
      out.write("addFormatToken(0, [token, token.length], 0, getter);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("addWeekYearFormatToken('gggg', 'weekYear');\r\n");
      out.write("addWeekYearFormatToken('ggggg', 'weekYear');\r\n");
      out.write("addWeekYearFormatToken('GGGG', 'isoWeekYear');\r\n");
      out.write("addWeekYearFormatToken('GGGGG', 'isoWeekYear');\r\n");
      out.write("\r\n");
      out.write("// ALIASES\r\n");
      out.write("\r\n");
      out.write("addUnitAlias('weekYear', 'gg');\r\n");
      out.write("addUnitAlias('isoWeekYear', 'GG');\r\n");
      out.write("\r\n");
      out.write("// PRIORITY\r\n");
      out.write("\r\n");
      out.write("addUnitPriority('weekYear', 1);\r\n");
      out.write("addUnitPriority('isoWeekYear', 1);\r\n");
      out.write("\r\n");
      out.write("// PARSING\r\n");
      out.write("\r\n");
      out.write("addRegexToken('G', matchSigned);\r\n");
      out.write("addRegexToken('g', matchSigned);\r\n");
      out.write("addRegexToken('GG', match1to2, match2);\r\n");
      out.write("addRegexToken('gg', match1to2, match2);\r\n");
      out.write("addRegexToken('GGGG', match1to4, match4);\r\n");
      out.write("addRegexToken('gggg', match1to4, match4);\r\n");
      out.write("addRegexToken('GGGGG', match1to6, match6);\r\n");
      out.write("addRegexToken('ggggg', match1to6, match6);\r\n");
      out.write("\r\n");
      out.write("addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (\r\n");
      out.write("input,\r\n");
      out.write("week,\r\n");
      out.write("config,\r\n");
      out.write("token\r\n");
      out.write(") {\r\n");
      out.write("week[token.substr(0, 2)] = toInt(input);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\r\n");
      out.write("week[token] = hooks.parseTwoDigitYear(input);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("// MOMENTS\r\n");
      out.write("\r\n");
      out.write("function getSetWeekYear(input) {\r\n");
      out.write("return getSetWeekYearHelper.call(\r\n");
      out.write("this,\r\n");
      out.write("input,\r\n");
      out.write("this.week(),\r\n");
      out.write("this.weekday(),\r\n");
      out.write("this.localeData()._week.dow,\r\n");
      out.write("this.localeData()._week.doy\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getSetISOWeekYear(input) {\r\n");
      out.write("return getSetWeekYearHelper.call(\r\n");
      out.write("this,\r\n");
      out.write("input,\r\n");
      out.write("this.isoWeek(),\r\n");
      out.write("this.isoWeekday(),\r\n");
      out.write("1,\r\n");
      out.write("4\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getISOWeeksInYear() {\r\n");
      out.write("return weeksInYear(this.year(), 1, 4);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getISOWeeksInISOWeekYear() {\r\n");
      out.write("return weeksInYear(this.isoWeekYear(), 1, 4);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getWeeksInYear() {\r\n");
      out.write("var weekInfo = this.localeData()._week;\r\n");
      out.write("return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getWeeksInWeekYear() {\r\n");
      out.write("var weekInfo = this.localeData()._week;\r\n");
      out.write("return weeksInYear(this.weekYear(), weekInfo.dow, weekInfo.doy);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getSetWeekYearHelper(input, week, weekday, dow, doy) {\r\n");
      out.write("var weeksTarget;\r\n");
      out.write("if (input == null) {\r\n");
      out.write("return weekOfYear(this, dow, doy).year;\r\n");
      out.write("} else {\r\n");
      out.write("weeksTarget = weeksInYear(input, dow, doy);\r\n");
      out.write("if (week > weeksTarget) {\r\n");
      out.write("week = weeksTarget;\r\n");
      out.write("}\r\n");
      out.write("return setWeekAll.call(this, input, week, weekday, dow, doy);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function setWeekAll(weekYear, week, weekday, dow, doy) {\r\n");
      out.write("var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\r\n");
      out.write("date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\r\n");
      out.write("\r\n");
      out.write("this.year(date.getUTCFullYear());\r\n");
      out.write("this.month(date.getUTCMonth());\r\n");
      out.write("this.date(date.getUTCDate());\r\n");
      out.write("return this;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// FORMATTING\r\n");
      out.write("\r\n");
      out.write("addFormatToken('Q', 0, 'Qo', 'quarter');\r\n");
      out.write("\r\n");
      out.write("// ALIASES\r\n");
      out.write("\r\n");
      out.write("addUnitAlias('quarter', 'Q');\r\n");
      out.write("\r\n");
      out.write("// PRIORITY\r\n");
      out.write("\r\n");
      out.write("addUnitPriority('quarter', 7);\r\n");
      out.write("\r\n");
      out.write("// PARSING\r\n");
      out.write("\r\n");
      out.write("addRegexToken('Q', match1);\r\n");
      out.write("addParseToken('Q', function (input, array) {\r\n");
      out.write("array[MONTH] = (toInt(input) - 1) * 3;\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("// MOMENTS\r\n");
      out.write("\r\n");
      out.write("function getSetQuarter(input) {\r\n");
      out.write("return input == null\r\n");
      out.write("? Math.ceil((this.month() + 1) / 3)\r\n");
      out.write(": this.month((input - 1) * 3 + (this.month() % 3));\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// FORMATTING\r\n");
      out.write("\r\n");
      out.write("addFormatToken('D', ['DD', 2], 'Do', 'date');\r\n");
      out.write("\r\n");
      out.write("// ALIASES\r\n");
      out.write("\r\n");
      out.write("addUnitAlias('date', 'D');\r\n");
      out.write("\r\n");
      out.write("// PRIORITY\r\n");
      out.write("addUnitPriority('date', 9);\r\n");
      out.write("\r\n");
      out.write("// PARSING\r\n");
      out.write("\r\n");
      out.write("addRegexToken('D', match1to2);\r\n");
      out.write("addRegexToken('DD', match1to2, match2);\r\n");
      out.write("addRegexToken('Do', function (isStrict, locale) {\r\n");
      out.write("// TODO: Remove \"ordinalParse\" fallback in next major release.\r\n");
      out.write("return isStrict\r\n");
      out.write("? locale._dayOfMonthOrdinalParse || locale._ordinalParse\r\n");
      out.write(": locale._dayOfMonthOrdinalParseLenient;\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("addParseToken(['D', 'DD'], DATE);\r\n");
      out.write("addParseToken('Do', function (input, array) {\r\n");
      out.write("array[DATE] = toInt(input.match(match1to2)[0]);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("// MOMENTS\r\n");
      out.write("\r\n");
      out.write("var getSetDayOfMonth = makeGetSet('Date', true);\r\n");
      out.write("\r\n");
      out.write("// FORMATTING\r\n");
      out.write("\r\n");
      out.write("addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\r\n");
      out.write("\r\n");
      out.write("// ALIASES\r\n");
      out.write("\r\n");
      out.write("addUnitAlias('dayOfYear', 'DDD');\r\n");
      out.write("\r\n");
      out.write("// PRIORITY\r\n");
      out.write("addUnitPriority('dayOfYear', 4);\r\n");
      out.write("\r\n");
      out.write("// PARSING\r\n");
      out.write("\r\n");
      out.write("addRegexToken('DDD', match1to3);\r\n");
      out.write("addRegexToken('DDDD', match3);\r\n");
      out.write("addParseToken(['DDD', 'DDDD'], function (input, array, config) {\r\n");
      out.write("config._dayOfYear = toInt(input);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("// HELPERS\r\n");
      out.write("\r\n");
      out.write("// MOMENTS\r\n");
      out.write("\r\n");
      out.write("function getSetDayOfYear(input) {\r\n");
      out.write("var dayOfYear =\r\n");
      out.write("Math.round(\r\n");
      out.write("(this.clone().startOf('day') - this.clone().startOf('year')) / 864e5\r\n");
      out.write(") + 1;\r\n");
      out.write("return input == null ? dayOfYear : this.add(input - dayOfYear, 'd');\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// FORMATTING\r\n");
      out.write("\r\n");
      out.write("addFormatToken('m', ['mm', 2], 0, 'minute');\r\n");
      out.write("\r\n");
      out.write("// ALIASES\r\n");
      out.write("\r\n");
      out.write("addUnitAlias('minute', 'm');\r\n");
      out.write("\r\n");
      out.write("// PRIORITY\r\n");
      out.write("\r\n");
      out.write("addUnitPriority('minute', 14);\r\n");
      out.write("\r\n");
      out.write("// PARSING\r\n");
      out.write("\r\n");
      out.write("addRegexToken('m', match1to2);\r\n");
      out.write("addRegexToken('mm', match1to2, match2);\r\n");
      out.write("addParseToken(['m', 'mm'], MINUTE);\r\n");
      out.write("\r\n");
      out.write("// MOMENTS\r\n");
      out.write("\r\n");
      out.write("var getSetMinute = makeGetSet('Minutes', false);\r\n");
      out.write("\r\n");
      out.write("// FORMATTING\r\n");
      out.write("\r\n");
      out.write("addFormatToken('s', ['ss', 2], 0, 'second');\r\n");
      out.write("\r\n");
      out.write("// ALIASES\r\n");
      out.write("\r\n");
      out.write("addUnitAlias('second', 's');\r\n");
      out.write("\r\n");
      out.write("// PRIORITY\r\n");
      out.write("\r\n");
      out.write("addUnitPriority('second', 15);\r\n");
      out.write("\r\n");
      out.write("// PARSING\r\n");
      out.write("\r\n");
      out.write("addRegexToken('s', match1to2);\r\n");
      out.write("addRegexToken('ss', match1to2, match2);\r\n");
      out.write("addParseToken(['s', 'ss'], SECOND);\r\n");
      out.write("\r\n");
      out.write("// MOMENTS\r\n");
      out.write("\r\n");
      out.write("var getSetSecond = makeGetSet('Seconds', false);\r\n");
      out.write("\r\n");
      out.write("// FORMATTING\r\n");
      out.write("\r\n");
      out.write("addFormatToken('S', 0, 0, function () {\r\n");
      out.write("return ~~(this.millisecond() / 100);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("addFormatToken(0, ['SS', 2], 0, function () {\r\n");
      out.write("return ~~(this.millisecond() / 10);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("addFormatToken(0, ['SSS', 3], 0, 'millisecond');\r\n");
      out.write("addFormatToken(0, ['SSSS', 4], 0, function () {\r\n");
      out.write("return this.millisecond() * 10;\r\n");
      out.write("});\r\n");
      out.write("addFormatToken(0, ['SSSSS', 5], 0, function () {\r\n");
      out.write("return this.millisecond() * 100;\r\n");
      out.write("});\r\n");
      out.write("addFormatToken(0, ['SSSSSS', 6], 0, function () {\r\n");
      out.write("return this.millisecond() * 1000;\r\n");
      out.write("});\r\n");
      out.write("addFormatToken(0, ['SSSSSSS', 7], 0, function () {\r\n");
      out.write("return this.millisecond() * 10000;\r\n");
      out.write("});\r\n");
      out.write("addFormatToken(0, ['SSSSSSSS', 8], 0, function () {\r\n");
      out.write("return this.millisecond() * 100000;\r\n");
      out.write("});\r\n");
      out.write("addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\r\n");
      out.write("return this.millisecond() * 1000000;\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("// ALIASES\r\n");
      out.write("\r\n");
      out.write("addUnitAlias('millisecond', 'ms');\r\n");
      out.write("\r\n");
      out.write("// PRIORITY\r\n");
      out.write("\r\n");
      out.write("addUnitPriority('millisecond', 16);\r\n");
      out.write("\r\n");
      out.write("// PARSING\r\n");
      out.write("\r\n");
      out.write("addRegexToken('S', match1to3, match1);\r\n");
      out.write("addRegexToken('SS', match1to3, match2);\r\n");
      out.write("addRegexToken('SSS', match1to3, match3);\r\n");
      out.write("\r\n");
      out.write("var token, getSetMillisecond;\r\n");
      out.write("for (token = 'SSSS'; token.length <= 9; token += 'S') {\r\n");
      out.write("addRegexToken(token, matchUnsigned);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function parseMs(input, array) {\r\n");
      out.write("array[MILLISECOND] = toInt(('0.' + input) * 1000);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("for (token = 'S'; token.length <= 9; token += 'S') {\r\n");
      out.write("addParseToken(token, parseMs);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("getSetMillisecond = makeGetSet('Milliseconds', false);\r\n");
      out.write("\r\n");
      out.write("// FORMATTING\r\n");
      out.write("\r\n");
      out.write("addFormatToken('z', 0, 0, 'zoneAbbr');\r\n");
      out.write("addFormatToken('zz', 0, 0, 'zoneName');\r\n");
      out.write("\r\n");
      out.write("// MOMENTS\r\n");
      out.write("\r\n");
      out.write("function getZoneAbbr() {\r\n");
      out.write("return this._isUTC ? 'UTC' : '';\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getZoneName() {\r\n");
      out.write("return this._isUTC ? 'Coordinated Universal Time' : '';\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var proto = Moment.prototype;\r\n");
      out.write("\r\n");
      out.write("proto.add = add;\r\n");
      out.write("proto.calendar = calendar$1;\r\n");
      out.write("proto.clone = clone;\r\n");
      out.write("proto.diff = diff;\r\n");
      out.write("proto.endOf = endOf;\r\n");
      out.write("proto.format = format;\r\n");
      out.write("proto.from = from;\r\n");
      out.write("proto.fromNow = fromNow;\r\n");
      out.write("proto.to = to;\r\n");
      out.write("proto.toNow = toNow;\r\n");
      out.write("proto.get = stringGet;\r\n");
      out.write("proto.invalidAt = invalidAt;\r\n");
      out.write("proto.isAfter = isAfter;\r\n");
      out.write("proto.isBefore = isBefore;\r\n");
      out.write("proto.isBetween = isBetween;\r\n");
      out.write("proto.isSame = isSame;\r\n");
      out.write("proto.isSameOrAfter = isSameOrAfter;\r\n");
      out.write("proto.isSameOrBefore = isSameOrBefore;\r\n");
      out.write("proto.isValid = isValid$2;\r\n");
      out.write("proto.lang = lang;\r\n");
      out.write("proto.locale = locale;\r\n");
      out.write("proto.localeData = localeData;\r\n");
      out.write("proto.max = prototypeMax;\r\n");
      out.write("proto.min = prototypeMin;\r\n");
      out.write("proto.parsingFlags = parsingFlags;\r\n");
      out.write("proto.set = stringSet;\r\n");
      out.write("proto.startOf = startOf;\r\n");
      out.write("proto.subtract = subtract;\r\n");
      out.write("proto.toArray = toArray;\r\n");
      out.write("proto.toObject = toObject;\r\n");
      out.write("proto.toDate = toDate;\r\n");
      out.write("proto.toISOString = toISOString;\r\n");
      out.write("proto.inspect = inspect;\r\n");
      out.write("if (typeof Symbol !== 'undefined' && Symbol.for != null) {\r\n");
      out.write("proto[Symbol.for('nodejs.util.inspect.custom')] = function () {\r\n");
      out.write("return 'Moment<' + this.format() + '>';\r\n");
      out.write("};\r\n");
      out.write("}\r\n");
      out.write("proto.toJSON = toJSON;\r\n");
      out.write("proto.toString = toString;\r\n");
      out.write("proto.unix = unix;\r\n");
      out.write("proto.valueOf = valueOf;\r\n");
      out.write("proto.creationData = creationData;\r\n");
      out.write("proto.eraName = getEraName;\r\n");
      out.write("proto.eraNarrow = getEraNarrow;\r\n");
      out.write("proto.eraAbbr = getEraAbbr;\r\n");
      out.write("proto.eraYear = getEraYear;\r\n");
      out.write("proto.year = getSetYear;\r\n");
      out.write("proto.isLeapYear = getIsLeapYear;\r\n");
      out.write("proto.weekYear = getSetWeekYear;\r\n");
      out.write("proto.isoWeekYear = getSetISOWeekYear;\r\n");
      out.write("proto.quarter = proto.quarters = getSetQuarter;\r\n");
      out.write("proto.month = getSetMonth;\r\n");
      out.write("proto.daysInMonth = getDaysInMonth;\r\n");
      out.write("proto.week = proto.weeks = getSetWeek;\r\n");
      out.write("proto.isoWeek = proto.isoWeeks = getSetISOWeek;\r\n");
      out.write("proto.weeksInYear = getWeeksInYear;\r\n");
      out.write("proto.weeksInWeekYear = getWeeksInWeekYear;\r\n");
      out.write("proto.isoWeeksInYear = getISOWeeksInYear;\r\n");
      out.write("proto.isoWeeksInISOWeekYear = getISOWeeksInISOWeekYear;\r\n");
      out.write("proto.date = getSetDayOfMonth;\r\n");
      out.write("proto.day = proto.days = getSetDayOfWeek;\r\n");
      out.write("proto.weekday = getSetLocaleDayOfWeek;\r\n");
      out.write("proto.isoWeekday = getSetISODayOfWeek;\r\n");
      out.write("proto.dayOfYear = getSetDayOfYear;\r\n");
      out.write("proto.hour = proto.hours = getSetHour;\r\n");
      out.write("proto.minute = proto.minutes = getSetMinute;\r\n");
      out.write("proto.second = proto.seconds = getSetSecond;\r\n");
      out.write("proto.millisecond = proto.milliseconds = getSetMillisecond;\r\n");
      out.write("proto.utcOffset = getSetOffset;\r\n");
      out.write("proto.utc = setOffsetToUTC;\r\n");
      out.write("proto.local = setOffsetToLocal;\r\n");
      out.write("proto.parseZone = setOffsetToParsedOffset;\r\n");
      out.write("proto.hasAlignedHourOffset = hasAlignedHourOffset;\r\n");
      out.write("proto.isDST = isDaylightSavingTime;\r\n");
      out.write("proto.isLocal = isLocal;\r\n");
      out.write("proto.isUtcOffset = isUtcOffset;\r\n");
      out.write("proto.isUtc = isUtc;\r\n");
      out.write("proto.isUTC = isUtc;\r\n");
      out.write("proto.zoneAbbr = getZoneAbbr;\r\n");
      out.write("proto.zoneName = getZoneName;\r\n");
      out.write("proto.dates = deprecate(\r\n");
      out.write("'dates accessor is deprecated. Use date instead.',\r\n");
      out.write("getSetDayOfMonth\r\n");
      out.write(");\r\n");
      out.write("proto.months = deprecate(\r\n");
      out.write("'months accessor is deprecated. Use month instead',\r\n");
      out.write("getSetMonth\r\n");
      out.write(");\r\n");
      out.write("proto.years = deprecate(\r\n");
      out.write("'years accessor is deprecated. Use year instead',\r\n");
      out.write("getSetYear\r\n");
      out.write(");\r\n");
      out.write("proto.zone = deprecate(\r\n");
      out.write("'moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/',\r\n");
      out.write("getSetZone\r\n");
      out.write(");\r\n");
      out.write("proto.isDSTShifted = deprecate(\r\n");
      out.write("'isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information',\r\n");
      out.write("isDaylightSavingTimeShifted\r\n");
      out.write(");\r\n");
      out.write("\r\n");
      out.write("function createUnix(input) {\r\n");
      out.write("return createLocal(input * 1000);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function createInZone() {\r\n");
      out.write("return createLocal.apply(null, arguments).parseZone();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function preParsePostFormat(string) {\r\n");
      out.write("return string;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var proto$1 = Locale.prototype;\r\n");
      out.write("\r\n");
      out.write("proto$1.calendar = calendar;\r\n");
      out.write("proto$1.longDateFormat = longDateFormat;\r\n");
      out.write("proto$1.invalidDate = invalidDate;\r\n");
      out.write("proto$1.ordinal = ordinal;\r\n");
      out.write("proto$1.preparse = preParsePostFormat;\r\n");
      out.write("proto$1.postformat = preParsePostFormat;\r\n");
      out.write("proto$1.relativeTime = relativeTime;\r\n");
      out.write("proto$1.pastFuture = pastFuture;\r\n");
      out.write("proto$1.set = set;\r\n");
      out.write("proto$1.eras = localeEras;\r\n");
      out.write("proto$1.erasParse = localeErasParse;\r\n");
      out.write("proto$1.erasConvertYear = localeErasConvertYear;\r\n");
      out.write("proto$1.erasAbbrRegex = erasAbbrRegex;\r\n");
      out.write("proto$1.erasNameRegex = erasNameRegex;\r\n");
      out.write("proto$1.erasNarrowRegex = erasNarrowRegex;\r\n");
      out.write("\r\n");
      out.write("proto$1.months = localeMonths;\r\n");
      out.write("proto$1.monthsShort = localeMonthsShort;\r\n");
      out.write("proto$1.monthsParse = localeMonthsParse;\r\n");
      out.write("proto$1.monthsRegex = monthsRegex;\r\n");
      out.write("proto$1.monthsShortRegex = monthsShortRegex;\r\n");
      out.write("proto$1.week = localeWeek;\r\n");
      out.write("proto$1.firstDayOfYear = localeFirstDayOfYear;\r\n");
      out.write("proto$1.firstDayOfWeek = localeFirstDayOfWeek;\r\n");
      out.write("\r\n");
      out.write("proto$1.weekdays = localeWeekdays;\r\n");
      out.write("proto$1.weekdaysMin = localeWeekdaysMin;\r\n");
      out.write("proto$1.weekdaysShort = localeWeekdaysShort;\r\n");
      out.write("proto$1.weekdaysParse = localeWeekdaysParse;\r\n");
      out.write("\r\n");
      out.write("proto$1.weekdaysRegex = weekdaysRegex;\r\n");
      out.write("proto$1.weekdaysShortRegex = weekdaysShortRegex;\r\n");
      out.write("proto$1.weekdaysMinRegex = weekdaysMinRegex;\r\n");
      out.write("\r\n");
      out.write("proto$1.isPM = localeIsPM;\r\n");
      out.write("proto$1.meridiem = localeMeridiem;\r\n");
      out.write("\r\n");
      out.write("function get$1(format, index, field, setter) {\r\n");
      out.write("var locale = getLocale(),\r\n");
      out.write("utc = createUTC().set(setter, index);\r\n");
      out.write("return locale[field](utc, format);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function listMonthsImpl(format, index, field) {\r\n");
      out.write("if (isNumber(format)) {\r\n");
      out.write("index = format;\r\n");
      out.write("format = undefined;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("format = format || '';\r\n");
      out.write("\r\n");
      out.write("if (index != null) {\r\n");
      out.write("return get$1(format, index, field, 'month');\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var i,\r\n");
      out.write("out = [];\r\n");
      out.write("for (i = 0; i < 12; i++) {\r\n");
      out.write("out[i] = get$1(format, i, field, 'month');\r\n");
      out.write("}\r\n");
      out.write("return out;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// ()\r\n");
      out.write("// (5)\r\n");
      out.write("// (fmt, 5)\r\n");
      out.write("// (fmt)\r\n");
      out.write("// (true)\r\n");
      out.write("// (true, 5)\r\n");
      out.write("// (true, fmt, 5)\r\n");
      out.write("// (true, fmt)\r\n");
      out.write("function listWeekdaysImpl(localeSorted, format, index, field) {\r\n");
      out.write("if (typeof localeSorted === 'boolean') {\r\n");
      out.write("if (isNumber(format)) {\r\n");
      out.write("index = format;\r\n");
      out.write("format = undefined;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("format = format || '';\r\n");
      out.write("} else {\r\n");
      out.write("format = localeSorted;\r\n");
      out.write("index = format;\r\n");
      out.write("localeSorted = false;\r\n");
      out.write("\r\n");
      out.write("if (isNumber(format)) {\r\n");
      out.write("index = format;\r\n");
      out.write("format = undefined;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("format = format || '';\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var locale = getLocale(),\r\n");
      out.write("shift = localeSorted ? locale._week.dow : 0,\r\n");
      out.write("i,\r\n");
      out.write("out = [];\r\n");
      out.write("\r\n");
      out.write("if (index != null) {\r\n");
      out.write("return get$1(format, (index + shift) % 7, field, 'day');\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("for (i = 0; i < 7; i++) {\r\n");
      out.write("out[i] = get$1(format, (i + shift) % 7, field, 'day');\r\n");
      out.write("}\r\n");
      out.write("return out;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function listMonths(format, index) {\r\n");
      out.write("return listMonthsImpl(format, index, 'months');\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function listMonthsShort(format, index) {\r\n");
      out.write("return listMonthsImpl(format, index, 'monthsShort');\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function listWeekdays(localeSorted, format, index) {\r\n");
      out.write("return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function listWeekdaysShort(localeSorted, format, index) {\r\n");
      out.write("return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function listWeekdaysMin(localeSorted, format, index) {\r\n");
      out.write("return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("getSetGlobalLocale('en', {\r\n");
      out.write("eras: [\r\n");
      out.write("{\r\n");
      out.write("since: '0001-01-01',\r\n");
      out.write("until: +Infinity,\r\n");
      out.write("offset: 1,\r\n");
      out.write("name: 'Anno Domini',\r\n");
      out.write("narrow: 'AD',\r\n");
      out.write("abbr: 'AD',\r\n");
      out.write("},\r\n");
      out.write("{\r\n");
      out.write("since: '0000-12-31',\r\n");
      out.write("until: -Infinity,\r\n");
      out.write("offset: 1,\r\n");
      out.write("name: 'Before Christ',\r\n");
      out.write("narrow: 'BC',\r\n");
      out.write("abbr: 'BC',\r\n");
      out.write("},\r\n");
      out.write("],\r\n");
      out.write("dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\r\n");
      out.write("ordinal: function (number) {\r\n");
      out.write("var b = number % 10,\r\n");
      out.write("output =\r\n");
      out.write("toInt((number % 100) / 10) === 1\r\n");
      out.write("? 'th'\r\n");
      out.write(": b === 1\r\n");
      out.write("? 'st'\r\n");
      out.write(": b === 2\r\n");
      out.write("? 'nd'\r\n");
      out.write(": b === 3\r\n");
      out.write("? 'rd'\r\n");
      out.write(": 'th';\r\n");
      out.write("return number + output;\r\n");
      out.write("},\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("// Side effect imports\r\n");
      out.write("\r\n");
      out.write("hooks.lang = deprecate(\r\n");
      out.write("'moment.lang is deprecated. Use moment.locale instead.',\r\n");
      out.write("getSetGlobalLocale\r\n");
      out.write(");\r\n");
      out.write("hooks.langData = deprecate(\r\n");
      out.write("'moment.langData is deprecated. Use moment.localeData instead.',\r\n");
      out.write("getLocale\r\n");
      out.write(");\r\n");
      out.write("\r\n");
      out.write("var mathAbs = Math.abs;\r\n");
      out.write("\r\n");
      out.write("function abs() {\r\n");
      out.write("var data = this._data;\r\n");
      out.write("\r\n");
      out.write("this._milliseconds = mathAbs(this._milliseconds);\r\n");
      out.write("this._days = mathAbs(this._days);\r\n");
      out.write("this._months = mathAbs(this._months);\r\n");
      out.write("\r\n");
      out.write("data.milliseconds = mathAbs(data.milliseconds);\r\n");
      out.write("data.seconds = mathAbs(data.seconds);\r\n");
      out.write("data.minutes = mathAbs(data.minutes);\r\n");
      out.write("data.hours = mathAbs(data.hours);\r\n");
      out.write("data.months = mathAbs(data.months);\r\n");
      out.write("data.years = mathAbs(data.years);\r\n");
      out.write("\r\n");
      out.write("return this;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function addSubtract$1(duration, input, value, direction) {\r\n");
      out.write("var other = createDuration(input, value);\r\n");
      out.write("\r\n");
      out.write("duration._milliseconds += direction * other._milliseconds;\r\n");
      out.write("duration._days += direction * other._days;\r\n");
      out.write("duration._months += direction * other._months;\r\n");
      out.write("\r\n");
      out.write("return duration._bubble();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// supports only 2.0-style add(1, 's') or add(duration)\r\n");
      out.write("function add$1(input, value) {\r\n");
      out.write("return addSubtract$1(this, input, value, 1);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// supports only 2.0-style subtract(1, 's') or subtract(duration)\r\n");
      out.write("function subtract$1(input, value) {\r\n");
      out.write("return addSubtract$1(this, input, value, -1);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function absCeil(number) {\r\n");
      out.write("if (number < 0) {\r\n");
      out.write("return Math.floor(number);\r\n");
      out.write("} else {\r\n");
      out.write("return Math.ceil(number);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function bubble() {\r\n");
      out.write("var milliseconds = this._milliseconds,\r\n");
      out.write("days = this._days,\r\n");
      out.write("months = this._months,\r\n");
      out.write("data = this._data,\r\n");
      out.write("seconds,\r\n");
      out.write("minutes,\r\n");
      out.write("hours,\r\n");
      out.write("years,\r\n");
      out.write("monthsFromDays;\r\n");
      out.write("\r\n");
      out.write("// if we have a mix of positive and negative values, bubble down first\r\n");
      out.write("// check: https://github.com/moment/moment/issues/2166\r\n");
      out.write("if (\r\n");
      out.write("!(\r\n");
      out.write("(milliseconds >= 0 && days >= 0 && months >= 0) ||\r\n");
      out.write("(milliseconds <= 0 && days <= 0 && months <= 0)\r\n");
      out.write(")\r\n");
      out.write(") {\r\n");
      out.write("milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\r\n");
      out.write("days = 0;\r\n");
      out.write("months = 0;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// The following code bubbles up values, see the tests for\r\n");
      out.write("// examples of what that means.\r\n");
      out.write("data.milliseconds = milliseconds % 1000;\r\n");
      out.write("\r\n");
      out.write("seconds = absFloor(milliseconds / 1000);\r\n");
      out.write("data.seconds = seconds % 60;\r\n");
      out.write("\r\n");
      out.write("minutes = absFloor(seconds / 60);\r\n");
      out.write("data.minutes = minutes % 60;\r\n");
      out.write("\r\n");
      out.write("hours = absFloor(minutes / 60);\r\n");
      out.write("data.hours = hours % 24;\r\n");
      out.write("\r\n");
      out.write("days += absFloor(hours / 24);\r\n");
      out.write("\r\n");
      out.write("// convert days to months\r\n");
      out.write("monthsFromDays = absFloor(daysToMonths(days));\r\n");
      out.write("months += monthsFromDays;\r\n");
      out.write("days -= absCeil(monthsToDays(monthsFromDays));\r\n");
      out.write("\r\n");
      out.write("// 12 months -> 1 year\r\n");
      out.write("years = absFloor(months / 12);\r\n");
      out.write("months %= 12;\r\n");
      out.write("\r\n");
      out.write("data.days = days;\r\n");
      out.write("data.months = months;\r\n");
      out.write("data.years = years;\r\n");
      out.write("\r\n");
      out.write("return this;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function daysToMonths(days) {\r\n");
      out.write("// 400 years have 146097 days (taking into account leap year rules)\r\n");
      out.write("// 400 years have 12 months === 4800\r\n");
      out.write("return (days * 4800) / 146097;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function monthsToDays(months) {\r\n");
      out.write("// the reverse of daysToMonths\r\n");
      out.write("return (months * 146097) / 4800;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function as(units) {\r\n");
      out.write("if (!this.isValid()) {\r\n");
      out.write("return NaN;\r\n");
      out.write("}\r\n");
      out.write("var days,\r\n");
      out.write("months,\r\n");
      out.write("milliseconds = this._milliseconds;\r\n");
      out.write("\r\n");
      out.write("units = normalizeUnits(units);\r\n");
      out.write("\r\n");
      out.write("if (units === 'month' || units === 'quarter' || units === 'year') {\r\n");
      out.write("days = this._days + milliseconds / 864e5;\r\n");
      out.write("months = this._months + daysToMonths(days);\r\n");
      out.write("switch (units) {\r\n");
      out.write("case 'month':\r\n");
      out.write("return months;\r\n");
      out.write("case 'quarter':\r\n");
      out.write("return months / 3;\r\n");
      out.write("case 'year':\r\n");
      out.write("return months / 12;\r\n");
      out.write("}\r\n");
      out.write("} else {\r\n");
      out.write("// handle milliseconds separately because of floating point math errors (issue #1867)\r\n");
      out.write("days = this._days + Math.round(monthsToDays(this._months));\r\n");
      out.write("switch (units) {\r\n");
      out.write("case 'week':\r\n");
      out.write("return days / 7 + milliseconds / 6048e5;\r\n");
      out.write("case 'day':\r\n");
      out.write("return days + milliseconds / 864e5;\r\n");
      out.write("case 'hour':\r\n");
      out.write("return days * 24 + milliseconds / 36e5;\r\n");
      out.write("case 'minute':\r\n");
      out.write("return days * 1440 + milliseconds / 6e4;\r\n");
      out.write("case 'second':\r\n");
      out.write("return days * 86400 + milliseconds / 1000;\r\n");
      out.write("// Math.floor prevents floating point math errors here\r\n");
      out.write("case 'millisecond':\r\n");
      out.write("return Math.floor(days * 864e5) + milliseconds;\r\n");
      out.write("default:\r\n");
      out.write("throw new Error('Unknown unit ' + units);\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// TODO: Use this.as('ms')?\r\n");
      out.write("function valueOf$1() {\r\n");
      out.write("if (!this.isValid()) {\r\n");
      out.write("return NaN;\r\n");
      out.write("}\r\n");
      out.write("return (\r\n");
      out.write("this._milliseconds +\r\n");
      out.write("this._days * 864e5 +\r\n");
      out.write("(this._months % 12) * 2592e6 +\r\n");
      out.write("toInt(this._months / 12) * 31536e6\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function makeAs(alias) {\r\n");
      out.write("return function () {\r\n");
      out.write("return this.as(alias);\r\n");
      out.write("};\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var asMilliseconds = makeAs('ms'),\r\n");
      out.write("asSeconds = makeAs('s'),\r\n");
      out.write("asMinutes = makeAs('m'),\r\n");
      out.write("asHours = makeAs('h'),\r\n");
      out.write("asDays = makeAs('d'),\r\n");
      out.write("asWeeks = makeAs('w'),\r\n");
      out.write("asMonths = makeAs('M'),\r\n");
      out.write("asQuarters = makeAs('Q'),\r\n");
      out.write("asYears = makeAs('y');\r\n");
      out.write("\r\n");
      out.write("function clone$1() {\r\n");
      out.write("return createDuration(this);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function get$2(units) {\r\n");
      out.write("units = normalizeUnits(units);\r\n");
      out.write("return this.isValid() ? this[units + 's']() : NaN;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function makeGetter(name) {\r\n");
      out.write("return function () {\r\n");
      out.write("return this.isValid() ? this._data[name] : NaN;\r\n");
      out.write("};\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var milliseconds = makeGetter('milliseconds'),\r\n");
      out.write("seconds = makeGetter('seconds'),\r\n");
      out.write("minutes = makeGetter('minutes'),\r\n");
      out.write("hours = makeGetter('hours'),\r\n");
      out.write("days = makeGetter('days'),\r\n");
      out.write("months = makeGetter('months'),\r\n");
      out.write("years = makeGetter('years');\r\n");
      out.write("\r\n");
      out.write("function weeks() {\r\n");
      out.write("return absFloor(this.days() / 7);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var round = Math.round,\r\n");
      out.write("thresholds = {\r\n");
      out.write("ss: 44, // a few seconds to seconds\r\n");
      out.write("s: 45, // seconds to minute\r\n");
      out.write("m: 45, // minutes to hour\r\n");
      out.write("h: 22, // hours to day\r\n");
      out.write("d: 26, // days to month/week\r\n");
      out.write("w: null, // weeks to month\r\n");
      out.write("M: 11, // months to year\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("// helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\r\n");
      out.write("function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\r\n");
      out.write("return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function relativeTime$1(posNegDuration, withoutSuffix, thresholds, locale) {\r\n");
      out.write("var duration = createDuration(posNegDuration).abs(),\r\n");
      out.write("seconds = round(duration.as('s')),\r\n");
      out.write("minutes = round(duration.as('m')),\r\n");
      out.write("hours = round(duration.as('h')),\r\n");
      out.write("days = round(duration.as('d')),\r\n");
      out.write("months = round(duration.as('M')),\r\n");
      out.write("weeks = round(duration.as('w')),\r\n");
      out.write("years = round(duration.as('y')),\r\n");
      out.write("a =\r\n");
      out.write("(seconds <= thresholds.ss && ['s', seconds]) ||\r\n");
      out.write("(seconds < thresholds.s && ['ss', seconds]) ||\r\n");
      out.write("(minutes <= 1 && ['m']) ||\r\n");
      out.write("(minutes < thresholds.m && ['mm', minutes]) ||\r\n");
      out.write("(hours <= 1 && ['h']) ||\r\n");
      out.write("(hours < thresholds.h && ['hh', hours]) ||\r\n");
      out.write("(days <= 1 && ['d']) ||\r\n");
      out.write("(days < thresholds.d && ['dd', days]);\r\n");
      out.write("\r\n");
      out.write("if (thresholds.w != null) {\r\n");
      out.write("a =\r\n");
      out.write("a ||\r\n");
      out.write("(weeks <= 1 && ['w']) ||\r\n");
      out.write("(weeks < thresholds.w && ['ww', weeks]);\r\n");
      out.write("}\r\n");
      out.write("a = a ||\r\n");
      out.write("(months <= 1 && ['M']) ||\r\n");
      out.write("(months < thresholds.M && ['MM', months]) ||\r\n");
      out.write("(years <= 1 && ['y']) || ['yy', years];\r\n");
      out.write("\r\n");
      out.write("a[2] = withoutSuffix;\r\n");
      out.write("a[3] = +posNegDuration > 0;\r\n");
      out.write("a[4] = locale;\r\n");
      out.write("return substituteTimeAgo.apply(null, a);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// This function allows you to set the rounding function for relative time strings\r\n");
      out.write("function getSetRelativeTimeRounding(roundingFunction) {\r\n");
      out.write("if (roundingFunction === undefined) {\r\n");
      out.write("return round;\r\n");
      out.write("}\r\n");
      out.write("if (typeof roundingFunction === 'function') {\r\n");
      out.write("round = roundingFunction;\r\n");
      out.write("return true;\r\n");
      out.write("}\r\n");
      out.write("return false;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// This function allows you to set a threshold for relative time strings\r\n");
      out.write("function getSetRelativeTimeThreshold(threshold, limit) {\r\n");
      out.write("if (thresholds[threshold] === undefined) {\r\n");
      out.write("return false;\r\n");
      out.write("}\r\n");
      out.write("if (limit === undefined) {\r\n");
      out.write("return thresholds[threshold];\r\n");
      out.write("}\r\n");
      out.write("thresholds[threshold] = limit;\r\n");
      out.write("if (threshold === 's') {\r\n");
      out.write("thresholds.ss = limit - 1;\r\n");
      out.write("}\r\n");
      out.write("return true;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function humanize(argWithSuffix, argThresholds) {\r\n");
      out.write("if (!this.isValid()) {\r\n");
      out.write("return this.localeData().invalidDate();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var withSuffix = false,\r\n");
      out.write("th = thresholds,\r\n");
      out.write("locale,\r\n");
      out.write("output;\r\n");
      out.write("\r\n");
      out.write("if (typeof argWithSuffix === 'object') {\r\n");
      out.write("argThresholds = argWithSuffix;\r\n");
      out.write("argWithSuffix = false;\r\n");
      out.write("}\r\n");
      out.write("if (typeof argWithSuffix === 'boolean') {\r\n");
      out.write("withSuffix = argWithSuffix;\r\n");
      out.write("}\r\n");
      out.write("if (typeof argThresholds === 'object') {\r\n");
      out.write("th = Object.assign({}, thresholds, argThresholds);\r\n");
      out.write("if (argThresholds.s != null && argThresholds.ss == null) {\r\n");
      out.write("th.ss = argThresholds.s - 1;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("locale = this.localeData();\r\n");
      out.write("output = relativeTime$1(this, !withSuffix, th, locale);\r\n");
      out.write("\r\n");
      out.write("if (withSuffix) {\r\n");
      out.write("output = locale.pastFuture(+this, output);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("return locale.postformat(output);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var abs$1 = Math.abs;\r\n");
      out.write("\r\n");
      out.write("function sign(x) {\r\n");
      out.write("return (x > 0) - (x < 0) || +x;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function toISOString$1() {\r\n");
      out.write("// for ISO strings we do not use the normal bubbling rules:\r\n");
      out.write("//  * milliseconds bubble up until they become hours\r\n");
      out.write("//  * days do not bubble at all\r\n");
      out.write("//  * months bubble up until they become years\r\n");
      out.write("// This is because there is no context-free conversion between hours and days\r\n");
      out.write("// (think of clock changes)\r\n");
      out.write("// and also not between days and months (28-31 days per month)\r\n");
      out.write("if (!this.isValid()) {\r\n");
      out.write("return this.localeData().invalidDate();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var seconds = abs$1(this._milliseconds) / 1000,\r\n");
      out.write("days = abs$1(this._days),\r\n");
      out.write("months = abs$1(this._months),\r\n");
      out.write("minutes,\r\n");
      out.write("hours,\r\n");
      out.write("years,\r\n");
      out.write("s,\r\n");
      out.write("total = this.asSeconds(),\r\n");
      out.write("totalSign,\r\n");
      out.write("ymSign,\r\n");
      out.write("daysSign,\r\n");
      out.write("hmsSign;\r\n");
      out.write("\r\n");
      out.write("if (!total) {\r\n");
      out.write("// this is the same as C#'s (Noda) and python (isodate)...\r\n");
      out.write("// but not other JS (goog.date)\r\n");
      out.write("return 'P0D';\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// 3600 seconds -> 60 minutes -> 1 hour\r\n");
      out.write("minutes = absFloor(seconds / 60);\r\n");
      out.write("hours = absFloor(minutes / 60);\r\n");
      out.write("seconds %= 60;\r\n");
      out.write("minutes %= 60;\r\n");
      out.write("\r\n");
      out.write("// 12 months -> 1 year\r\n");
      out.write("years = absFloor(months / 12);\r\n");
      out.write("months %= 12;\r\n");
      out.write("\r\n");
      out.write("// inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\r\n");
      out.write("s = seconds ? seconds.toFixed(3).replace(/\\.?0+$/, '') : '';\r\n");
      out.write("\r\n");
      out.write("totalSign = total < 0 ? '-' : '';\r\n");
      out.write("ymSign = sign(this._months) !== sign(total) ? '-' : '';\r\n");
      out.write("daysSign = sign(this._days) !== sign(total) ? '-' : '';\r\n");
      out.write("hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';\r\n");
      out.write("\r\n");
      out.write("return (\r\n");
      out.write("totalSign +\r\n");
      out.write("'P' +\r\n");
      out.write("(years ? ymSign + years + 'Y' : '') +\r\n");
      out.write("(months ? ymSign + months + 'M' : '') +\r\n");
      out.write("(days ? daysSign + days + 'D' : '') +\r\n");
      out.write("(hours || minutes || seconds ? 'T' : '') +\r\n");
      out.write("(hours ? hmsSign + hours + 'H' : '') +\r\n");
      out.write("(minutes ? hmsSign + minutes + 'M' : '') +\r\n");
      out.write("(seconds ? hmsSign + s + 'S' : '')\r\n");
      out.write(");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var proto$2 = Duration.prototype;\r\n");
      out.write("\r\n");
      out.write("proto$2.isValid = isValid$1;\r\n");
      out.write("proto$2.abs = abs;\r\n");
      out.write("proto$2.add = add$1;\r\n");
      out.write("proto$2.subtract = subtract$1;\r\n");
      out.write("proto$2.as = as;\r\n");
      out.write("proto$2.asMilliseconds = asMilliseconds;\r\n");
      out.write("proto$2.asSeconds = asSeconds;\r\n");
      out.write("proto$2.asMinutes = asMinutes;\r\n");
      out.write("proto$2.asHours = asHours;\r\n");
      out.write("proto$2.asDays = asDays;\r\n");
      out.write("proto$2.asWeeks = asWeeks;\r\n");
      out.write("proto$2.asMonths = asMonths;\r\n");
      out.write("proto$2.asQuarters = asQuarters;\r\n");
      out.write("proto$2.asYears = asYears;\r\n");
      out.write("proto$2.valueOf = valueOf$1;\r\n");
      out.write("proto$2._bubble = bubble;\r\n");
      out.write("proto$2.clone = clone$1;\r\n");
      out.write("proto$2.get = get$2;\r\n");
      out.write("proto$2.milliseconds = milliseconds;\r\n");
      out.write("proto$2.seconds = seconds;\r\n");
      out.write("proto$2.minutes = minutes;\r\n");
      out.write("proto$2.hours = hours;\r\n");
      out.write("proto$2.days = days;\r\n");
      out.write("proto$2.weeks = weeks;\r\n");
      out.write("proto$2.months = months;\r\n");
      out.write("proto$2.years = years;\r\n");
      out.write("proto$2.humanize = humanize;\r\n");
      out.write("proto$2.toISOString = toISOString$1;\r\n");
      out.write("proto$2.toString = toISOString$1;\r\n");
      out.write("proto$2.toJSON = toISOString$1;\r\n");
      out.write("proto$2.locale = locale;\r\n");
      out.write("proto$2.localeData = localeData;\r\n");
      out.write("\r\n");
      out.write("proto$2.toIsoString = deprecate(\r\n");
      out.write("'toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',\r\n");
      out.write("toISOString$1\r\n");
      out.write(");\r\n");
      out.write("proto$2.lang = lang;\r\n");
      out.write("\r\n");
      out.write("// FORMATTING\r\n");
      out.write("\r\n");
      out.write("addFormatToken('X', 0, 0, 'unix');\r\n");
      out.write("addFormatToken('x', 0, 0, 'valueOf');\r\n");
      out.write("\r\n");
      out.write("// PARSING\r\n");
      out.write("\r\n");
      out.write("addRegexToken('x', matchSigned);\r\n");
      out.write("addRegexToken('X', matchTimestamp);\r\n");
      out.write("addParseToken('X', function (input, array, config) {\r\n");
      out.write("config._d = new Date(parseFloat(input) * 1000);\r\n");
      out.write("});\r\n");
      out.write("addParseToken('x', function (input, array, config) {\r\n");
      out.write("config._d = new Date(toInt(input));\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("//! moment.js\r\n");
      out.write("\r\n");
      out.write("hooks.version = '2.26.0';\r\n");
      out.write("\r\n");
      out.write("setHookCallback(createLocal);\r\n");
      out.write("\r\n");
      out.write("hooks.fn = proto;\r\n");
      out.write("hooks.min = min;\r\n");
      out.write("hooks.max = max;\r\n");
      out.write("hooks.now = now;\r\n");
      out.write("hooks.utc = createUTC;\r\n");
      out.write("hooks.unix = createUnix;\r\n");
      out.write("hooks.months = listMonths;\r\n");
      out.write("hooks.isDate = isDate;\r\n");
      out.write("hooks.locale = getSetGlobalLocale;\r\n");
      out.write("hooks.invalid = createInvalid;\r\n");
      out.write("hooks.duration = createDuration;\r\n");
      out.write("hooks.isMoment = isMoment;\r\n");
      out.write("hooks.weekdays = listWeekdays;\r\n");
      out.write("hooks.parseZone = createInZone;\r\n");
      out.write("hooks.localeData = getLocale;\r\n");
      out.write("hooks.isDuration = isDuration;\r\n");
      out.write("hooks.monthsShort = listMonthsShort;\r\n");
      out.write("hooks.weekdaysMin = listWeekdaysMin;\r\n");
      out.write("hooks.defineLocale = defineLocale;\r\n");
      out.write("hooks.updateLocale = updateLocale;\r\n");
      out.write("hooks.locales = listLocales;\r\n");
      out.write("hooks.weekdaysShort = listWeekdaysShort;\r\n");
      out.write("hooks.normalizeUnits = normalizeUnits;\r\n");
      out.write("hooks.relativeTimeRounding = getSetRelativeTimeRounding;\r\n");
      out.write("hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\r\n");
      out.write("hooks.calendarFormat = getCalendarFormat;\r\n");
      out.write("hooks.prototype = proto;\r\n");
      out.write("\r\n");
      out.write("// currently HTML5 input type only supports 24-hour formats\r\n");
      out.write("hooks.HTML5_FMT = {\r\n");
      out.write("DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm', // <input type=\"datetime-local\" />\r\n");
      out.write("DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss', // <input type=\"datetime-local\" step=\"1\" />\r\n");
      out.write("DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS', // <input type=\"datetime-local\" step=\"0.001\" />\r\n");
      out.write("DATE: 'YYYY-MM-DD', // <input type=\"date\" />\r\n");
      out.write("TIME: 'HH:mm', // <input type=\"time\" />\r\n");
      out.write("TIME_SECONDS: 'HH:mm:ss', // <input type=\"time\" step=\"1\" />\r\n");
      out.write("TIME_MS: 'HH:mm:ss.SSS', // <input type=\"time\" step=\"0.001\" />\r\n");
      out.write("WEEK: 'GGGG-[W]WW', // <input type=\"week\" />\r\n");
      out.write("MONTH: 'YYYY-MM', // <input type=\"month\" />\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("return hooks;\r\n");
      out.write("\r\n");
      out.write("})));");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
